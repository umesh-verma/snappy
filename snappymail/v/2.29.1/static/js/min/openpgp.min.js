var openpgp=function(e){"use strict";const t=Symbol("doneWritingPromise"),r=Symbol("doneWritingResolve"),n=Symbol("doneWritingReject"),i=Symbol("readingIndex");class ArrayStream extends Array{constructor(){super(),this[t]=new Promise(((e,t)=>{this[r]=e,this[n]=t})),this[t].catch((()=>{}))}}function a(e){return e&&e.getReader&&Array.isArray(e)}function s(e){if(!a(e)){const t=e.getWriter(),r=t.releaseLock;return t.releaseLock=()=>{t.closed.catch((function(){})),r.call(t)},t}this.stream=e}ArrayStream.prototype.getReader=function(){return void 0===this[i]&&(this[i]=0),{read:async()=>(await this[t],this[i]===this.length?{value:void 0,done:!0}:{value:this[this[i]++],done:!1})}},ArrayStream.prototype.readToEnd=async function(e){await this[t];const r=e(this.slice(this[i]));return this.length=0,r},ArrayStream.prototype.clone=function(){const e=new ArrayStream;return e[t]=this[t].then((()=>{e.push(...this)})),e},s.prototype.write=async function(e){this.stream.push(e)},s.prototype.close=async function(){this.stream[r]()},s.prototype.abort=async function(e){return this.stream[n](e),e},s.prototype.releaseLock=function(){};const o="object"==typeof globalThis.process&&"object"==typeof globalThis.process.versions,c=o&&void 0;function u(e){return a(e)?"array":globalThis.ReadableStream&&globalThis.ReadableStream.prototype.isPrototypeOf(e)?"web":w&&w.prototype.isPrototypeOf(e)?"ponyfill":c&&c.prototype.isPrototypeOf(e)?"node":!(!e||!e.getReader)&&"web-like"}function h(e){return Uint8Array.prototype.isPrototypeOf(e)}function f(e){if(1===e.length)return e[0];let t=0;for(let r=0;r<e.length;r++){if(!h(e[r]))throw new Error("concatUint8Array: Data must be in the form of a Uint8Array");t+=e[r].length}const r=new Uint8Array(t);let n=0;return e.forEach((function(e){r.set(e,n),n+=e.length})),r}const d=o&&void 0;let l;o&&void 0&&(l=function(e){let t=!1;return new w({start(r){e.pause(),e.on("data",(n=>{t||(d.isBuffer(n)&&(n=new Uint8Array(n.buffer,n.byteOffset,n.byteLength)),r.enqueue(n),e.pause())})),e.on("end",(()=>{t||r.close()})),e.on("error",(e=>r.error(e)))},pull(){e.resume()},cancel(r){t=!0,e.destroy(r)}})});const p=new WeakSet,y=Symbol("externalBuffer");function b(e){if(this.stream=e,e[y]&&(this[y]=e[y].slice()),a(e)){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{},void(this._cancel=()=>{})}let t=u(e);if("node"===t&&(e=l(e)),t){const t=e.getReader();return this._read=t.read.bind(t),this._releaseLock=()=>{t.closed.catch((function(){})),t.releaseLock()},void(this._cancel=t.cancel.bind(t))}let r=!1;this._read=async()=>r||p.has(e)?{value:void 0,done:!0}:(r=!0,{value:e,done:!1}),this._releaseLock=()=>{if(r)try{p.add(e)}catch(e){}}}b.prototype.read=async function(){if(this[y]&&this[y].length){return{done:!1,value:this[y].shift()}}return this._read()},b.prototype.releaseLock=function(){this[y]&&(this.stream[y]=this[y]),this._releaseLock()},b.prototype.cancel=function(e){return this._cancel(e)},b.prototype.readLine=async function(){let e,t=[];for(;!e;){let{done:r,value:n}=await this.read();if(n+="",r)return t.length?P(t):void 0;const i=n.indexOf("\n")+1;i&&(e=P(t.concat(n.substr(0,i))),t=[]),i!==n.length&&t.push(n.substr(i))}return this.unshift(...t),e},b.prototype.readByte=async function(){const{done:e,value:t}=await this.read();if(e)return;const r=t[0];return this.unshift(q(t,1)),r},b.prototype.readBytes=async function(e){const t=[];let r=0;for(;;){const{done:n,value:i}=await this.read();if(n)return t.length?P(t):void 0;if(t.push(i),r+=i.length,r>=e){const r=P(t);return this.unshift(q(r,e)),q(r,0,e)}}},b.prototype.peekBytes=async function(e){const t=await this.readBytes(e);return this.unshift(t),t},b.prototype.unshift=function(...e){this[y]||(this[y]=[]),1===e.length&&h(e[0])&&this[y].length&&e[0].length&&this[y][0].byteOffset>=e[0].length?this[y][0]=new Uint8Array(this[y][0].buffer,this[y][0].byteOffset-e[0].length,this[y][0].byteLength+e[0].length):this[y].unshift(...e.filter((e=>e&&e.length)))},b.prototype.readToEnd=async function(e=P){const t=[];for(;;){const{done:e,value:r}=await this.read();if(e)break;t.push(r)}return e(t)};let m,g,{ReadableStream:w,WritableStream:v,TransformStream:_}=globalThis;async function k(){if(_)return;const[e,t]=await Promise.all([Promise.resolve().then((function(){return bd})),Promise.resolve().then((function(){return zd}))]);({ReadableStream:w,WritableStream:v,TransformStream:_}=e);const{createReadableStreamWrapper:r}=t;globalThis.ReadableStream&&w!==globalThis.ReadableStream&&(m=r(w),g=r(globalThis.ReadableStream))}const S=o&&void 0;function A(e){let t=u(e);return"node"===t?l(e):"web"===t&&m?m(e):t?e:new w({start(t){t.enqueue(e),t.close()}})}function E(e){if(u(e))return e;const t=new ArrayStream;return(async()=>{const r=M(t);await r.write(e),await r.close()})(),t}function P(e){return e.some((e=>u(e)&&!a(e)))?function(e){e=e.map(A);const t=D((async function(e){await Promise.all(n.map((t=>F(t,e))))}));let r=Promise.resolve();const n=e.map(((n,i)=>R(n,((n,a)=>(r=r.then((()=>C(n,t.writable,{preventClose:i!==e.length-1}))),r)))));return t.readable}(e):e.some((e=>a(e)))?function(e){const t=new ArrayStream;let r=Promise.resolve();return e.forEach(((n,i)=>(r=r.then((()=>C(n,t,{preventClose:i!==e.length-1}))),r))),t}(e):"string"==typeof e[0]?e.join(""):S&&S.isBuffer(e[0])?S.concat(e):f(e)}function x(e){return new b(e)}function M(e){return new s(e)}async function C(e,t,{preventClose:r=!1,preventAbort:n=!1,preventCancel:i=!1}={}){if(u(e)&&!a(e)){e=A(e);try{if(e[y]){const r=M(t);for(let t=0;t<e[y].length;t++)await r.ready,await r.write(e[y][t]);r.releaseLock()}await e.pipeTo(t,{preventClose:r,preventAbort:n,preventCancel:i})}catch(e){}return}const s=x(e=E(e)),o=M(t);try{for(;;){await o.ready;const{done:e,value:t}=await s.read();if(e){r||await o.close();break}await o.write(t)}}catch(e){n||await o.abort(e)}finally{s.releaseLock(),o.releaseLock()}}function K(e,t){const r=new _(t);return C(e,r.writable),r.readable}function D(e){let t,r,n=!1;return{readable:new w({start(e){r=e},pull(){t?t():n=!0},cancel:e},{highWaterMark:0}),writable:new v({write:async function(e){r.enqueue(e),n?n=!1:(await new Promise((e=>{t=e})),t=null)},close:r.close.bind(r),abort:r.error.bind(r)})}}function I(e,t=(()=>{}),r=(()=>{})){if(a(e)){const n=new ArrayStream;return(async()=>{const i=await O(e),a=t(i),s=r();let o;o=void 0!==a&&void 0!==s?P([a,s]):void 0!==a?a:s;const c=M(n);await c.write(o),await c.close()})(),n}if(u(e))return K(e,{async transform(e,r){try{const n=await t(e);void 0!==n&&r.enqueue(n)}catch(e){r.error(e)}},async flush(e){try{const t=await r();void 0!==t&&e.enqueue(t)}catch(t){e.error(t)}}});const n=t(e),i=r();return void 0!==n&&void 0!==i?P([n,i]):void 0!==n?n:i}function R(e,t){if(u(e)&&!a(e)){let r;const n=new _({start(e){r=e}}),i=C(e,n.writable),a=D((async function(e){r.error(e),await i,await new Promise(setTimeout)}));return t(n.readable,a.writable),a.readable}e=E(e);const r=new ArrayStream;return t(e,r),r}function U(e,t){let r;const n=R(e,((e,i)=>{const a=x(e);a.remainder=()=>(a.releaseLock(),C(e,i),n),r=t(a)}));return r}function B(e){if(a(e))return e.clone();if(u(e)){const t=function(e){if(a(e))throw new Error("ArrayStream cannot be tee()d, use clone() instead");if(u(e)){const t=A(e).tee();return t[0][y]=t[1][y]=e[y],t}return[q(e),q(e)]}(e);return z(e,t[0]),t[1]}return q(e)}function T(e){return a(e)?B(e):u(e)?new w({start(t){const r=R(e,(async(e,r)=>{const n=x(e),i=M(r);try{for(;;){await i.ready;const{done:e,value:r}=await n.read();if(e){try{t.close()}catch(e){}return void await i.close()}try{t.enqueue(r)}catch(e){}await i.write(r)}}catch(e){t.error(e),await i.abort(e)}}));z(e,r)}}):q(e)}function z(e,t){Object.entries(Object.getOwnPropertyDescriptors(e.constructor.prototype)).forEach((([r,n])=>{"constructor"!==r&&(n.value?n.value=n.value.bind(t):n.get=n.get.bind(t),Object.defineProperty(e,r,n))}))}function q(e,t=0,r=1/0){if(a(e))throw new Error("Not implemented");if(u(e)){if(t>=0&&r>=0){let n=0;return K(e,{transform(e,i){n<r?(n+e.length>=t&&i.enqueue(q(e,Math.max(t-n,0),r-n)),n+=e.length):i.terminate()}})}if(t<0&&(r<0||r===1/0)){let n=[];return I(e,(e=>{e.length>=-t?n=[e]:n.push(e)}),(()=>q(P(n),t,r)))}if(0===t&&r<0){let n;return I(e,(e=>{const i=n?P([n,e]):e;if(i.length>=-r)return n=q(i,r),q(i,t,r);n=i}))}return L((async()=>q(await O(e),t,r)))}return e[y]&&(e=P(e[y].concat([e]))),!h(e)||S&&S.isBuffer(e)?e.slice(t,r):(r===1/0&&(r=e.length),e.subarray(t,r))}async function O(e,t=P){return a(e)?e.readToEnd(t):u(e)?x(e).readToEnd(t):e}async function F(e,t){if(u(e)){if(e.cancel)return e.cancel(t);if(e.destroy)return e.destroy(t),await new Promise(setTimeout),t}}function L(e){const t=new ArrayStream;return(async()=>{const r=M(t);try{await r.write(await e()),await r.close()}catch(e){await r.abort(e)}})(),t}class BigInteger$1{constructor(e){if(void 0===e)throw new Error("Invalid BigInteger input");if(e instanceof Uint8Array){const t=e,r=new Array(t.length);for(let e=0;e<t.length;e++){const n=t[e].toString(16);r[e]=t[e]<=15?"0"+n:n}this.value=BigInt("0x0"+r.join(""))}else this.value=BigInt(e)}clone(){return new BigInteger$1(this.value)}iinc(){return this.value++,this}inc(){return this.clone().iinc()}idec(){return this.value--,this}dec(){return this.clone().idec()}iadd(e){return this.value+=e.value,this}add(e){return this.clone().iadd(e)}isub(e){return this.value-=e.value,this}sub(e){return this.clone().isub(e)}imul(e){return this.value*=e.value,this}mul(e){return this.clone().imul(e)}imod(e){return this.value%=e.value,this.isNegative()&&this.iadd(e),this}mod(e){return this.clone().imod(e)}modExp(e,t){if(t.isZero())throw Error("Modulo cannot be zero");if(t.isOne())return new BigInteger$1(0);if(e.isNegative())throw Error("Unsopported negative exponent");let r=e.value,n=this.value;n%=t.value;let i=BigInt(1);for(;r>BigInt(0);){const e=r&BigInt(1);r>>=BigInt(1);const a=i*n%t.value;i=e?a:i,n=n*n%t.value}return new BigInteger$1(i)}modInv(e){const{gcd:t,x:r}=this._egcd(e);if(!t.isOne())throw new Error("Inverse does not exist");return r.add(e).mod(e)}_egcd(e){let t=BigInt(0),r=BigInt(1),n=BigInt(1),i=BigInt(0),a=this.value;for(e=e.value;e!==BigInt(0);){const s=a/e;let o=t;t=n-s*t,n=o,o=r,r=i-s*r,i=o,o=e,e=a%e,a=o}return{x:new BigInteger$1(n),y:new BigInteger$1(i),gcd:new BigInteger$1(a)}}gcd(e){let t=this.value;for(e=e.value;e!==BigInt(0);){const r=e;e=t%e,t=r}return new BigInteger$1(t)}ileftShift(e){return this.value<<=e.value,this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value>>=e.value,this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value===e.value}lt(e){return this.value<e.value}lte(e){return this.value<=e.value}gt(e){return this.value>e.value}gte(e){return this.value>=e.value}isZero(){return this.value===BigInt(0)}isOne(){return this.value===BigInt(1)}isNegative(){return this.value<BigInt(0)}isEven(){return!(this.value&BigInt(1))}abs(){const e=this.clone();return this.isNegative()&&(e.value=-e.value),e}toString(){return this.value.toString()}toNumber(){const e=Number(this.value);if(e>Number.MAX_SAFE_INTEGER)throw new Error("Number can only safely store up to 53 bits");return e}getBit(e){return(this.value>>BigInt(e)&BigInt(1))===BigInt(0)?0:1}bitLength(){const e=new BigInteger$1(0),t=new BigInteger$1(1),r=new BigInteger$1(-1),n=this.isNegative()?r:e;let i=1;const a=this.clone();for(;!a.irightShift(t).equal(n);)i++;return i}byteLength(){const e=new BigInteger$1(0),t=new BigInteger$1(-1),r=this.isNegative()?t:e,n=new BigInteger$1(8);let i=1;const a=this.clone();for(;!a.irightShift(n).equal(r);)i++;return i}toUint8Array(e="be",t){let r=this.value.toString(16);r.length%2==1&&(r="0"+r);const n=r.length/2,i=new Uint8Array(t||n),a=t?t-n:0;let s=0;for(;s<n;)i[s+a]=parseInt(r.slice(2*s,2*s+2),16),s++;return"be"!==e&&i.reverse(),i}}const j={isString:e=>null!=e&&("string"==typeof e||Object.prototype.isPrototypeOf.call(e,String)),isArray:e=>Array.isArray(e),isUint8Array:h,isStream:u,readNumber(e){let t=0;for(let r=0;r<e.length;r++)t+=256**r*e[e.length-1-r];return t},writeNumber(e,t){const r=new Uint8Array(t);for(let n=0;n<t;n++)r[n]=e>>8*(t-n-1)&255;return r},readDate:e=>new Date(1e3*j.readNumber(e)),writeDate:e=>j.writeNumber(Math.floor(e.getTime()/1e3),4),normalizeDate:(e=Date.now())=>null===e||e===1/0?e:new Date(1e3*Math.floor(+e/1e3)),readMPI(e){const t=(e[0]<<8|e[1])+7>>>3;return e.subarray(2,2+t)},leftPad(e,t){const r=new Uint8Array(t);return r.set(e,t-e.length),r},uint8ArrayToMPI(e){const t=j.uint8ArrayBitLength(e);if(0===t)throw new Error("Zero MPI");const r=e.subarray(e.length-Math.ceil(t/8)),n=new Uint8Array([(65280&t)>>8,255&t]);return j.concatUint8Array([n,r])},uint8ArrayBitLength(e){let t;for(t=0;t<e.length&&0===e[t];t++);if(t===e.length)return 0;const r=e.subarray(t);return 8*(r.length-1)+j.nbits(r[0])},hexToUint8Array(e){const t=new Uint8Array(e.length>>1);for(let r=0;r<e.length>>1;r++)t[r]=parseInt(e.substr(r<<1,2),16);return t},uint8ArrayToHex(e){const t=[],r=e.length;let n,i=0;for(;i<r;){for(n=e[i++].toString(16);n.length<2;)n="0"+n;t.push(""+n)}return t.join("")},stringToUint8Array:e=>I(e,(e=>{if(!j.isString(e))throw new Error("stringToUint8Array: Data must be in the form of a string");const t=new Uint8Array(e.length);for(let r=0;r<e.length;r++)t[r]=e.charCodeAt(r);return t})),uint8ArrayToString(e){const t=[],r=16384,n=(e=new Uint8Array(e)).length;for(let i=0;i<n;i+=r)t.push(String.fromCharCode.apply(String,e.subarray(i,i+r<n?i+r:n)));return t.join("")},encodeUTF8(e){const t=new TextEncoder("utf-8");function r(e,r=!1){return t.encode(e,{stream:!r})}return I(e,r,(()=>r("",!0)))},decodeUTF8(e){const t=new TextDecoder("utf-8");function r(e,r=!1){return t.decode(e,{stream:!r})}return I(e,r,(()=>r(new Uint8Array,!0)))},concat:P,concatUint8Array:f,equalsUint8Array(e,t){if(!j.isUint8Array(e)||!j.isUint8Array(t))throw new Error("Data must be in the form of a Uint8Array");if(e.length!==t.length)return!1;for(let r=0;r<e.length;r++)if(e[r]!==t[r])return!1;return!0},writeChecksum(e){let t=0;for(let r=0;r<e.length;r++)t=t+e[r]&65535;return j.writeNumber(t,2)},nbits(e){let t=1,r=e>>>16;return 0!==r&&(e=r,t+=16),r=e>>8,0!==r&&(e=r,t+=8),r=e>>4,0!==r&&(e=r,t+=4),r=e>>2,0!==r&&(e=r,t+=2),r=e>>1,0!==r&&(e=r,t+=1),t},double(e){const t=new Uint8Array(e.length),r=e.length-1;for(let n=0;n<r;n++)t[n]=e[n]<<1^e[n+1]>>7;return t[r]=e[r]<<1^135*(e[0]>>7),t},shiftRight(e,t){if(t)for(let r=e.length-1;r>=0;r--)e[r]>>=t,r>0&&(e[r]|=e[r-1]<<8-t);return e},getWebCrypto:()=>crypto.subtle,detectBigInt:()=>"undefined"!=typeof BigInt,getBigInteger:async function(){if(j.detectBigInt())return BigInteger$1;{const{default:e}=await Promise.resolve().then((function(){return Ld}));return e}},getHardwareConcurrency:()=>navigator.hardwareConcurrency||1,isEmailAddress(e){if(!j.isString(e))return!1;return/^(([^<>()[\]\\.,;:\s@"]+(\.[^<>()[\]\\.,;:\s@"]+)*)|(".+"))@((\[[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\.[0-9]{1,3}\])|(([a-zA-Z\-0-9]+\.)+([a-zA-Z]{2,}|xn--[a-zA-Z\-0-9]+)))$/.test(e)},canonicalizeEOL(e){let t=!1;return I(e,(e=>{let r;t&&(e=j.concatUint8Array([new Uint8Array([13]),e])),13===e[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;const n=[];for(let t=0;r=e.indexOf(10,t)+1,r;t=r)13!==e[r-2]&&n.push(r);if(!n.length)return e;const i=new Uint8Array(e.length+n.length);let a=0;for(let t=0;t<n.length;t++){const r=e.subarray(n[t-1]||0,n[t]);i.set(r,a),a+=r.length,i[a-1]=13,i[a]=10,a++}return i.set(e.subarray(n[n.length-1]||0),a),i}),(()=>t?new Uint8Array([13]):void 0))},nativeEOL(e){let t=!1;return I(e,(e=>{let r;13===(e=t&&10!==e[0]?j.concatUint8Array([new Uint8Array([13]),e]):new Uint8Array(e))[e.length-1]?(t=!0,e=e.subarray(0,-1)):t=!1;let n=0;for(let t=0;t!==e.length;t=r){r=e.indexOf(13,t)+1,r||(r=e.length);const i=r-(10===e[r]?1:0);t&&e.copyWithin(n,t,i),n+=i-t}return e.subarray(0,n)}),(()=>t?new Uint8Array([13]):void 0))},removeTrailingSpaces:e=>e.split("\n").map((e=>{let t=e.length-1;for(;t>=0&&(" "===e[t]||"\t"===e[t]||"\r"===e[t]);t--);return e.substr(0,t+1)})).join("\n"),wrapError(e,t){if(!t)return new Error(e);try{t.message=e+": "+t.message}catch(e){}return t},constructAllowedPackets(e){const t={};return e.forEach((e=>{if(!e.tag)throw new Error("Invalid input: expected a packet class");t[e.tag]=e})),t},anyPromise:e=>new Promise((async(t,r)=>{let n;await Promise.all(e.map((async e=>{try{t(await e)}catch(e){n=e}}))),r(n)})),selectUint8Array(e,t,r){const n=Math.max(t.length,r.length),i=new Uint8Array(n);let a=0;for(let n=0;n<i.length;n++)i[n]=t[n]&256-e|r[n]&255+e,a+=e&n<t.length|1-e&n<r.length;return i.subarray(0,a)},selectUint8:(e,t,r)=>t&256-e|r&255+e};let N=e=>btoa(j.uint8ArrayToString(e)),W=e=>j.stringToUint8Array(atob(e));function H(e){let t=new Uint8Array;return I(e,(e=>{t=j.concatUint8Array([t,e]);const r=[],n=Math.floor(t.length/45),i=45*n,a=N(t.subarray(0,i));for(let e=0;e<n;e++)r.push(a.substr(60*e,60)),r.push("\n");return t=t.subarray(i),r.join("")}),(()=>t.length?N(t)+"\n":""))}function $(e){let t="";return I(e,(e=>{t+=e;let r=0;const n=[" ","\t","\r","\n"];for(let e=0;e<n.length;e++){const i=n[e];for(let e=t.indexOf(i);-1!==e;e=t.indexOf(i,e+1))r++}let i=t.length;for(;i>0&&(i-r)%4!=0;i--)n.includes(t[i])&&r--;const a=W(t.substr(0,i));return t=t.substr(i),a}),(()=>W(t)))}function G(e){return $(e.replace(/-/g,"+").replace(/_/g,"/"))}function V(e,t){let r=H(e).replace(/[\r\n]/g,"");return t&&(r=r.replace(/[+]/g,"-").replace(/[/]/g,"_").replace(/[=]/g,"")),r}const Z=Symbol("byValue");var Q={curve:{p256:"p256","P-256":"p256",secp256r1:"p256",prime256v1:"p256","1.2.840.10045.3.1.7":"p256","2a8648ce3d030107":"p256","2A8648CE3D030107":"p256",p384:"p384","P-384":"p384",secp384r1:"p384","1.3.132.0.34":"p384","2b81040022":"p384","2B81040022":"p384",p521:"p521","P-521":"p521",secp521r1:"p521","1.3.132.0.35":"p521","2b81040023":"p521","2B81040023":"p521",secp256k1:"secp256k1","1.3.132.0.10":"secp256k1","2b8104000a":"secp256k1","2B8104000A":"secp256k1",ED25519:"ed25519",ed25519:"ed25519",Ed25519:"ed25519","1.3.6.1.4.1.11591.15.1":"ed25519","2b06010401da470f01":"ed25519","2B06010401DA470F01":"ed25519",X25519:"curve25519",cv25519:"curve25519",curve25519:"curve25519",Curve25519:"curve25519","1.3.6.1.4.1.3029.1.5.1":"curve25519","2b060104019755010501":"curve25519","2B060104019755010501":"curve25519",brainpoolP256r1:"brainpoolP256r1","1.3.36.3.3.2.8.1.1.7":"brainpoolP256r1","2b2403030208010107":"brainpoolP256r1","2B2403030208010107":"brainpoolP256r1",brainpoolP384r1:"brainpoolP384r1","1.3.36.3.3.2.8.1.1.11":"brainpoolP384r1","2b240303020801010b":"brainpoolP384r1","2B240303020801010B":"brainpoolP384r1",brainpoolP512r1:"brainpoolP512r1","1.3.36.3.3.2.8.1.1.13":"brainpoolP512r1","2b240303020801010d":"brainpoolP512r1","2B240303020801010D":"brainpoolP512r1"},s2k:{simple:0,salted:1,iterated:3,gnu:101},publicKey:{rsaEncryptSign:1,rsaEncrypt:2,rsaSign:3,elgamal:16,dsa:17,ecdh:18,ecdsa:19,eddsa:22,aedh:23,aedsa:24},symmetric:{plaintext:0,idea:1,tripledes:2,cast5:3,blowfish:4,aes128:7,aes192:8,aes256:9,twofish:10},compression:{uncompressed:0,zip:1,zlib:2,bzip2:3},hash:{md5:1,sha1:2,ripemd:3,sha256:8,sha384:9,sha512:10,sha224:11},webHash:{"SHA-1":2,"SHA-256":8,"SHA-384":9,"SHA-512":10},aead:{eax:1,ocb:2,experimentalGCM:100},packet:{publicKeyEncryptedSessionKey:1,signature:2,symEncryptedSessionKey:3,onePassSignature:4,secretKey:5,publicKey:6,secretSubkey:7,compressedData:8,symmetricallyEncryptedData:9,marker:10,literalData:11,trust:12,userID:13,publicSubkey:14,userAttribute:17,symEncryptedIntegrityProtectedData:18,modificationDetectionCode:19,aeadEncryptedData:20},literal:{binary:"b".charCodeAt(),text:"t".charCodeAt(),utf8:"u".charCodeAt(),mime:"m".charCodeAt()},signature:{binary:0,text:1,standalone:2,certGeneric:16,certPersona:17,certCasual:18,certPositive:19,certRevocation:48,subkeyBinding:24,keyBinding:25,key:31,keyRevocation:32,subkeyRevocation:40,timestamp:64,thirdParty:80},signatureSubpacket:{signatureCreationTime:2,signatureExpirationTime:3,exportableCertification:4,trustSignature:5,regularExpression:6,revocable:7,keyExpirationTime:9,placeholderBackwardsCompatibility:10,preferredSymmetricAlgorithms:11,revocationKey:12,issuer:16,notationData:20,preferredHashAlgorithms:21,preferredCompressionAlgorithms:22,keyServerPreferences:23,preferredKeyServer:24,primaryUserID:25,policyURI:26,keyFlags:27,signersUserID:28,reasonForRevocation:29,features:30,signatureTarget:31,embeddedSignature:32,issuerFingerprint:33,preferredAEADAlgorithms:34},keyFlags:{certifyKeys:1,signData:2,encryptCommunication:4,encryptStorage:8,splitPrivateKey:16,authentication:32,sharedPrivateKey:128},armor:{multipartSection:0,multipartLast:1,signed:2,message:3,publicKey:4,privateKey:5,signature:6},reasonForRevocation:{noReason:0,keySuperseded:1,keyCompromised:2,keyRetired:3,userIDInvalid:32},features:{modificationDetection:1,aead:2,v5Keys:4},write(e,t){if("number"==typeof t&&(t=this.read(e,t)),void 0!==e[t])return e[t];throw new Error("Invalid enum value.")},read(e,t){if(e[Z]||(e[Z]=[],Object.entries(e).forEach((([t,r])=>{e[Z][r]=t}))),void 0!==e[Z][t])return e[Z][t];throw new Error("Invalid enum value.")}},Y={preferredHashAlgorithm:Q.hash.sha256,preferredSymmetricAlgorithm:Q.symmetric.aes256,preferredCompressionAlgorithm:Q.compression.uncompressed,deflateLevel:6,aeadProtect:!1,preferredAEADAlgorithm:Q.aead.eax,aeadChunkSizeByte:12,v5Keys:!1,s2kIterationCountByte:224,allowUnauthenticatedMessages:!1,allowUnauthenticatedStream:!1,checksumRequired:!1,minRSABits:2047,passwordCollisionCheck:!1,revocationsExpire:!1,allowInsecureDecryptionWithSigningKeys:!1,allowInsecureVerificationWithReformattedKeys:!1,constantTimePKCS1Decryption:!1,constantTimePKCS1DecryptionSupportedSymmetricAlgorithms:new Set([Q.symmetric.aes128,Q.symmetric.aes192,Q.symmetric.aes256]),minBytesForWebCrypto:1e3,ignoreUnsupportedPackets:!0,ignoreMalformedPackets:!1,showVersion:!1,showComment:!1,versionString:"OpenPGP.js 5.5.0",commentString:"https://openpgpjs.org",maxUserIDLength:5120,knownNotations:["preferred-email-encoding@pgp.com","pka-address@gnupg.org"],useIndutnyElliptic:!0,rejectHashAlgorithms:new Set([Q.hash.md5,Q.hash.ripemd]),rejectMessageHashAlgorithms:new Set([Q.hash.md5,Q.hash.ripemd,Q.hash.sha1]),rejectPublicKeyAlgorithms:new Set([Q.publicKey.elgamal,Q.publicKey.dsa]),rejectCurves:new Set([Q.curve.secp256k1])};function X(e){const t=e.match(/^-----BEGIN PGP (MESSAGE, PART \d+\/\d+|MESSAGE, PART \d+|SIGNED MESSAGE|MESSAGE|PUBLIC KEY BLOCK|PRIVATE KEY BLOCK|SIGNATURE)-----$/m);if(!t)throw new Error("Unknown ASCII armor type");return/MESSAGE, PART \d+\/\d+/.test(t[1])?Q.armor.multipartSection:/MESSAGE, PART \d+/.test(t[1])?Q.armor.multipartLast:/SIGNED MESSAGE/.test(t[1])?Q.armor.signed:/MESSAGE/.test(t[1])?Q.armor.message:/PUBLIC KEY BLOCK/.test(t[1])?Q.armor.publicKey:/PRIVATE KEY BLOCK/.test(t[1])?Q.armor.privateKey:/SIGNATURE/.test(t[1])?Q.armor.signature:void 0}function J(e,t){let r="";return t.showVersion&&(r+="Version: "+t.versionString+"\n"),t.showComment&&(r+="Comment: "+t.commentString+"\n"),e&&(r+="Comment: "+e+"\n"),r+="\n",r}function ee(e){return H(function(e){let t=13501623;return I(e,(e=>{const r=re?Math.floor(e.length/4):0,n=new Uint32Array(e.buffer,e.byteOffset,r);for(let e=0;e<r;e++)t^=n[e],t=te[0][t>>24&255]^te[1][t>>16&255]^te[2][t>>8&255]^te[3][t>>0&255];for(let n=4*r;n<e.length;n++)t=t>>8^te[0][255&t^e[n]]}),(()=>new Uint8Array([t,t>>8,t>>16])))}(e))}const te=[new Array(255),new Array(255),new Array(255),new Array(255)];for(let e=0;e<=255;e++){let t=e<<16;for(let e=0;e<8;e++)t=t<<1^(0!=(8388608&t)?8801531:0);te[0][e]=(16711680&t)>>16|65280&t|(255&t)<<16}for(let e=0;e<=255;e++)te[1][e]=te[0][e]>>8^te[0][255&te[0][e]];for(let e=0;e<=255;e++)te[2][e]=te[1][e]>>8^te[0][255&te[1][e]];for(let e=0;e<=255;e++)te[3][e]=te[2][e]>>8^te[0][255&te[2][e]];const re=function(){const e=new ArrayBuffer(2);return new DataView(e).setInt16(0,255,!0),255===new Int16Array(e)[0]}();function ne(e){for(let t=0;t<e.length;t++){if(!/^([^\s:]|[^\s:][^:]*[^\s:]): .+$/.test(e[t]))throw new Error("Improperly formatted armor header: "+e[t]);/^(Version|Comment|MessageID|Hash|Charset): .+$/.test(e[t])}}function ie(e){let t=e,r="";const n=e.lastIndexOf("=");return n>=0&&n!==e.length-1&&(t=e.slice(0,n),r=e.slice(n+1).substr(0,4)),{body:t,checksum:r}}function ae(e,t=Y){return new Promise((async(r,n)=>{try{const i=/^-----[^-]+-----$/m,a=/^[ \f\r\t\u00a0\u2000-\u200a\u202f\u205f\u3000]*$/;let s;const o=[];let c,u,h,f=o,d=[],l=$(R(e,(async(e,t)=>{const p=x(e);try{for(;;){let e=await p.readLine();if(void 0===e)throw new Error("Misformed armored text");if(e=j.removeTrailingSpaces(e.replace(/[\r\n]/g,"")),s)if(c)u||2!==s||(i.test(e)?(d=d.join("\r\n"),u=!0,ne(f),f=[],c=!1):d.push(e.replace(/^- /,"")));else if(i.test(e)&&n(new Error("Mandatory blank line missing between armor headers and armor data")),a.test(e)){if(ne(f),c=!0,u||2!==s){r({text:d,data:l,headers:o,type:s});break}}else f.push(e);else i.test(e)&&(s=X(e))}}catch(e){return void n(e)}const y=M(t);try{for(;;){await y.ready;const{done:e,value:t}=await p.read();if(e)throw new Error("Misformed armored text");const r=t+"";if(-1!==r.indexOf("=")||-1!==r.indexOf("-")){let e=await p.readToEnd();e.length||(e=""),e=r+e,e=j.removeTrailingSpaces(e.replace(/\r/g,""));const t=e.split(i);if(1===t.length)throw new Error("Misformed armored text");const n=ie(t[0].slice(0,-1));h=n.checksum,await y.write(n.body);break}await y.write(r)}await y.ready,await y.close()}catch(e){await y.abort(e)}})));l=R(l,(async(e,r)=>{const n=O(ee(T(e)));n.catch((()=>{})),await C(e,r,{preventClose:!0});const i=M(r);try{const e=(await n).replace("\n","");if(h!==e&&(h||t.checksumRequired))throw new Error("Ascii armor integrity check failed");await i.ready,await i.close()}catch(e){await i.abort(e)}}))}catch(e){n(e)}})).then((async e=>(a(e.data)&&(e.data=await O(e.data)),e)))}function se(e,t,r,n,i,a=Y){let s,o;e===Q.armor.signed&&(s=t.text,o=t.hash,t=t.data);const c=T(t),u=[];switch(e){case Q.armor.multipartSection:u.push("-----BEGIN PGP MESSAGE, PART "+r+"/"+n+"-----\n"),u.push(J(i,a)),u.push(H(t)),u.push("=",ee(c)),u.push("-----END PGP MESSAGE, PART "+r+"/"+n+"-----\n");break;case Q.armor.multipartLast:u.push("-----BEGIN PGP MESSAGE, PART "+r+"-----\n"),u.push(J(i,a)),u.push(H(t)),u.push("=",ee(c)),u.push("-----END PGP MESSAGE, PART "+r+"-----\n");break;case Q.armor.signed:u.push("-----BEGIN PGP SIGNED MESSAGE-----\n"),u.push("Hash: "+o+"\n\n"),u.push(s.replace(/^-/gm,"- -")),u.push("\n-----BEGIN PGP SIGNATURE-----\n"),u.push(J(i,a)),u.push(H(t)),u.push("=",ee(c)),u.push("-----END PGP SIGNATURE-----\n");break;case Q.armor.message:u.push("-----BEGIN PGP MESSAGE-----\n"),u.push(J(i,a)),u.push(H(t)),u.push("=",ee(c)),u.push("-----END PGP MESSAGE-----\n");break;case Q.armor.publicKey:u.push("-----BEGIN PGP PUBLIC KEY BLOCK-----\n"),u.push(J(i,a)),u.push(H(t)),u.push("=",ee(c)),u.push("-----END PGP PUBLIC KEY BLOCK-----\n");break;case Q.armor.privateKey:u.push("-----BEGIN PGP PRIVATE KEY BLOCK-----\n"),u.push(J(i,a)),u.push(H(t)),u.push("=",ee(c)),u.push("-----END PGP PRIVATE KEY BLOCK-----\n");break;case Q.armor.signature:u.push("-----BEGIN PGP SIGNATURE-----\n"),u.push(J(i,a)),u.push(H(t)),u.push("=",ee(c)),u.push("-----END PGP SIGNATURE-----\n")}return j.concat(u)}class KeyID{constructor(){this.bytes=""}read(e){this.bytes=j.uint8ArrayToString(e.subarray(0,8))}write(){return j.stringToUint8Array(this.bytes)}toHex(){return j.uint8ArrayToHex(j.stringToUint8Array(this.bytes))}equals(e,t=!1){return t&&(e.isWildcard()||this.isWildcard())||this.bytes===e.bytes}isNull(){return""===this.bytes}isWildcard(){return/^0+$/.test(this.toHex())}static mapToHex(e){return e.toHex()}static fromID(e){const t=new KeyID;return t.read(j.hexToUint8Array(e)),t}static wildcard(){const e=new KeyID;return e.read(new Uint8Array(8)),e}}var oe=function(){var e,t,r=!1;function n(r,n){var i=e[(t[r]+t[n])%255];return 0!==r&&0!==n||(i=0),i}var i,a,s,o,c=!1;function u(){function u(r){var n,i,a;for(i=a=function(r){var n=e[255-t[r]];return 0===r&&(n=0),n}(r),n=0;n<4;n++)a^=i=255&(i<<1|i>>>7);return a^=99}r||function(){e=[],t=[];var n,i,a=1;for(n=0;n<255;n++)e[n]=a,i=128&a,a<<=1,a&=255,128===i&&(a^=27),a^=e[n],t[e[n]]=n;e[255]=e[0],t[0]=0,r=!0}(),i=[],a=[],s=[[],[],[],[]],o=[[],[],[],[]];for(var h=0;h<256;h++){var f=u(h);i[h]=f,a[f]=h,s[0][h]=n(2,f)<<24|f<<16|f<<8|n(3,f),o[0][f]=n(14,h)<<24|n(9,h)<<16|n(13,h)<<8|n(11,h);for(var d=1;d<4;d++)s[d][h]=s[d-1][h]>>>8|s[d-1][h]<<24,o[d][f]=o[d-1][f]>>>8|o[d-1][f]<<24}c=!0}var h=function(e,t){c||u();var r=new Uint32Array(t);r.set(i,512),r.set(a,768);for(var n=0;n<4;n++)r.set(s[n],4096+1024*n>>2),r.set(o[n],8192+1024*n>>2);var h=function(e,t,r){"use asm";var n=0,i=0,a=0,s=0,o=0,c=0,u=0,h=0,f=0,d=0,l=0,p=0,y=0,b=0,m=0,g=0,w=0,v=0,_=0,k=0,S=0;var A=new e.Uint32Array(r),E=new e.Uint8Array(r);function P(e,t,r,o,c,u,h,f){e=e|0;t=t|0;r=r|0;o=o|0;c=c|0;u=u|0;h=h|0;f=f|0;var d=0,l=0,p=0,y=0,b=0,m=0,g=0,w=0;d=r|0x400,l=r|0x800,p=r|0xc00;c=c^A[(e|0)>>2],u=u^A[(e|4)>>2],h=h^A[(e|8)>>2],f=f^A[(e|12)>>2];for(w=16;(w|0)<=o<<4;w=w+16|0){y=A[(r|c>>22&1020)>>2]^A[(d|u>>14&1020)>>2]^A[(l|h>>6&1020)>>2]^A[(p|f<<2&1020)>>2]^A[(e|w|0)>>2],b=A[(r|u>>22&1020)>>2]^A[(d|h>>14&1020)>>2]^A[(l|f>>6&1020)>>2]^A[(p|c<<2&1020)>>2]^A[(e|w|4)>>2],m=A[(r|h>>22&1020)>>2]^A[(d|f>>14&1020)>>2]^A[(l|c>>6&1020)>>2]^A[(p|u<<2&1020)>>2]^A[(e|w|8)>>2],g=A[(r|f>>22&1020)>>2]^A[(d|c>>14&1020)>>2]^A[(l|u>>6&1020)>>2]^A[(p|h<<2&1020)>>2]^A[(e|w|12)>>2];c=y,u=b,h=m,f=g}n=A[(t|c>>22&1020)>>2]<<24^A[(t|u>>14&1020)>>2]<<16^A[(t|h>>6&1020)>>2]<<8^A[(t|f<<2&1020)>>2]^A[(e|w|0)>>2],i=A[(t|u>>22&1020)>>2]<<24^A[(t|h>>14&1020)>>2]<<16^A[(t|f>>6&1020)>>2]<<8^A[(t|c<<2&1020)>>2]^A[(e|w|4)>>2],a=A[(t|h>>22&1020)>>2]<<24^A[(t|f>>14&1020)>>2]<<16^A[(t|c>>6&1020)>>2]<<8^A[(t|u<<2&1020)>>2]^A[(e|w|8)>>2],s=A[(t|f>>22&1020)>>2]<<24^A[(t|c>>14&1020)>>2]<<16^A[(t|u>>6&1020)>>2]<<8^A[(t|h<<2&1020)>>2]^A[(e|w|12)>>2]}function x(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;P(0x0000,0x0800,0x1000,S,e,t,r,n)}function M(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var a=0;P(0x0400,0x0c00,0x2000,S,e,n,r,t);a=i,i=s,s=a}function C(e,t,r,f){e=e|0;t=t|0;r=r|0;f=f|0;P(0x0000,0x0800,0x1000,S,o^e,c^t,u^r,h^f);o=n,c=i,u=a,h=s}function K(e,t,r,f){e=e|0;t=t|0;r=r|0;f=f|0;var d=0;P(0x0400,0x0c00,0x2000,S,e,f,r,t);d=i,i=s,s=d;n=n^o,i=i^c,a=a^u,s=s^h;o=e,c=t,u=r,h=f}function D(e,t,r,f){e=e|0;t=t|0;r=r|0;f=f|0;P(0x0000,0x0800,0x1000,S,o,c,u,h);o=n=n^e,c=i=i^t,u=a=a^r,h=s=s^f}function I(e,t,r,f){e=e|0;t=t|0;r=r|0;f=f|0;P(0x0000,0x0800,0x1000,S,o,c,u,h);n=n^e,i=i^t,a=a^r,s=s^f;o=e,c=t,u=r,h=f}function R(e,t,r,f){e=e|0;t=t|0;r=r|0;f=f|0;P(0x0000,0x0800,0x1000,S,o,c,u,h);o=n,c=i,u=a,h=s;n=n^e,i=i^t,a=a^r,s=s^f}function U(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;P(0x0000,0x0800,0x1000,S,f,d,l,p);p=~g&p|g&p+1;l=~m&l|m&l+((p|0)==0);d=~b&d|b&d+((l|0)==0);f=~y&f|y&f+((d|0)==0);n=n^e;i=i^t;a=a^r;s=s^o}function B(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;var i=0,a=0,s=0,f=0,d=0,l=0,p=0,y=0,b=0,m=0;e=e^o,t=t^c,r=r^u,n=n^h;i=w|0,a=v|0,s=_|0,f=k|0;for(;(b|0)<128;b=b+1|0){if(i>>>31){d=d^e,l=l^t,p=p^r,y=y^n}i=i<<1|a>>>31,a=a<<1|s>>>31,s=s<<1|f>>>31,f=f<<1;m=n&1;n=n>>>1|r<<31,r=r>>>1|t<<31,t=t>>>1|e<<31,e=e>>>1;if(m)e=e^0xe1000000}o=d,c=l,u=p,h=y}function T(e){e=e|0;S=e}function z(e,t,r,o){e=e|0;t=t|0;r=r|0;o=o|0;n=e,i=t,a=r,s=o}function q(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;o=e,c=t,u=r,h=n}function O(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;f=e,d=t,l=r,p=n}function F(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;y=e,b=t,m=r,g=n}function L(e,t,r,n){e=e|0;t=t|0;r=r|0;n=n|0;p=~g&p|g&n,l=~m&l|m&r,d=~b&d|b&t,f=~y&f|y&e}function j(e){e=e|0;if(e&15)return-1;E[e|0]=n>>>24,E[e|1]=n>>>16&255,E[e|2]=n>>>8&255,E[e|3]=n&255,E[e|4]=i>>>24,E[e|5]=i>>>16&255,E[e|6]=i>>>8&255,E[e|7]=i&255,E[e|8]=a>>>24,E[e|9]=a>>>16&255,E[e|10]=a>>>8&255,E[e|11]=a&255,E[e|12]=s>>>24,E[e|13]=s>>>16&255,E[e|14]=s>>>8&255,E[e|15]=s&255;return 16}function N(e){e=e|0;if(e&15)return-1;E[e|0]=o>>>24,E[e|1]=o>>>16&255,E[e|2]=o>>>8&255,E[e|3]=o&255,E[e|4]=c>>>24,E[e|5]=c>>>16&255,E[e|6]=c>>>8&255,E[e|7]=c&255,E[e|8]=u>>>24,E[e|9]=u>>>16&255,E[e|10]=u>>>8&255,E[e|11]=u&255,E[e|12]=h>>>24,E[e|13]=h>>>16&255,E[e|14]=h>>>8&255,E[e|15]=h&255;return 16}function W(){x(0,0,0,0);w=n,v=i,_=a,k=s}function H(e,t,r){e=e|0;t=t|0;r=r|0;var o=0;if(t&15)return-1;while((r|0)>=16){G[e&7](E[t|0]<<24|E[t|1]<<16|E[t|2]<<8|E[t|3],E[t|4]<<24|E[t|5]<<16|E[t|6]<<8|E[t|7],E[t|8]<<24|E[t|9]<<16|E[t|10]<<8|E[t|11],E[t|12]<<24|E[t|13]<<16|E[t|14]<<8|E[t|15]);E[t|0]=n>>>24,E[t|1]=n>>>16&255,E[t|2]=n>>>8&255,E[t|3]=n&255,E[t|4]=i>>>24,E[t|5]=i>>>16&255,E[t|6]=i>>>8&255,E[t|7]=i&255,E[t|8]=a>>>24,E[t|9]=a>>>16&255,E[t|10]=a>>>8&255,E[t|11]=a&255,E[t|12]=s>>>24,E[t|13]=s>>>16&255,E[t|14]=s>>>8&255,E[t|15]=s&255;o=o+16|0,t=t+16|0,r=r-16|0}return o|0}function $(e,t,r){e=e|0;t=t|0;r=r|0;var n=0;if(t&15)return-1;while((r|0)>=16){V[e&1](E[t|0]<<24|E[t|1]<<16|E[t|2]<<8|E[t|3],E[t|4]<<24|E[t|5]<<16|E[t|6]<<8|E[t|7],E[t|8]<<24|E[t|9]<<16|E[t|10]<<8|E[t|11],E[t|12]<<24|E[t|13]<<16|E[t|14]<<8|E[t|15]);n=n+16|0,t=t+16|0,r=r-16|0}return n|0}var G=[x,M,C,K,D,I,R,U];var V=[C,B];return{set_rounds:T,set_state:z,set_iv:q,set_nonce:O,set_mask:F,set_counter:L,get_state:j,get_iv:N,gcm_init:W,cipher:H,mac:$}}({Uint8Array:Uint8Array,Uint32Array:Uint32Array},e,t);return h.set_key=function(e,t,n,a,s,c,u,f,d){var l=r.subarray(0,60),p=r.subarray(256,316);l.set([t,n,a,s,c,u,f,d]);for(var y=e,b=1;y<4*e+28;y++){var m=l[y-1];(y%e==0||8===e&&y%e==4)&&(m=i[m>>>24]<<24^i[m>>>16&255]<<16^i[m>>>8&255]<<8^i[255&m]),y%e==0&&(m=m<<8^m>>>24^b<<24,b=b<<1^(128&b?27:0)),l[y]=l[y-e]^m}for(var g=0;g<y;g+=4)for(var w=0;w<4;w++){m=l[y-(4+g)+(4-w)%4];p[g+w]=g<4||g>=y-4?m:o[0][i[m>>>24]]^o[1][i[m>>>16&255]]^o[2][i[m>>>8&255]]^o[3][i[255&m]]}h.set_rounds(e+5)},h};return h.ENC={ECB:0,CBC:2,CFB:4,OFB:6,CTR:7},h.DEC={ECB:1,CBC:3,CFB:5,OFB:6,CTR:7},h.MAC={CBC:0,GCM:1},h.HEAP_DATA=16384,h}();function ce(e){return e instanceof Uint8Array}function ue(e,t){const r=e?e.byteLength:t||65536;if(4095&r||r<=0)throw new Error("heap size must be a positive integer and a multiple of 4096");return e=e||new Uint8Array(new ArrayBuffer(r))}function he(e,t,r,n,i){const a=e.length-t,s=a<i?a:i;return e.set(r.subarray(n,n+s),t),s}function fe(...e){const t=e.reduce(((e,t)=>e+t.length),0),r=new Uint8Array(t);let n=0;for(let t=0;t<e.length;t++)r.set(e[t],n),n+=e[t].length;return r}class IllegalStateError extends Error{constructor(...e){super(...e)}}class IllegalArgumentError extends Error{constructor(...e){super(...e)}}class SecurityError extends Error{constructor(...e){super(...e)}}const de=[],le=[];class AES{constructor(e,t,r=!0,n,i,a){this.pos=0,this.len=0,this.mode=n,this.pos=0,this.len=0,this.key=e,this.iv=t,this.padding=r,this.acquire_asm(i,a)}acquire_asm(e,t){return void 0!==this.heap&&void 0!==this.asm||(this.heap=e||de.pop()||ue().subarray(oe.HEAP_DATA),this.asm=t||le.pop()||new oe(null,this.heap.buffer),this.reset(this.key,this.iv)),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(de.push(this.heap),le.push(this.asm)),this.heap=void 0,this.asm=void 0}reset(e,t){const{asm:r}=this.acquire_asm(),n=e.length;if(16!==n&&24!==n&&32!==n)throw new IllegalArgumentError("illegal key size");const i=new DataView(e.buffer,e.byteOffset,e.byteLength);if(r.set_key(n>>2,i.getUint32(0),i.getUint32(4),i.getUint32(8),i.getUint32(12),n>16?i.getUint32(16):0,n>16?i.getUint32(20):0,n>24?i.getUint32(24):0,n>24?i.getUint32(28):0),void 0!==t){if(16!==t.length)throw new IllegalArgumentError("illegal iv size");let e=new DataView(t.buffer,t.byteOffset,t.byteLength);r.set_iv(e.getUint32(0),e.getUint32(4),e.getUint32(8),e.getUint32(12))}else r.set_iv(0,0,0,0)}AES_Encrypt_process(e){if(!ce(e))throw new TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),n=oe.ENC[this.mode],i=oe.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,u=0,h=0,f=new Uint8Array(s+c&-16);for(;c>0;)h=he(t,a+s,e,o,c),s+=h,o+=h,c-=h,h=r.cipher(n,i+a,s),h&&f.set(t.subarray(a,a+h),u),u+=h,h<s?(a+=h,s-=h):(a=0,s=0);return this.pos=a,this.len=s,f}AES_Encrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=oe.ENC[this.mode],n=oe.HEAP_DATA,i=this.pos,a=this.len,s=16-a%16,o=a;if(this.hasOwnProperty("padding")){if(this.padding){for(let t=0;t<s;++t)e[i+a+t]=s;a+=s,o=a}else if(a%16)throw new IllegalArgumentError("data length must be a multiple of the block size")}else a+=s;const c=new Uint8Array(o);return a&&t.cipher(r,n+i,a),o&&c.set(e.subarray(i,i+o)),this.pos=0,this.len=0,this.release_asm(),c}AES_Decrypt_process(e){if(!ce(e))throw new TypeError("data isn't of expected type");let{heap:t,asm:r}=this.acquire_asm(),n=oe.DEC[this.mode],i=oe.HEAP_DATA,a=this.pos,s=this.len,o=0,c=e.length||0,u=0,h=s+c&-16,f=0,d=0;this.padding&&(f=s+c-h||16,h-=f);const l=new Uint8Array(h);for(;c>0;)d=he(t,a+s,e,o,c),s+=d,o+=d,c-=d,d=r.cipher(n,i+a,s-(c?0:f)),d&&l.set(t.subarray(a,a+d),u),u+=d,d<s?(a+=d,s-=d):(a=0,s=0);return this.pos=a,this.len=s,l}AES_Decrypt_finish(){let{heap:e,asm:t}=this.acquire_asm(),r=oe.DEC[this.mode],n=oe.HEAP_DATA,i=this.pos,a=this.len,s=a;if(a>0){if(a%16){if(this.hasOwnProperty("padding"))throw new IllegalArgumentError("data length must be a multiple of the block size");a+=16-a%16}if(t.cipher(r,n+i,a),this.hasOwnProperty("padding")&&this.padding){let t=e[i+s-1];if(t<1||t>16||t>s)throw new SecurityError("bad padding");let r=0;for(let n=t;n>1;n--)r|=t^e[i+s-n];if(r)throw new SecurityError("bad padding");s-=t}}const o=new Uint8Array(s);return s>0&&o.set(e.subarray(i,i+s)),this.pos=0,this.len=0,this.release_asm(),o}}class AES_ECB{static encrypt(e,t,r=!1){return new AES_ECB(t,r).encrypt(e)}static decrypt(e,t,r=!1){return new AES_ECB(t,r).decrypt(e)}constructor(e,t=!1,r){this.aes=r||new AES(e,void 0,t,"ECB")}encrypt(e){return fe(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return fe(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}function pe(e){const t=function(e){const t=new AES_ECB(e);this.encrypt=function(e){return t.encrypt(e)},this.decrypt=function(e){return t.decrypt(e)}};return t.blockSize=t.prototype.blockSize=16,t.keySize=t.prototype.keySize=e/8,t}function ye(e,t,r,n,i,a){const s=[16843776,0,65536,16843780,16842756,66564,4,65536,1024,16843776,16843780,1024,16778244,16842756,16777216,4,1028,16778240,16778240,66560,66560,16842752,16842752,16778244,65540,16777220,16777220,65540,0,1028,66564,16777216,65536,16843780,4,16842752,16843776,16777216,16777216,1024,16842756,65536,66560,16777220,1024,4,16778244,66564,16843780,65540,16842752,16778244,16777220,1028,66564,16843776,1028,16778240,16778240,0,65540,66560,0,16842756],o=[-2146402272,-2147450880,32768,1081376,1048576,32,-2146435040,-2147450848,-2147483616,-2146402272,-2146402304,-2147483648,-2147450880,1048576,32,-2146435040,1081344,1048608,-2147450848,0,-2147483648,32768,1081376,-2146435072,1048608,-2147483616,0,1081344,32800,-2146402304,-2146435072,32800,0,1081376,-2146435040,1048576,-2147450848,-2146435072,-2146402304,32768,-2146435072,-2147450880,32,-2146402272,1081376,32,32768,-2147483648,32800,-2146402304,1048576,-2147483616,1048608,-2147450848,-2147483616,1048608,1081344,0,-2147450880,32800,-2147483648,-2146435040,-2146402272,1081344],c=[520,134349312,0,134348808,134218240,0,131592,134218240,131080,134217736,134217736,131072,134349320,131080,134348800,520,134217728,8,134349312,512,131584,134348800,134348808,131592,134218248,131584,131072,134218248,8,134349320,512,134217728,134349312,134217728,131080,520,131072,134349312,134218240,0,512,131080,134349320,134218240,134217736,512,0,134348808,134218248,131072,134217728,134349320,8,131592,131584,134217736,134348800,134218248,520,134348800,131592,8,134348808,131584],u=[8396801,8321,8321,128,8396928,8388737,8388609,8193,0,8396800,8396800,8396929,129,0,8388736,8388609,1,8192,8388608,8396801,128,8388608,8193,8320,8388737,1,8320,8388736,8192,8396928,8396929,129,8388736,8388609,8396800,8396929,129,0,0,8396800,8320,8388736,8388737,1,8396801,8321,8321,128,8396929,129,1,8192,8388609,8193,8396928,8388737,8193,8320,8388608,8396801,128,8388608,8192,8396928],h=[256,34078976,34078720,1107296512,524288,256,1073741824,34078720,1074266368,524288,33554688,1074266368,1107296512,1107820544,524544,1073741824,33554432,1074266112,1074266112,0,1073742080,1107820800,1107820800,33554688,1107820544,1073742080,0,1107296256,34078976,33554432,1107296256,524544,524288,1107296512,256,33554432,1073741824,34078720,1107296512,1074266368,33554688,1073741824,1107820544,34078976,1074266368,256,33554432,1107820544,1107820800,524544,1107296256,1107820800,34078720,0,1074266112,1107296256,524544,33554688,1073742080,524288,0,1074266112,34078976,1073742080],f=[536870928,541065216,16384,541081616,541065216,16,541081616,4194304,536887296,4210704,4194304,536870928,4194320,536887296,536870912,16400,0,4194320,536887312,16384,4210688,536887312,16,541065232,541065232,0,4210704,541081600,16400,4210688,541081600,536870912,536887296,16,541065232,4210688,541081616,4194304,16400,536870928,4194304,536887296,536870912,16400,536870928,541081616,4210688,541065216,4210704,541081600,0,541065232,16,16384,541065216,4210704,16384,4194320,536887312,0,541081600,536870912,4194320,536887312],d=[2097152,69206018,67110914,0,2048,67110914,2099202,69208064,69208066,2097152,0,67108866,2,67108864,69206018,2050,67110912,2099202,2097154,67110912,67108866,69206016,69208064,2097154,69206016,2048,2050,69208066,2099200,2,67108864,2099200,67108864,2099200,2097152,67110914,67110914,69206018,69206018,2,2097154,67108864,67110912,2097152,69208064,2050,2099202,69208064,2050,67108866,69208066,69206016,2099200,0,2,69208066,0,2099202,69206016,2048,67108866,67110912,2048,2097154],l=[268439616,4096,262144,268701760,268435456,268439616,64,268435456,262208,268697600,268701760,266240,268701696,266304,4096,64,268697600,268435520,268439552,4160,266240,262208,268697664,268701696,4160,0,0,268697664,268435520,268439552,266304,262144,266304,262144,268701696,4096,64,268697664,4096,266304,268439552,64,268435520,268697600,268697664,268435456,262144,268439616,0,268701760,262208,268435520,268697600,268439552,268439616,0,268701760,266240,266240,4160,4160,262208,268435456,268701696];let p,y,b,m,g,w,v,_,k,S,A,E,P,x,M=0,C=t.length;const K=32===e.length?3:9;_=3===K?r?[0,32,2]:[30,-2,-2]:r?[0,32,2,62,30,-2,64,96,2]:[94,62,-2,32,64,2,30,-2,-2],r&&(t=function(e,t){const r=8-e.length%8;let n;if(2===t&&r<8)n=" ".charCodeAt(0);else if(1===t)n=r;else{if(t||!(r<8)){if(8===r)return e;throw new Error("des: invalid padding")}n=0}const i=new Uint8Array(e.length+r);for(let t=0;t<e.length;t++)i[t]=e[t];for(let t=0;t<r;t++)i[e.length+t]=n;return i}(t,a),C=t.length);let D=new Uint8Array(C),I=0;for(1===n&&(k=i[M++]<<24|i[M++]<<16|i[M++]<<8|i[M++],A=i[M++]<<24|i[M++]<<16|i[M++]<<8|i[M++],M=0);M<C;){for(w=t[M++]<<24|t[M++]<<16|t[M++]<<8|t[M++],v=t[M++]<<24|t[M++]<<16|t[M++]<<8|t[M++],1===n&&(r?(w^=k,v^=A):(S=k,E=A,k=w,A=v)),b=252645135&(w>>>4^v),v^=b,w^=b<<4,b=65535&(w>>>16^v),v^=b,w^=b<<16,b=858993459&(v>>>2^w),w^=b,v^=b<<2,b=16711935&(v>>>8^w),w^=b,v^=b<<8,b=1431655765&(w>>>1^v),v^=b,w^=b<<1,w=w<<1|w>>>31,v=v<<1|v>>>31,y=0;y<K;y+=3){for(P=_[y+1],x=_[y+2],p=_[y];p!==P;p+=x)m=v^e[p],g=(v>>>4|v<<28)^e[p+1],b=w,w=v,v=b^(o[m>>>24&63]|u[m>>>16&63]|f[m>>>8&63]|l[63&m]|s[g>>>24&63]|c[g>>>16&63]|h[g>>>8&63]|d[63&g]);b=w,w=v,v=b}w=w>>>1|w<<31,v=v>>>1|v<<31,b=1431655765&(w>>>1^v),v^=b,w^=b<<1,b=16711935&(v>>>8^w),w^=b,v^=b<<8,b=858993459&(v>>>2^w),w^=b,v^=b<<2,b=65535&(w>>>16^v),v^=b,w^=b<<16,b=252645135&(w>>>4^v),v^=b,w^=b<<4,1===n&&(r?(k=w,A=v):(w^=S,v^=E)),D[I++]=w>>>24,D[I++]=w>>>16&255,D[I++]=w>>>8&255,D[I++]=255&w,D[I++]=v>>>24,D[I++]=v>>>16&255,D[I++]=v>>>8&255,D[I++]=255&v}return r||(D=function(e,t){let r,n=null;if(2===t)r=" ".charCodeAt(0);else if(1===t)n=e[e.length-1];else{if(t)throw new Error("des: invalid padding");r=0}if(!n){for(n=1;e[e.length-n]===r;)n++;n--}return e.subarray(0,e.length-n)}(D,a)),D}function be(e){const t=[0,4,536870912,536870916,65536,65540,536936448,536936452,512,516,536871424,536871428,66048,66052,536936960,536936964],r=[0,1,1048576,1048577,67108864,67108865,68157440,68157441,256,257,1048832,1048833,67109120,67109121,68157696,68157697],n=[0,8,2048,2056,16777216,16777224,16779264,16779272,0,8,2048,2056,16777216,16777224,16779264,16779272],i=[0,2097152,134217728,136314880,8192,2105344,134225920,136323072,131072,2228224,134348800,136445952,139264,2236416,134356992,136454144],a=[0,262144,16,262160,0,262144,16,262160,4096,266240,4112,266256,4096,266240,4112,266256],s=[0,1024,32,1056,0,1024,32,1056,33554432,33555456,33554464,33555488,33554432,33555456,33554464,33555488],o=[0,268435456,524288,268959744,2,268435458,524290,268959746,0,268435456,524288,268959744,2,268435458,524290,268959746],c=[0,65536,2048,67584,536870912,536936448,536872960,536938496,131072,196608,133120,198656,537001984,537067520,537004032,537069568],u=[0,262144,0,262144,2,262146,2,262146,33554432,33816576,33554432,33816576,33554434,33816578,33554434,33816578],h=[0,268435456,8,268435464,0,268435456,8,268435464,1024,268436480,1032,268436488,1024,268436480,1032,268436488],f=[0,32,0,32,1048576,1048608,1048576,1048608,8192,8224,8192,8224,1056768,1056800,1056768,1056800],d=[0,16777216,512,16777728,2097152,18874368,2097664,18874880,67108864,83886080,67109376,83886592,69206016,85983232,69206528,85983744],l=[0,4096,134217728,134221824,524288,528384,134742016,134746112,16,4112,134217744,134221840,524304,528400,134742032,134746128],p=[0,4,256,260,0,4,256,260,1,5,257,261,1,5,257,261],y=e.length>8?3:1,b=new Array(32*y),m=[0,0,1,1,1,1,1,1,0,1,1,1,1,1,1,0];let g,w,v,_=0,k=0;for(let S=0;S<y;S++){let y=e[_++]<<24|e[_++]<<16|e[_++]<<8|e[_++],S=e[_++]<<24|e[_++]<<16|e[_++]<<8|e[_++];v=252645135&(y>>>4^S),S^=v,y^=v<<4,v=65535&(S>>>-16^y),y^=v,S^=v<<-16,v=858993459&(y>>>2^S),S^=v,y^=v<<2,v=65535&(S>>>-16^y),y^=v,S^=v<<-16,v=1431655765&(y>>>1^S),S^=v,y^=v<<1,v=16711935&(S>>>8^y),y^=v,S^=v<<8,v=1431655765&(y>>>1^S),S^=v,y^=v<<1,v=y<<8|S>>>20&240,y=S<<24|S<<8&16711680|S>>>8&65280|S>>>24&240,S=v;for(let e=0;e<m.length;e++)m[e]?(y=y<<2|y>>>26,S=S<<2|S>>>26):(y=y<<1|y>>>27,S=S<<1|S>>>27),y&=-15,S&=-15,g=t[y>>>28]|r[y>>>24&15]|n[y>>>20&15]|i[y>>>16&15]|a[y>>>12&15]|s[y>>>8&15]|o[y>>>4&15],w=c[S>>>28]|u[S>>>24&15]|h[S>>>20&15]|f[S>>>16&15]|d[S>>>12&15]|l[S>>>8&15]|p[S>>>4&15],v=65535&(w>>>16^g),b[k++]=g^v,b[k++]=w^v<<16}return b}function me(e){this.key=[];for(let t=0;t<3;t++)this.key.push(new Uint8Array(e.subarray(8*t,8*t+8)));this.encrypt=function(e){return ye(be(this.key[2]),ye(be(this.key[1]),ye(be(this.key[0]),e,!0,0,null,null),!1,0,null,null),!0,0,null,null)}}function ge(){this.BlockSize=8,this.KeySize=16,this.setKey=function(e){if(this.masking=new Array(16),this.rotate=new Array(16),this.reset(),e.length!==this.KeySize)throw new Error("CAST-128: keys must be 16 bytes");return this.keySchedule(e),!0},this.reset=function(){for(let e=0;e<16;e++)this.masking[e]=0,this.rotate[e]=0},this.getBlockSize=function(){return this.BlockSize},this.encrypt=function(e){const t=new Array(e.length);for(let a=0;a<e.length;a+=8){let s,o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],c=e[a+4]<<24|e[a+5]<<16|e[a+6]<<8|e[a+7];s=c,c=o^r(c,this.masking[0],this.rotate[0]),o=s,s=c,c=o^n(c,this.masking[1],this.rotate[1]),o=s,s=c,c=o^i(c,this.masking[2],this.rotate[2]),o=s,s=c,c=o^r(c,this.masking[3],this.rotate[3]),o=s,s=c,c=o^n(c,this.masking[4],this.rotate[4]),o=s,s=c,c=o^i(c,this.masking[5],this.rotate[5]),o=s,s=c,c=o^r(c,this.masking[6],this.rotate[6]),o=s,s=c,c=o^n(c,this.masking[7],this.rotate[7]),o=s,s=c,c=o^i(c,this.masking[8],this.rotate[8]),o=s,s=c,c=o^r(c,this.masking[9],this.rotate[9]),o=s,s=c,c=o^n(c,this.masking[10],this.rotate[10]),o=s,s=c,c=o^i(c,this.masking[11],this.rotate[11]),o=s,s=c,c=o^r(c,this.masking[12],this.rotate[12]),o=s,s=c,c=o^n(c,this.masking[13],this.rotate[13]),o=s,s=c,c=o^i(c,this.masking[14],this.rotate[14]),o=s,s=c,c=o^r(c,this.masking[15],this.rotate[15]),o=s,t[a]=c>>>24&255,t[a+1]=c>>>16&255,t[a+2]=c>>>8&255,t[a+3]=255&c,t[a+4]=o>>>24&255,t[a+5]=o>>>16&255,t[a+6]=o>>>8&255,t[a+7]=255&o}return t},this.decrypt=function(e){const t=new Array(e.length);for(let a=0;a<e.length;a+=8){let s,o=e[a]<<24|e[a+1]<<16|e[a+2]<<8|e[a+3],c=e[a+4]<<24|e[a+5]<<16|e[a+6]<<8|e[a+7];s=c,c=o^r(c,this.masking[15],this.rotate[15]),o=s,s=c,c=o^i(c,this.masking[14],this.rotate[14]),o=s,s=c,c=o^n(c,this.masking[13],this.rotate[13]),o=s,s=c,c=o^r(c,this.masking[12],this.rotate[12]),o=s,s=c,c=o^i(c,this.masking[11],this.rotate[11]),o=s,s=c,c=o^n(c,this.masking[10],this.rotate[10]),o=s,s=c,c=o^r(c,this.masking[9],this.rotate[9]),o=s,s=c,c=o^i(c,this.masking[8],this.rotate[8]),o=s,s=c,c=o^n(c,this.masking[7],this.rotate[7]),o=s,s=c,c=o^r(c,this.masking[6],this.rotate[6]),o=s,s=c,c=o^i(c,this.masking[5],this.rotate[5]),o=s,s=c,c=o^n(c,this.masking[4],this.rotate[4]),o=s,s=c,c=o^r(c,this.masking[3],this.rotate[3]),o=s,s=c,c=o^i(c,this.masking[2],this.rotate[2]),o=s,s=c,c=o^n(c,this.masking[1],this.rotate[1]),o=s,s=c,c=o^r(c,this.masking[0],this.rotate[0]),o=s,t[a]=c>>>24&255,t[a+1]=c>>>16&255,t[a+2]=c>>>8&255,t[a+3]=255&c,t[a+4]=o>>>24&255,t[a+5]=o>>16&255,t[a+6]=o>>8&255,t[a+7]=255&o}return t};const e=new Array(4);e[0]=new Array(4),e[0][0]=[4,0,13,15,12,14,8],e[0][1]=[5,2,16,18,17,19,10],e[0][2]=[6,3,23,22,21,20,9],e[0][3]=[7,1,26,25,27,24,11],e[1]=new Array(4),e[1][0]=[0,6,21,23,20,22,16],e[1][1]=[1,4,0,2,1,3,18],e[1][2]=[2,5,7,6,5,4,17],e[1][3]=[3,7,10,9,11,8,19],e[2]=new Array(4),e[2][0]=[4,0,13,15,12,14,8],e[2][1]=[5,2,16,18,17,19,10],e[2][2]=[6,3,23,22,21,20,9],e[2][3]=[7,1,26,25,27,24,11],e[3]=new Array(4),e[3][0]=[0,6,21,23,20,22,16],e[3][1]=[1,4,0,2,1,3,18],e[3][2]=[2,5,7,6,5,4,17],e[3][3]=[3,7,10,9,11,8,19];const t=new Array(4);function r(e,t,r){const n=t+e,i=n<<r|n>>>32-r;return(a[0][i>>>24]^a[1][i>>>16&255])-a[2][i>>>8&255]+a[3][255&i]}function n(e,t,r){const n=t^e,i=n<<r|n>>>32-r;return a[0][i>>>24]-a[1][i>>>16&255]+a[2][i>>>8&255]^a[3][255&i]}function i(e,t,r){const n=t-e,i=n<<r|n>>>32-r;return(a[0][i>>>24]+a[1][i>>>16&255]^a[2][i>>>8&255])-a[3][255&i]}t[0]=new Array(4),t[0][0]=[24,25,23,22,18],t[0][1]=[26,27,21,20,22],t[0][2]=[28,29,19,18,25],t[0][3]=[30,31,17,16,28],t[1]=new Array(4),t[1][0]=[3,2,12,13,8],t[1][1]=[1,0,14,15,13],t[1][2]=[7,6,8,9,3],t[1][3]=[5,4,10,11,7],t[2]=new Array(4),t[2][0]=[19,18,28,29,25],t[2][1]=[17,16,30,31,28],t[2][2]=[23,22,24,25,18],t[2][3]=[21,20,26,27,22],t[3]=new Array(4),t[3][0]=[8,9,7,6,3],t[3][1]=[10,11,5,4,7],t[3][2]=[12,13,3,2,8],t[3][3]=[14,15,1,0,13],this.keySchedule=function(r){const n=new Array(8),i=new Array(32);let s;for(let e=0;e<4;e++)s=4*e,n[e]=r[s]<<24|r[s+1]<<16|r[s+2]<<8|r[s+3];const o=[6,7,4,5];let c,u=0;for(let r=0;r<2;r++)for(let r=0;r<4;r++){for(s=0;s<4;s++){const t=e[r][s];c=n[t[1]],c^=a[4][n[t[2]>>>2]>>>24-8*(3&t[2])&255],c^=a[5][n[t[3]>>>2]>>>24-8*(3&t[3])&255],c^=a[6][n[t[4]>>>2]>>>24-8*(3&t[4])&255],c^=a[7][n[t[5]>>>2]>>>24-8*(3&t[5])&255],c^=a[o[s]][n[t[6]>>>2]>>>24-8*(3&t[6])&255],n[t[0]]=c}for(s=0;s<4;s++){const e=t[r][s];c=a[4][n[e[0]>>>2]>>>24-8*(3&e[0])&255],c^=a[5][n[e[1]>>>2]>>>24-8*(3&e[1])&255],c^=a[6][n[e[2]>>>2]>>>24-8*(3&e[2])&255],c^=a[7][n[e[3]>>>2]>>>24-8*(3&e[3])&255],c^=a[4+s][n[e[4]>>>2]>>>24-8*(3&e[4])&255],i[u]=c,u++}}for(let e=0;e<16;e++)this.masking[e]=i[e],this.rotate[e]=31&i[16+e]};const a=new Array(8);a[0]=[821772500,2678128395,1810681135,1059425402,505495343,2617265619,1610868032,3483355465,3218386727,2294005173,3791863952,2563806837,1852023008,365126098,3269944861,584384398,677919599,3229601881,4280515016,2002735330,1136869587,3744433750,2289869850,2731719981,2714362070,879511577,1639411079,575934255,717107937,2857637483,576097850,2731753936,1725645e3,2810460463,5111599,767152862,2543075244,1251459544,1383482551,3052681127,3089939183,3612463449,1878520045,1510570527,2189125840,2431448366,582008916,3163445557,1265446783,1354458274,3529918736,3202711853,3073581712,3912963487,3029263377,1275016285,4249207360,2905708351,3304509486,1442611557,3585198765,2712415662,2731849581,3248163920,2283946226,208555832,2766454743,1331405426,1447828783,3315356441,3108627284,2957404670,2981538698,3339933917,1669711173,286233437,1465092821,1782121619,3862771680,710211251,980974943,1651941557,430374111,2051154026,704238805,4128970897,3144820574,2857402727,948965521,3333752299,2227686284,718756367,2269778983,2731643755,718440111,2857816721,3616097120,1113355533,2478022182,410092745,1811985197,1944238868,2696854588,1415722873,1682284203,1060277122,1998114690,1503841958,82706478,2315155686,1068173648,845149890,2167947013,1768146376,1993038550,3566826697,3390574031,940016341,3355073782,2328040721,904371731,1205506512,4094660742,2816623006,825647681,85914773,2857843460,1249926541,1417871568,3287612,3211054559,3126306446,1975924523,1353700161,2814456437,2438597621,1800716203,722146342,2873936343,1151126914,4160483941,2877670899,458611604,2866078500,3483680063,770352098,2652916994,3367839148,3940505011,3585973912,3809620402,718646636,2504206814,2914927912,3631288169,2857486607,2860018678,575749918,2857478043,718488780,2069512688,3548183469,453416197,1106044049,3032691430,52586708,3378514636,3459808877,3211506028,1785789304,218356169,3571399134,3759170522,1194783844,1523787992,3007827094,1975193539,2555452411,1341901877,3045838698,3776907964,3217423946,2802510864,2889438986,1057244207,1636348243,3761863214,1462225785,2632663439,481089165,718503062,24497053,3332243209,3344655856,3655024856,3960371065,1195698900,2971415156,3710176158,2115785917,4027663609,3525578417,2524296189,2745972565,3564906415,1372086093,1452307862,2780501478,1476592880,3389271281,18495466,2378148571,901398090,891748256,3279637769,3157290713,2560960102,1447622437,4284372637,216884176,2086908623,1879786977,3588903153,2242455666,2938092967,3559082096,2810645491,758861177,1121993112,215018983,642190776,4169236812,1196255959,2081185372,3508738393,941322904,4124243163,2877523539,1848581667,2205260958,3180453958,2589345134,3694731276,550028657,2519456284,3789985535,2973870856,2093648313,443148163,46942275,2734146937,1117713533,1115362972,1523183689,3717140224,1551984063],a[1]=[522195092,4010518363,1776537470,960447360,4267822970,4005896314,1435016340,1929119313,2913464185,1310552629,3579470798,3724818106,2579771631,1594623892,417127293,2715217907,2696228731,1508390405,3994398868,3925858569,3695444102,4019471449,3129199795,3770928635,3520741761,990456497,4187484609,2783367035,21106139,3840405339,631373633,3783325702,532942976,396095098,3548038825,4267192484,2564721535,2011709262,2039648873,620404603,3776170075,2898526339,3612357925,4159332703,1645490516,223693667,1567101217,3362177881,1029951347,3470931136,3570957959,1550265121,119497089,972513919,907948164,3840628539,1613718692,3594177948,465323573,2659255085,654439692,2575596212,2699288441,3127702412,277098644,624404830,4100943870,2717858591,546110314,2403699828,3655377447,1321679412,4236791657,1045293279,4010672264,895050893,2319792268,494945126,1914543101,2777056443,3894764339,2219737618,311263384,4275257268,3458730721,669096869,3584475730,3835122877,3319158237,3949359204,2005142349,2713102337,2228954793,3769984788,569394103,3855636576,1425027204,108000370,2736431443,3671869269,3043122623,1750473702,2211081108,762237499,3972989403,2798899386,3061857628,2943854345,867476300,964413654,1591880597,1594774276,2179821409,552026980,3026064248,3726140315,2283577634,3110545105,2152310760,582474363,1582640421,1383256631,2043843868,3322775884,1217180674,463797851,2763038571,480777679,2718707717,2289164131,3118346187,214354409,200212307,3810608407,3025414197,2674075964,3997296425,1847405948,1342460550,510035443,4080271814,815934613,833030224,1620250387,1945732119,2703661145,3966000196,1388869545,3456054182,2687178561,2092620194,562037615,1356438536,3409922145,3261847397,1688467115,2150901366,631725691,3840332284,549916902,3455104640,394546491,837744717,2114462948,751520235,2221554606,2415360136,3999097078,2063029875,803036379,2702586305,821456707,3019566164,360699898,4018502092,3511869016,3677355358,2402471449,812317050,49299192,2570164949,3259169295,2816732080,3331213574,3101303564,2156015656,3705598920,3546263921,143268808,3200304480,1638124008,3165189453,3341807610,578956953,2193977524,3638120073,2333881532,807278310,658237817,2969561766,1641658566,11683945,3086995007,148645947,1138423386,4158756760,1981396783,2401016740,3699783584,380097457,2680394679,2803068651,3334260286,441530178,4016580796,1375954390,761952171,891809099,2183123478,157052462,3683840763,1592404427,341349109,2438483839,1417898363,644327628,2233032776,2353769706,2201510100,220455161,1815641738,182899273,2995019788,3627381533,3702638151,2890684138,1052606899,588164016,1681439879,4038439418,2405343923,4229449282,167996282,1336969661,1688053129,2739224926,1543734051,1046297529,1138201970,2121126012,115334942,1819067631,1902159161,1941945968,2206692869,1159982321],a[2]=[2381300288,637164959,3952098751,3893414151,1197506559,916448331,2350892612,2932787856,3199334847,4009478890,3905886544,1373570990,2450425862,4037870920,3778841987,2456817877,286293407,124026297,3001279700,1028597854,3115296800,4208886496,2691114635,2188540206,1430237888,1218109995,3572471700,308166588,570424558,2187009021,2455094765,307733056,1310360322,3135275007,1384269543,2388071438,863238079,2359263624,2801553128,3380786597,2831162807,1470087780,1728663345,4072488799,1090516929,532123132,2389430977,1132193179,2578464191,3051079243,1670234342,1434557849,2711078940,1241591150,3314043432,3435360113,3091448339,1812415473,2198440252,267246943,796911696,3619716990,38830015,1526438404,2806502096,374413614,2943401790,1489179520,1603809326,1920779204,168801282,260042626,2358705581,1563175598,2397674057,1356499128,2217211040,514611088,2037363785,2186468373,4022173083,2792511869,2913485016,1173701892,4200428547,3896427269,1334932762,2455136706,602925377,2835607854,1613172210,41346230,2499634548,2457437618,2188827595,41386358,4172255629,1313404830,2405527007,3801973774,2217704835,873260488,2528884354,2478092616,4012915883,2555359016,2006953883,2463913485,575479328,2218240648,2099895446,660001756,2341502190,3038761536,3888151779,3848713377,3286851934,1022894237,1620365795,3449594689,1551255054,15374395,3570825345,4249311020,4151111129,3181912732,310226346,1133119310,530038928,136043402,2476768958,3107506709,2544909567,1036173560,2367337196,1681395281,1758231547,3641649032,306774401,1575354324,3716085866,1990386196,3114533736,2455606671,1262092282,3124342505,2768229131,4210529083,1833535011,423410938,660763973,2187129978,1639812e3,3508421329,3467445492,310289298,272797111,2188552562,2456863912,310240523,677093832,1013118031,901835429,3892695601,1116285435,3036471170,1337354835,243122523,520626091,277223598,4244441197,4194248841,1766575121,594173102,316590669,742362309,3536858622,4176435350,3838792410,2501204839,1229605004,3115755532,1552908988,2312334149,979407927,3959474601,1148277331,176638793,3614686272,2083809052,40992502,1340822838,2731552767,3535757508,3560899520,1354035053,122129617,7215240,2732932949,3118912700,2718203926,2539075635,3609230695,3725561661,1928887091,2882293555,1988674909,2063640240,2491088897,1459647954,4189817080,2302804382,1113892351,2237858528,1927010603,4002880361,1856122846,1594404395,2944033133,3855189863,3474975698,1643104450,4054590833,3431086530,1730235576,2984608721,3084664418,2131803598,4178205752,267404349,1617849798,1616132681,1462223176,736725533,2327058232,551665188,2945899023,1749386277,2575514597,1611482493,674206544,2201269090,3642560800,728599968,1680547377,2620414464,1388111496,453204106,4156223445,1094905244,2754698257,2201108165,3757000246,2704524545,3922940700,3996465027],a[3]=[2645754912,532081118,2814278639,3530793624,1246723035,1689095255,2236679235,4194438865,2116582143,3859789411,157234593,2045505824,4245003587,1687664561,4083425123,605965023,672431967,1336064205,3376611392,214114848,4258466608,3232053071,489488601,605322005,3998028058,264917351,1912574028,756637694,436560991,202637054,135989450,85393697,2152923392,3896401662,2895836408,2145855233,3535335007,115294817,3147733898,1922296357,3464822751,4117858305,1037454084,2725193275,2127856640,1417604070,1148013728,1827919605,642362335,2929772533,909348033,1346338451,3547799649,297154785,1917849091,4161712827,2883604526,3968694238,1469521537,3780077382,3375584256,1763717519,136166297,4290970789,1295325189,2134727907,2798151366,1566297257,3672928234,2677174161,2672173615,965822077,2780786062,289653839,1133871874,3491843819,35685304,1068898316,418943774,672553190,642281022,2346158704,1954014401,3037126780,4079815205,2030668546,3840588673,672283427,1776201016,359975446,3750173538,555499703,2769985273,1324923,69110472,152125443,3176785106,3822147285,1340634837,798073664,1434183902,15393959,216384236,1303690150,3881221631,3711134124,3960975413,106373927,2578434224,1455997841,1801814300,1578393881,1854262133,3188178946,3258078583,2302670060,1539295533,3505142565,3078625975,2372746020,549938159,3278284284,2620926080,181285381,2865321098,3970029511,68876850,488006234,1728155692,2608167508,836007927,2435231793,919367643,3339422534,3655756360,1457871481,40520939,1380155135,797931188,234455205,2255801827,3990488299,397000196,739833055,3077865373,2871719860,4022553888,772369276,390177364,3853951029,557662966,740064294,1640166671,1699928825,3535942136,622006121,3625353122,68743880,1742502,219489963,1664179233,1577743084,1236991741,410585305,2366487942,823226535,1050371084,3426619607,3586839478,212779912,4147118561,1819446015,1911218849,530248558,3486241071,3252585495,2886188651,3410272728,2342195030,20547779,2982490058,3032363469,3631753222,312714466,1870521650,1493008054,3491686656,615382978,4103671749,2534517445,1932181,2196105170,278426614,6369430,3274544417,2913018367,697336853,2143000447,2946413531,701099306,1558357093,2805003052,3500818408,2321334417,3567135975,216290473,3591032198,23009561,1996984579,3735042806,2024298078,3739440863,569400510,2339758983,3016033873,3097871343,3639523026,3844324983,3256173865,795471839,2951117563,4101031090,4091603803,3603732598,971261452,534414648,428311343,3389027175,2844869880,694888862,1227866773,2456207019,3043454569,2614353370,3749578031,3676663836,459166190,4132644070,1794958188,51825668,2252611902,3084671440,2036672799,3436641603,1099053433,2469121526,3059204941,1323291266,2061838604,1018778475,2233344254,2553501054,334295216,3556750194,1065731521,183467730],a[4]=[2127105028,745436345,2601412319,2788391185,3093987327,500390133,1155374404,389092991,150729210,3891597772,3523549952,1935325696,716645080,946045387,2901812282,1774124410,3869435775,4039581901,3293136918,3438657920,948246080,363898952,3867875531,1286266623,1598556673,68334250,630723836,1104211938,1312863373,613332731,2377784574,1101634306,441780740,3129959883,1917973735,2510624549,3238456535,2544211978,3308894634,1299840618,4076074851,1756332096,3977027158,297047435,3790297736,2265573040,3621810518,1311375015,1667687725,47300608,3299642885,2474112369,201668394,1468347890,576830978,3594690761,3742605952,1958042578,1747032512,3558991340,1408974056,3366841779,682131401,1033214337,1545599232,4265137049,206503691,103024618,2855227313,1337551222,2428998917,2963842932,4015366655,3852247746,2796956967,3865723491,3747938335,247794022,3755824572,702416469,2434691994,397379957,851939612,2314769512,218229120,1380406772,62274761,214451378,3170103466,2276210409,3845813286,28563499,446592073,1693330814,3453727194,29968656,3093872512,220656637,2470637031,77972100,1667708854,1358280214,4064765667,2395616961,325977563,4277240721,4220025399,3605526484,3355147721,811859167,3069544926,3962126810,652502677,3075892249,4132761541,3498924215,1217549313,3250244479,3858715919,3053989961,1538642152,2279026266,2875879137,574252750,3324769229,2651358713,1758150215,141295887,2719868960,3515574750,4093007735,4194485238,1082055363,3417560400,395511885,2966884026,179534037,3646028556,3738688086,1092926436,2496269142,257381841,3772900718,1636087230,1477059743,2499234752,3811018894,2675660129,3285975680,90732309,1684827095,1150307763,1723134115,3237045386,1769919919,1240018934,815675215,750138730,2239792499,1234303040,1995484674,138143821,675421338,1145607174,1936608440,3238603024,2345230278,2105974004,323969391,779555213,3004902369,2861610098,1017501463,2098600890,2628620304,2940611490,2682542546,1171473753,3656571411,3687208071,4091869518,393037935,159126506,1662887367,1147106178,391545844,3452332695,1891500680,3016609650,1851642611,546529401,1167818917,3194020571,2848076033,3953471836,575554290,475796850,4134673196,450035699,2351251534,844027695,1080539133,86184846,1554234488,3692025454,1972511363,2018339607,1491841390,1141460869,1061690759,4244549243,2008416118,2351104703,2868147542,1598468138,722020353,1027143159,212344630,1387219594,1725294528,3745187956,2500153616,458938280,4129215917,1828119673,544571780,3503225445,2297937496,1241802790,267843827,2694610800,1397140384,1558801448,3782667683,1806446719,929573330,2234912681,400817706,616011623,4121520928,3603768725,1761550015,1968522284,4053731006,4192232858,4005120285,872482584,3140537016,3894607381,2287405443,1963876937,3663887957,1584857e3,2975024454,1833426440,4025083860],a[5]=[4143615901,749497569,1285769319,3795025788,2514159847,23610292,3974978748,844452780,3214870880,3751928557,2213566365,1676510905,448177848,3730751033,4086298418,2307502392,871450977,3222878141,4110862042,3831651966,2735270553,1310974780,2043402188,1218528103,2736035353,4274605013,2702448458,3936360550,2693061421,162023535,2827510090,687910808,23484817,3784910947,3371371616,779677500,3503626546,3473927188,4157212626,3500679282,4248902014,2466621104,3899384794,1958663117,925738300,1283408968,3669349440,1840910019,137959847,2679828185,1239142320,1315376211,1547541505,1690155329,739140458,3128809933,3933172616,3876308834,905091803,1548541325,4040461708,3095483362,144808038,451078856,676114313,2861728291,2469707347,993665471,373509091,2599041286,4025009006,4170239449,2149739950,3275793571,3749616649,2794760199,1534877388,572371878,2590613551,1753320020,3467782511,1405125690,4270405205,633333386,3026356924,3475123903,632057672,2846462855,1404951397,3882875879,3915906424,195638627,2385783745,3902872553,1233155085,3355999740,2380578713,2702246304,2144565621,3663341248,3894384975,2502479241,4248018925,3094885567,1594115437,572884632,3385116731,767645374,1331858858,1475698373,3793881790,3532746431,1321687957,619889600,1121017241,3440213920,2070816767,2833025776,1933951238,4095615791,890643334,3874130214,859025556,360630002,925594799,1764062180,3920222280,4078305929,979562269,2810700344,4087740022,1949714515,546639971,1165388173,3069891591,1495988560,922170659,1291546247,2107952832,1813327274,3406010024,3306028637,4241950635,153207855,2313154747,1608695416,1150242611,1967526857,721801357,1220138373,3691287617,3356069787,2112743302,3281662835,1111556101,1778980689,250857638,2298507990,673216130,2846488510,3207751581,3562756981,3008625920,3417367384,2198807050,529510932,3547516680,3426503187,2364944742,102533054,2294910856,1617093527,1204784762,3066581635,1019391227,1069574518,1317995090,1691889997,3661132003,510022745,3238594800,1362108837,1817929911,2184153760,805817662,1953603311,3699844737,120799444,2118332377,207536705,2282301548,4120041617,145305846,2508124933,3086745533,3261524335,1877257368,2977164480,3160454186,2503252186,4221677074,759945014,254147243,2767453419,3801518371,629083197,2471014217,907280572,3900796746,940896768,2751021123,2625262786,3161476951,3661752313,3260732218,1425318020,2977912069,1496677566,3988592072,2140652971,3126511541,3069632175,977771578,1392695845,1698528874,1411812681,1369733098,1343739227,3620887944,1142123638,67414216,3102056737,3088749194,1626167401,2546293654,3941374235,697522451,33404913,143560186,2595682037,994885535,1247667115,3859094837,2699155541,3547024625,4114935275,2968073508,3199963069,2732024527,1237921620,951448369,1898488916,1211705605,2790989240,2233243581,3598044975],a[6]=[2246066201,858518887,1714274303,3485882003,713916271,2879113490,3730835617,539548191,36158695,1298409750,419087104,1358007170,749914897,2989680476,1261868530,2995193822,2690628854,3443622377,3780124940,3796824509,2976433025,4259637129,1551479e3,512490819,1296650241,951993153,2436689437,2460458047,144139966,3136204276,310820559,3068840729,643875328,1969602020,1680088954,2185813161,3283332454,672358534,198762408,896343282,276269502,3014846926,84060815,197145886,376173866,3943890818,3813173521,3545068822,1316698879,1598252827,2633424951,1233235075,859989710,2358460855,3503838400,3409603720,1203513385,1193654839,2792018475,2060853022,207403770,1144516871,3068631394,1121114134,177607304,3785736302,326409831,1929119770,2983279095,4183308101,3474579288,3200513878,3228482096,119610148,1170376745,3378393471,3163473169,951863017,3337026068,3135789130,2907618374,1183797387,2015970143,4045674555,2182986399,2952138740,3928772205,384012900,2454997643,10178499,2879818989,2596892536,111523738,2995089006,451689641,3196290696,235406569,1441906262,3890558523,3013735005,4158569349,1644036924,376726067,1006849064,3664579700,2041234796,1021632941,1374734338,2566452058,371631263,4007144233,490221539,206551450,3140638584,1053219195,1853335209,3412429660,3562156231,735133835,1623211703,3104214392,2738312436,4096837757,3366392578,3110964274,3956598718,3196820781,2038037254,3877786376,2339753847,300912036,3766732888,2372630639,1516443558,4200396704,1574567987,4069441456,4122592016,2699739776,146372218,2748961456,2043888151,35287437,2596680554,655490400,1132482787,110692520,1031794116,2188192751,1324057718,1217253157,919197030,686247489,3261139658,1028237775,3135486431,3059715558,2460921700,986174950,2661811465,4062904701,2752986992,3709736643,367056889,1353824391,731860949,1650113154,1778481506,784341916,357075625,3608602432,1074092588,2480052770,3811426202,92751289,877911070,3600361838,1231880047,480201094,3756190983,3094495953,434011822,87971354,363687820,1717726236,1901380172,3926403882,2481662265,400339184,1490350766,2661455099,1389319756,2558787174,784598401,1983468483,30828846,3550527752,2716276238,3841122214,1765724805,1955612312,1277890269,1333098070,1564029816,2704417615,1026694237,3287671188,1260819201,3349086767,1016692350,1582273796,1073413053,1995943182,694588404,1025494639,3323872702,3551898420,4146854327,453260480,1316140391,1435673405,3038941953,3486689407,1622062951,403978347,817677117,950059133,4246079218,3278066075,1486738320,1417279718,481875527,2549965225,3933690356,760697757,1452955855,3897451437,1177426808,1702951038,4085348628,2447005172,1084371187,3516436277,3068336338,1073369276,1027665953,3284188590,1230553676,1368340146,2226246512,267243139,2274220762,4070734279,2497715176,2423353163,2504755875],a[7]=[3793104909,3151888380,2817252029,895778965,2005530807,3871412763,237245952,86829237,296341424,3851759377,3974600970,2475086196,709006108,1994621201,2972577594,937287164,3734691505,168608556,3189338153,2225080640,3139713551,3033610191,3025041904,77524477,185966941,1208824168,2344345178,1721625922,3354191921,1066374631,1927223579,1971335949,2483503697,1551748602,2881383779,2856329572,3003241482,48746954,1398218158,2050065058,313056748,4255789917,393167848,1912293076,940740642,3465845460,3091687853,2522601570,2197016661,1727764327,364383054,492521376,1291706479,3264136376,1474851438,1685747964,2575719748,1619776915,1814040067,970743798,1561002147,2925768690,2123093554,1880132620,3151188041,697884420,2550985770,2607674513,2659114323,110200136,1489731079,997519150,1378877361,3527870668,478029773,2766872923,1022481122,431258168,1112503832,897933369,2635587303,669726182,3383752315,918222264,163866573,3246985393,3776823163,114105080,1903216136,761148244,3571337562,1690750982,3166750252,1037045171,1888456500,2010454850,642736655,616092351,365016990,1185228132,4174898510,1043824992,2023083429,2241598885,3863320456,3279669087,3674716684,108438443,2132974366,830746235,606445527,4173263986,2204105912,1844756978,2532684181,4245352700,2969441100,3796921661,1335562986,4061524517,2720232303,2679424040,634407289,885462008,3294724487,3933892248,2094100220,339117932,4048830727,3202280980,1458155303,2689246273,1022871705,2464987878,3714515309,353796843,2822958815,4256850100,4052777845,551748367,618185374,3778635579,4020649912,1904685140,3069366075,2670879810,3407193292,2954511620,4058283405,2219449317,3135758300,1120655984,3447565834,1474845562,3577699062,550456716,3466908712,2043752612,881257467,869518812,2005220179,938474677,3305539448,3850417126,1315485940,3318264702,226533026,965733244,321539988,1136104718,804158748,573969341,3708209826,937399083,3290727049,2901666755,1461057207,4013193437,4066861423,3242773476,2421326174,1581322155,3028952165,786071460,3900391652,3918438532,1485433313,4023619836,3708277595,3678951060,953673138,1467089153,1930354364,1533292819,2492563023,1346121658,1685000834,1965281866,3765933717,4190206607,2052792609,3515332758,690371149,3125873887,2180283551,2903598061,3933952357,436236910,289419410,14314871,1242357089,2904507907,1616633776,2666382180,585885352,3471299210,2699507360,1432659641,277164553,3354103607,770115018,2303809295,3741942315,3177781868,2853364978,2269453327,3774259834,987383833,1290892879,225909803,1741533526,890078084,1496906255,1111072499,916028167,243534141,1252605537,2204162171,531204876,290011180,3916834213,102027703,237315147,209093447,1486785922,220223953,2758195998,4175039106,82940208,3127791296,2569425252,518464269,1353887104,3941492737,2377294467,3935040926]}function we(e){this.cast5=new ge,this.cast5.setKey(e),this.encrypt=function(e){return this.cast5.encrypt(e)}}me.keySize=me.prototype.keySize=24,me.blockSize=me.prototype.blockSize=8,we.blockSize=we.prototype.blockSize=8,we.keySize=we.prototype.keySize=16;const ve=4294967295;function _e(e,t){return(e<<t|e>>>32-t)&ve}function ke(e,t){return e[t]|e[t+1]<<8|e[t+2]<<16|e[t+3]<<24}function Se(e,t,r){e.splice(t,4,255&r,r>>>8&255,r>>>16&255,r>>>24&255)}function Ae(e,t){return e>>>8*t&255}function Ee(e){this.tf=function(){let e=null,t=null,r=-1,n=[],i=[[],[],[],[]];function a(e){return i[0][Ae(e,0)]^i[1][Ae(e,1)]^i[2][Ae(e,2)]^i[3][Ae(e,3)]}function s(e){return i[0][Ae(e,3)]^i[1][Ae(e,0)]^i[2][Ae(e,1)]^i[3][Ae(e,2)]}function o(e,t){let r=a(t[0]),i=s(t[1]);t[2]=_e(t[2]^r+i+n[4*e+8]&ve,31),t[3]=_e(t[3],1)^r+2*i+n[4*e+9]&ve,r=a(t[2]),i=s(t[3]),t[0]=_e(t[0]^r+i+n[4*e+10]&ve,31),t[1]=_e(t[1],1)^r+2*i+n[4*e+11]&ve}function c(e,t){let r=a(t[0]),i=s(t[1]);t[2]=_e(t[2],1)^r+i+n[4*e+10]&ve,t[3]=_e(t[3]^r+2*i+n[4*e+11]&ve,31),r=a(t[2]),i=s(t[3]),t[0]=_e(t[0],1)^r+i+n[4*e+8]&ve,t[1]=_e(t[1]^r+2*i+n[4*e+9]&ve,31)}return{name:"twofish",blocksize:16,open:function(t){let r,a,s,o,c;e=t;const u=[],h=[],f=[];let d;const l=[];let p,y,b;const m=[[8,1,7,13,6,15,3,2,0,11,5,9,14,12,10,4],[2,8,11,13,15,7,6,14,3,1,9,4,0,10,12,5]],g=[[14,12,11,8,1,2,3,5,15,4,10,6,7,0,9,13],[1,14,2,11,4,12,3,7,6,13,10,5,15,9,0,8]],w=[[11,10,5,14,6,13,9,0,12,8,15,3,2,4,7,1],[4,12,7,5,1,6,9,10,0,14,13,8,2,11,3,15]],v=[[13,7,15,4,1,2,6,14,9,11,3,0,8,5,12,10],[11,9,5,1,12,3,13,14,6,4,7,15,2,0,8,10]],_=[0,8,1,9,2,10,3,11,4,12,5,13,6,14,7,15],k=[0,9,2,11,4,13,6,15,8,1,10,3,12,5,14,7],S=[[],[]],A=[[],[],[],[]];function E(e){return e^e>>2^[0,90,180,238][3&e]}function P(e){return e^e>>1^e>>2^[0,238,180,90][3&e]}function x(e,t){let r,n,i;for(r=0;r<8;r++)n=t>>>24,t=t<<8&ve|e>>>24,e=e<<8&ve,i=n<<1,128&n&&(i^=333),t^=n^i<<16,i^=n>>>1,1&n&&(i^=166),t^=i<<24|i<<8;return t}function M(e,t){const r=t>>4,n=15&t,i=m[e][r^n],a=g[e][_[n]^k[r]];return v[e][_[a]^k[i]]<<4|w[e][i^a]}function C(e,t){let r=Ae(e,0),n=Ae(e,1),i=Ae(e,2),a=Ae(e,3);switch(d){case 4:r=S[1][r]^Ae(t[3],0),n=S[0][n]^Ae(t[3],1),i=S[0][i]^Ae(t[3],2),a=S[1][a]^Ae(t[3],3);case 3:r=S[1][r]^Ae(t[2],0),n=S[1][n]^Ae(t[2],1),i=S[0][i]^Ae(t[2],2),a=S[0][a]^Ae(t[2],3);case 2:r=S[0][S[0][r]^Ae(t[1],0)]^Ae(t[0],0),n=S[0][S[1][n]^Ae(t[1],1)]^Ae(t[0],1),i=S[1][S[0][i]^Ae(t[1],2)]^Ae(t[0],2),a=S[1][S[1][a]^Ae(t[1],3)]^Ae(t[0],3)}return A[0][r]^A[1][n]^A[2][i]^A[3][a]}for(e=e.slice(0,32),r=e.length;16!==r&&24!==r&&32!==r;)e[r++]=0;for(r=0;r<e.length;r+=4)f[r>>2]=ke(e,r);for(r=0;r<256;r++)S[0][r]=M(0,r),S[1][r]=M(1,r);for(r=0;r<256;r++)p=S[1][r],y=E(p),b=P(p),A[0][r]=p+(y<<8)+(b<<16)+(b<<24),A[2][r]=y+(b<<8)+(p<<16)+(b<<24),p=S[0][r],y=E(p),b=P(p),A[1][r]=b+(b<<8)+(y<<16)+(p<<24),A[3][r]=y+(p<<8)+(b<<16)+(y<<24);for(d=f.length/2,r=0;r<d;r++)a=f[r+r],u[r]=a,s=f[r+r+1],h[r]=s,l[d-r-1]=x(a,s);for(r=0;r<40;r+=2)a=16843009*r,s=a+16843009,a=C(a,u),s=_e(C(s,h),8),n[r]=a+s&ve,n[r+1]=_e(a+2*s,9);for(r=0;r<256;r++)switch(a=s=o=c=r,d){case 4:a=S[1][a]^Ae(l[3],0),s=S[0][s]^Ae(l[3],1),o=S[0][o]^Ae(l[3],2),c=S[1][c]^Ae(l[3],3);case 3:a=S[1][a]^Ae(l[2],0),s=S[1][s]^Ae(l[2],1),o=S[0][o]^Ae(l[2],2),c=S[0][c]^Ae(l[2],3);case 2:i[0][r]=A[0][S[0][S[0][a]^Ae(l[1],0)]^Ae(l[0],0)],i[1][r]=A[1][S[0][S[1][s]^Ae(l[1],1)]^Ae(l[0],1)],i[2][r]=A[2][S[1][S[0][o]^Ae(l[1],2)]^Ae(l[0],2)],i[3][r]=A[3][S[1][S[1][c]^Ae(l[1],3)]^Ae(l[0],3)]}},close:function(){n=[],i=[[],[],[],[]]},encrypt:function(e,i){t=e,r=i;const a=[ke(t,r)^n[0],ke(t,r+4)^n[1],ke(t,r+8)^n[2],ke(t,r+12)^n[3]];for(let e=0;e<8;e++)o(e,a);return Se(t,r,a[2]^n[4]),Se(t,r+4,a[3]^n[5]),Se(t,r+8,a[0]^n[6]),Se(t,r+12,a[1]^n[7]),r+=16,t},decrypt:function(e,i){t=e,r=i;const a=[ke(t,r)^n[4],ke(t,r+4)^n[5],ke(t,r+8)^n[6],ke(t,r+12)^n[7]];for(let e=7;e>=0;e--)c(e,a);Se(t,r,a[2]^n[0]),Se(t,r+4,a[3]^n[1]),Se(t,r+8,a[0]^n[2]),Se(t,r+12,a[1]^n[3]),r+=16},finalize:function(){return t}}}(),this.tf.open(Array.from(e),0),this.encrypt=function(e){return this.tf.encrypt(Array.from(e),0)}}function Pe(){}function xe(e){this.bf=new Pe,this.bf.init(e),this.encrypt=function(e){return this.bf.encryptBlock(e)}}Ee.keySize=Ee.prototype.keySize=32,Ee.blockSize=Ee.prototype.blockSize=16,Pe.prototype.BLOCKSIZE=8,Pe.prototype.SBOXES=[[3509652390,2564797868,805139163,3491422135,3101798381,1780907670,3128725573,4046225305,614570311,3012652279,134345442,2240740374,1667834072,1901547113,2757295779,4103290238,227898511,1921955416,1904987480,2182433518,2069144605,3260701109,2620446009,720527379,3318853667,677414384,3393288472,3101374703,2390351024,1614419982,1822297739,2954791486,3608508353,3174124327,2024746970,1432378464,3864339955,2857741204,1464375394,1676153920,1439316330,715854006,3033291828,289532110,2706671279,2087905683,3018724369,1668267050,732546397,1947742710,3462151702,2609353502,2950085171,1814351708,2050118529,680887927,999245976,1800124847,3300911131,1713906067,1641548236,4213287313,1216130144,1575780402,4018429277,3917837745,3693486850,3949271944,596196993,3549867205,258830323,2213823033,772490370,2760122372,1774776394,2652871518,566650946,4142492826,1728879713,2882767088,1783734482,3629395816,2517608232,2874225571,1861159788,326777828,3124490320,2130389656,2716951837,967770486,1724537150,2185432712,2364442137,1164943284,2105845187,998989502,3765401048,2244026483,1075463327,1455516326,1322494562,910128902,469688178,1117454909,936433444,3490320968,3675253459,1240580251,122909385,2157517691,634681816,4142456567,3825094682,3061402683,2540495037,79693498,3249098678,1084186820,1583128258,426386531,1761308591,1047286709,322548459,995290223,1845252383,2603652396,3431023940,2942221577,3202600964,3727903485,1712269319,422464435,3234572375,1170764815,3523960633,3117677531,1434042557,442511882,3600875718,1076654713,1738483198,4213154764,2393238008,3677496056,1014306527,4251020053,793779912,2902807211,842905082,4246964064,1395751752,1040244610,2656851899,3396308128,445077038,3742853595,3577915638,679411651,2892444358,2354009459,1767581616,3150600392,3791627101,3102740896,284835224,4246832056,1258075500,768725851,2589189241,3069724005,3532540348,1274779536,3789419226,2764799539,1660621633,3471099624,4011903706,913787905,3497959166,737222580,2514213453,2928710040,3937242737,1804850592,3499020752,2949064160,2386320175,2390070455,2415321851,4061277028,2290661394,2416832540,1336762016,1754252060,3520065937,3014181293,791618072,3188594551,3933548030,2332172193,3852520463,3043980520,413987798,3465142937,3030929376,4245938359,2093235073,3534596313,375366246,2157278981,2479649556,555357303,3870105701,2008414854,3344188149,4221384143,3956125452,2067696032,3594591187,2921233993,2428461,544322398,577241275,1471733935,610547355,4027169054,1432588573,1507829418,2025931657,3646575487,545086370,48609733,2200306550,1653985193,298326376,1316178497,3007786442,2064951626,458293330,2589141269,3591329599,3164325604,727753846,2179363840,146436021,1461446943,4069977195,705550613,3059967265,3887724982,4281599278,3313849956,1404054877,2845806497,146425753,1854211946],[1266315497,3048417604,3681880366,3289982499,290971e4,1235738493,2632868024,2414719590,3970600049,1771706367,1449415276,3266420449,422970021,1963543593,2690192192,3826793022,1062508698,1531092325,1804592342,2583117782,2714934279,4024971509,1294809318,4028980673,1289560198,2221992742,1669523910,35572830,157838143,1052438473,1016535060,1802137761,1753167236,1386275462,3080475397,2857371447,1040679964,2145300060,2390574316,1461121720,2956646967,4031777805,4028374788,33600511,2920084762,1018524850,629373528,3691585981,3515945977,2091462646,2486323059,586499841,988145025,935516892,3367335476,2599673255,2839830854,265290510,3972581182,2759138881,3795373465,1005194799,847297441,406762289,1314163512,1332590856,1866599683,4127851711,750260880,613907577,1450815602,3165620655,3734664991,3650291728,3012275730,3704569646,1427272223,778793252,1343938022,2676280711,2052605720,1946737175,3164576444,3914038668,3967478842,3682934266,1661551462,3294938066,4011595847,840292616,3712170807,616741398,312560963,711312465,1351876610,322626781,1910503582,271666773,2175563734,1594956187,70604529,3617834859,1007753275,1495573769,4069517037,2549218298,2663038764,504708206,2263041392,3941167025,2249088522,1514023603,1998579484,1312622330,694541497,2582060303,2151582166,1382467621,776784248,2618340202,3323268794,2497899128,2784771155,503983604,4076293799,907881277,423175695,432175456,1378068232,4145222326,3954048622,3938656102,3820766613,2793130115,2977904593,26017576,3274890735,3194772133,1700274565,1756076034,4006520079,3677328699,720338349,1533947780,354530856,688349552,3973924725,1637815568,332179504,3949051286,53804574,2852348879,3044236432,1282449977,3583942155,3416972820,4006381244,1617046695,2628476075,3002303598,1686838959,431878346,2686675385,1700445008,1080580658,1009431731,832498133,3223435511,2605976345,2271191193,2516031870,1648197032,4164389018,2548247927,300782431,375919233,238389289,3353747414,2531188641,2019080857,1475708069,455242339,2609103871,448939670,3451063019,1395535956,2413381860,1841049896,1491858159,885456874,4264095073,4001119347,1565136089,3898914787,1108368660,540939232,1173283510,2745871338,3681308437,4207628240,3343053890,4016749493,1699691293,1103962373,3625875870,2256883143,3830138730,1031889488,3479347698,1535977030,4236805024,3251091107,2132092099,1774941330,1199868427,1452454533,157007616,2904115357,342012276,595725824,1480756522,206960106,497939518,591360097,863170706,2375253569,3596610801,1814182875,2094937945,3421402208,1082520231,3463918190,2785509508,435703966,3908032597,1641649973,2842273706,3305899714,1510255612,2148256476,2655287854,3276092548,4258621189,236887753,3681803219,274041037,1734335097,3815195456,3317970021,1899903192,1026095262,4050517792,356393447,2410691914,3873677099,3682840055],[3913112168,2491498743,4132185628,2489919796,1091903735,1979897079,3170134830,3567386728,3557303409,857797738,1136121015,1342202287,507115054,2535736646,337727348,3213592640,1301675037,2528481711,1895095763,1721773893,3216771564,62756741,2142006736,835421444,2531993523,1442658625,3659876326,2882144922,676362277,1392781812,170690266,3921047035,1759253602,3611846912,1745797284,664899054,1329594018,3901205900,3045908486,2062866102,2865634940,3543621612,3464012697,1080764994,553557557,3656615353,3996768171,991055499,499776247,1265440854,648242737,3940784050,980351604,3713745714,1749149687,3396870395,4211799374,3640570775,1161844396,3125318951,1431517754,545492359,4268468663,3499529547,1437099964,2702547544,3433638243,2581715763,2787789398,1060185593,1593081372,2418618748,4260947970,69676912,2159744348,86519011,2512459080,3838209314,1220612927,3339683548,133810670,1090789135,1078426020,1569222167,845107691,3583754449,4072456591,1091646820,628848692,1613405280,3757631651,526609435,236106946,48312990,2942717905,3402727701,1797494240,859738849,992217954,4005476642,2243076622,3870952857,3732016268,765654824,3490871365,2511836413,1685915746,3888969200,1414112111,2273134842,3281911079,4080962846,172450625,2569994100,980381355,4109958455,2819808352,2716589560,2568741196,3681446669,3329971472,1835478071,660984891,3704678404,4045999559,3422617507,3040415634,1762651403,1719377915,3470491036,2693910283,3642056355,3138596744,1364962596,2073328063,1983633131,926494387,3423689081,2150032023,4096667949,1749200295,3328846651,309677260,2016342300,1779581495,3079819751,111262694,1274766160,443224088,298511866,1025883608,3806446537,1145181785,168956806,3641502830,3584813610,1689216846,3666258015,3200248200,1692713982,2646376535,4042768518,1618508792,1610833997,3523052358,4130873264,2001055236,3610705100,2202168115,4028541809,2961195399,1006657119,2006996926,3186142756,1430667929,3210227297,1314452623,4074634658,4101304120,2273951170,1399257539,3367210612,3027628629,1190975929,2062231137,2333990788,2221543033,2438960610,1181637006,548689776,2362791313,3372408396,3104550113,3145860560,296247880,1970579870,3078560182,3769228297,1714227617,3291629107,3898220290,166772364,1251581989,493813264,448347421,195405023,2709975567,677966185,3703036547,1463355134,2715995803,1338867538,1343315457,2802222074,2684532164,233230375,2599980071,2000651841,3277868038,1638401717,4028070440,3237316320,6314154,819756386,300326615,590932579,1405279636,3267499572,3150704214,2428286686,3959192993,3461946742,1862657033,1266418056,963775037,2089974820,2263052895,1917689273,448879540,3550394620,3981727096,150775221,3627908307,1303187396,508620638,2975983352,2726630617,1817252668,1876281319,1457606340,908771278,3720792119,3617206836,2455994898,1729034894,1080033504],[976866871,3556439503,2881648439,1522871579,1555064734,1336096578,3548522304,2579274686,3574697629,3205460757,3593280638,3338716283,3079412587,564236357,2993598910,1781952180,1464380207,3163844217,3332601554,1699332808,1393555694,1183702653,3581086237,1288719814,691649499,2847557200,2895455976,3193889540,2717570544,1781354906,1676643554,2592534050,3230253752,1126444790,2770207658,2633158820,2210423226,2615765581,2414155088,3127139286,673620729,2805611233,1269405062,4015350505,3341807571,4149409754,1057255273,2012875353,2162469141,2276492801,2601117357,993977747,3918593370,2654263191,753973209,36408145,2530585658,25011837,3520020182,2088578344,530523599,2918365339,1524020338,1518925132,3760827505,3759777254,1202760957,3985898139,3906192525,674977740,4174734889,2031300136,2019492241,3983892565,4153806404,3822280332,352677332,2297720250,60907813,90501309,3286998549,1016092578,2535922412,2839152426,457141659,509813237,4120667899,652014361,1966332200,2975202805,55981186,2327461051,676427537,3255491064,2882294119,3433927263,1307055953,942726286,933058658,2468411793,3933900994,4215176142,1361170020,2001714738,2830558078,3274259782,1222529897,1679025792,2729314320,3714953764,1770335741,151462246,3013232138,1682292957,1483529935,471910574,1539241949,458788160,3436315007,1807016891,3718408830,978976581,1043663428,3165965781,1927990952,4200891579,2372276910,3208408903,3533431907,1412390302,2931980059,4132332400,1947078029,3881505623,4168226417,2941484381,1077988104,1320477388,886195818,18198404,3786409e3,2509781533,112762804,3463356488,1866414978,891333506,18488651,661792760,1628790961,3885187036,3141171499,876946877,2693282273,1372485963,791857591,2686433993,3759982718,3167212022,3472953795,2716379847,445679433,3561995674,3504004811,3574258232,54117162,3331405415,2381918588,3769707343,4154350007,1140177722,4074052095,668550556,3214352940,367459370,261225585,2610173221,4209349473,3468074219,3265815641,314222801,3066103646,3808782860,282218597,3406013506,3773591054,379116347,1285071038,846784868,2669647154,3771962079,3550491691,2305946142,453669953,1268987020,3317592352,3279303384,3744833421,2610507566,3859509063,266596637,3847019092,517658769,3462560207,3443424879,370717030,4247526661,2224018117,4143653529,4112773975,2788324899,2477274417,1456262402,2901442914,1517677493,1846949527,2295493580,3734397586,2176403920,1280348187,1908823572,3871786941,846861322,1172426758,3287448474,3383383037,1655181056,3139813346,901632758,1897031941,2986607138,3066810236,3447102507,1393639104,373351379,950779232,625454576,3124240540,4148612726,2007998917,544563296,2244738638,2330496472,2058025392,1291430526,424198748,50039436,29584100,3605783033,2429876329,2791104160,1057563949,3255363231,3075367218,3463963227,1469046755,985887462]],Pe.prototype.PARRAY=[608135816,2242054355,320440878,57701188,2752067618,698298832,137296536,3964562569,1160258022,953160567,3193202383,887688300,3232508343,3380367581,1065670069,3041331479,2450970073,2306472731],Pe.prototype.NN=16,Pe.prototype._clean=function(e){if(e<0){e=(2147483647&e)+2147483648}return e},Pe.prototype._F=function(e){let t;const r=255&e,n=255&(e>>>=8),i=255&(e>>>=8),a=255&(e>>>=8);return t=this.sboxes[0][a]+this.sboxes[1][i],t^=this.sboxes[2][n],t+=this.sboxes[3][r],t},Pe.prototype._encryptBlock=function(e){let t,r=e[0],n=e[1];for(t=0;t<this.NN;++t){r^=this.parray[t],n=this._F(r)^n;const e=r;r=n,n=e}r^=this.parray[this.NN+0],n^=this.parray[this.NN+1],e[0]=this._clean(n),e[1]=this._clean(r)},Pe.prototype.encryptBlock=function(e){let t;const r=[0,0],n=this.BLOCKSIZE/2;for(t=0;t<this.BLOCKSIZE/2;++t)r[0]=r[0]<<8|255&e[t+0],r[1]=r[1]<<8|255&e[t+n];this._encryptBlock(r);const i=[];for(t=0;t<this.BLOCKSIZE/2;++t)i[t+0]=r[0]>>>24-8*t&255,i[t+n]=r[1]>>>24-8*t&255;return i},Pe.prototype._decryptBlock=function(e){let t,r=e[0],n=e[1];for(t=this.NN+1;t>1;--t){r^=this.parray[t],n=this._F(r)^n;const e=r;r=n,n=e}r^=this.parray[1],n^=this.parray[0],e[0]=this._clean(n),e[1]=this._clean(r)},Pe.prototype.init=function(e){let t,r=0;for(this.parray=[],t=0;t<this.NN+2;++t){let n=0;for(let t=0;t<4;++t)n=n<<8|255&e[r],++r>=e.length&&(r=0);this.parray[t]=this.PARRAY[t]^n}for(this.sboxes=[],t=0;t<4;++t)for(this.sboxes[t]=[],r=0;r<256;++r)this.sboxes[t][r]=this.SBOXES[t][r];const n=[0,0];for(t=0;t<this.NN+2;t+=2)this._encryptBlock(n),this.parray[t+0]=n[0],this.parray[t+1]=n[1];for(t=0;t<4;++t)for(r=0;r<256;r+=2)this._encryptBlock(n),this.sboxes[t][r+0]=n[0],this.sboxes[t][r+1]=n[1]},xe.keySize=xe.prototype.keySize=16,xe.blockSize=xe.prototype.blockSize=8;const Me=pe(128),Ce=pe(192),Ke=pe(256),De=function(e){this.key=e,this.encrypt=function(e,t){return ye(be(this.key),e,!0,0,null,t)},this.decrypt=function(e,t){return ye(be(this.key),e,!1,0,null,t)}},Ie=me,Re=we,Ue=Ee,Be=xe;var Te=Object.freeze({__proto__:null,aes128:Me,aes192:Ce,aes256:Ke,des:De,tripledes:Ie,cast5:Re,twofish:Ue,blowfish:Be,idea:function(){throw new Error("IDEA symmetric-key algorithm not implemented")}}),ze=function(e,t,r){"use asm";var n=0,i=0,a=0,s=0,o=0,c=0,u=0;var h=0,f=0,d=0,l=0,p=0,y=0,b=0,m=0,g=0,w=0;var v=new e.Uint8Array(r);function _(e,t,r,c,u,h,f,d,l,p,y,b,m,g,w,v){e=e|0;t=t|0;r=r|0;c=c|0;u=u|0;h=h|0;f=f|0;d=d|0;l=l|0;p=p|0;y=y|0;b=b|0;m=m|0;g=g|0;w=w|0;v=v|0;var _=0,k=0,S=0,A=0,E=0,P=0,x=0,M=0,C=0,K=0,D=0,I=0,R=0,U=0,B=0,T=0,z=0,q=0,O=0,F=0,L=0,j=0,N=0,W=0,H=0,$=0,G=0,V=0,Z=0,Q=0,Y=0,X=0,J=0,ee=0,te=0,re=0,ne=0,ie=0,ae=0,se=0,oe=0,ce=0,ue=0,he=0,fe=0,de=0,le=0,pe=0,ye=0,be=0,me=0,ge=0,we=0,ve=0,_e=0,ke=0,Se=0,Ae=0,Ee=0,Pe=0,xe=0,Me=0,Ce=0,Ke=0,De=0,Ie=0,Re=0,Ue=0,Be=0,Te=0,ze=0;_=n;k=i;S=a;A=s;E=o;x=e+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=t+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=r+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=c+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=u+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=h+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=f+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=d+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=l+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=p+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=y+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=b+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=m+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=g+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=w+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;x=v+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=g^l^r^e;M=P<<1|P>>>31;x=M+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=w^p^c^t;C=P<<1|P>>>31;x=C+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=v^y^u^r;K=P<<1|P>>>31;x=K+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=M^b^h^c;D=P<<1|P>>>31;x=D+(_<<5|_>>>27)+E+(k&S|~k&A)+0x5a827999|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=C^m^f^u;I=P<<1|P>>>31;x=I+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=K^g^d^h;R=P<<1|P>>>31;x=R+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=D^w^l^f;U=P<<1|P>>>31;x=U+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=I^v^p^d;B=P<<1|P>>>31;x=B+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=R^M^y^l;T=P<<1|P>>>31;x=T+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=U^C^b^p;z=P<<1|P>>>31;x=z+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=B^K^m^y;q=P<<1|P>>>31;x=q+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=T^D^g^b;O=P<<1|P>>>31;x=O+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=z^I^w^m;F=P<<1|P>>>31;x=F+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=q^R^v^g;L=P<<1|P>>>31;x=L+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=O^U^M^w;j=P<<1|P>>>31;x=j+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=F^B^C^v;N=P<<1|P>>>31;x=N+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=L^T^K^M;W=P<<1|P>>>31;x=W+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=j^z^D^C;H=P<<1|P>>>31;x=H+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=N^q^I^K;$=P<<1|P>>>31;x=$+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=W^O^R^D;G=P<<1|P>>>31;x=G+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=H^F^U^I;V=P<<1|P>>>31;x=V+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=$^L^B^R;Z=P<<1|P>>>31;x=Z+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=G^j^T^U;Q=P<<1|P>>>31;x=Q+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=V^N^z^B;Y=P<<1|P>>>31;x=Y+(_<<5|_>>>27)+E+(k^S^A)+0x6ed9eba1|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Z^W^q^T;X=P<<1|P>>>31;x=X+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Q^H^O^z;J=P<<1|P>>>31;x=J+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Y^$^F^q;ee=P<<1|P>>>31;x=ee+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=X^G^L^O;te=P<<1|P>>>31;x=te+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=J^V^j^F;re=P<<1|P>>>31;x=re+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=ee^Z^N^L;ne=P<<1|P>>>31;x=ne+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=te^Q^W^j;ie=P<<1|P>>>31;x=ie+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=re^Y^H^N;ae=P<<1|P>>>31;x=ae+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=ne^X^$^W;se=P<<1|P>>>31;x=se+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=ie^J^G^H;oe=P<<1|P>>>31;x=oe+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=ae^ee^V^$;ce=P<<1|P>>>31;x=ce+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=se^te^Z^G;ue=P<<1|P>>>31;x=ue+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=oe^re^Q^V;he=P<<1|P>>>31;x=he+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=ce^ne^Y^Z;fe=P<<1|P>>>31;x=fe+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=ue^ie^X^Q;de=P<<1|P>>>31;x=de+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=he^ae^J^Y;le=P<<1|P>>>31;x=le+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=fe^se^ee^X;pe=P<<1|P>>>31;x=pe+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=de^oe^te^J;ye=P<<1|P>>>31;x=ye+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=le^ce^re^ee;be=P<<1|P>>>31;x=be+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=pe^ue^ne^te;me=P<<1|P>>>31;x=me+(_<<5|_>>>27)+E+(k&S|k&A|S&A)-0x70e44324|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=ye^he^ie^re;ge=P<<1|P>>>31;x=ge+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=be^fe^ae^ne;we=P<<1|P>>>31;x=we+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=me^de^se^ie;ve=P<<1|P>>>31;x=ve+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=ge^le^oe^ae;_e=P<<1|P>>>31;x=_e+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=we^pe^ce^se;ke=P<<1|P>>>31;x=ke+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=ve^ye^ue^oe;Se=P<<1|P>>>31;x=Se+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=_e^be^he^ce;Ae=P<<1|P>>>31;x=Ae+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=ke^me^fe^ue;Ee=P<<1|P>>>31;x=Ee+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Se^ge^de^he;Pe=P<<1|P>>>31;x=Pe+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Ae^we^le^fe;xe=P<<1|P>>>31;x=xe+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Ee^ve^pe^de;Me=P<<1|P>>>31;x=Me+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Pe^_e^ye^le;Ce=P<<1|P>>>31;x=Ce+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=xe^ke^be^pe;Ke=P<<1|P>>>31;x=Ke+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Me^Se^me^ye;De=P<<1|P>>>31;x=De+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Ce^Ae^ge^be;Ie=P<<1|P>>>31;x=Ie+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Ke^Ee^we^me;Re=P<<1|P>>>31;x=Re+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=De^Pe^ve^ge;Ue=P<<1|P>>>31;x=Ue+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Ie^xe^_e^we;Be=P<<1|P>>>31;x=Be+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Re^Me^ke^ve;Te=P<<1|P>>>31;x=Te+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;P=Ue^Ce^Se^_e;ze=P<<1|P>>>31;x=ze+(_<<5|_>>>27)+E+(k^S^A)-0x359d3e2a|0;E=A;A=S;S=k<<30|k>>>2;k=_;_=x;n=n+_|0;i=i+k|0;a=a+S|0;s=s+A|0;o=o+E|0}function k(e){e=e|0;_(v[e|0]<<24|v[e|1]<<16|v[e|2]<<8|v[e|3],v[e|4]<<24|v[e|5]<<16|v[e|6]<<8|v[e|7],v[e|8]<<24|v[e|9]<<16|v[e|10]<<8|v[e|11],v[e|12]<<24|v[e|13]<<16|v[e|14]<<8|v[e|15],v[e|16]<<24|v[e|17]<<16|v[e|18]<<8|v[e|19],v[e|20]<<24|v[e|21]<<16|v[e|22]<<8|v[e|23],v[e|24]<<24|v[e|25]<<16|v[e|26]<<8|v[e|27],v[e|28]<<24|v[e|29]<<16|v[e|30]<<8|v[e|31],v[e|32]<<24|v[e|33]<<16|v[e|34]<<8|v[e|35],v[e|36]<<24|v[e|37]<<16|v[e|38]<<8|v[e|39],v[e|40]<<24|v[e|41]<<16|v[e|42]<<8|v[e|43],v[e|44]<<24|v[e|45]<<16|v[e|46]<<8|v[e|47],v[e|48]<<24|v[e|49]<<16|v[e|50]<<8|v[e|51],v[e|52]<<24|v[e|53]<<16|v[e|54]<<8|v[e|55],v[e|56]<<24|v[e|57]<<16|v[e|58]<<8|v[e|59],v[e|60]<<24|v[e|61]<<16|v[e|62]<<8|v[e|63])}function S(e){e=e|0;v[e|0]=n>>>24;v[e|1]=n>>>16&255;v[e|2]=n>>>8&255;v[e|3]=n&255;v[e|4]=i>>>24;v[e|5]=i>>>16&255;v[e|6]=i>>>8&255;v[e|7]=i&255;v[e|8]=a>>>24;v[e|9]=a>>>16&255;v[e|10]=a>>>8&255;v[e|11]=a&255;v[e|12]=s>>>24;v[e|13]=s>>>16&255;v[e|14]=s>>>8&255;v[e|15]=s&255;v[e|16]=o>>>24;v[e|17]=o>>>16&255;v[e|18]=o>>>8&255;v[e|19]=o&255}function A(){n=0x67452301;i=0xefcdab89;a=0x98badcfe;s=0x10325476;o=0xc3d2e1f0;c=u=0}function E(e,t,r,h,f,d,l){e=e|0;t=t|0;r=r|0;h=h|0;f=f|0;d=d|0;l=l|0;n=e;i=t;a=r;s=h;o=f;c=d;u=l}function P(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){k(e);e=e+64|0;t=t-64|0;r=r+64|0}c=c+r|0;if(c>>>0<r>>>0)u=u+1|0;return r|0}function x(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=P(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;c=c+t|0;if(c>>>0<t>>>0)u=u+1|0;v[e|t]=0x80;if((t|0)>=56){for(i=t+1|0;(i|0)<64;i=i+1|0)v[e|i]=0x00;k(e);t=0;v[e|0]=0}for(i=t+1|0;(i|0)<59;i=i+1|0)v[e|i]=0;v[e|56]=u>>>21&255;v[e|57]=u>>>13&255;v[e|58]=u>>>5&255;v[e|59]=u<<3&255|c>>>29;v[e|60]=c>>>21&255;v[e|61]=c>>>13&255;v[e|62]=c>>>5&255;v[e|63]=c<<3&255;k(e);if(~r)S(r);return n|0}function M(){n=h;i=f;a=d;s=l;o=p;c=64;u=0}function C(){n=y;i=b;a=m;s=g;o=w;c=64;u=0}function K(e,t,r,v,k,S,E,P,x,M,C,K,D,I,R,U){e=e|0;t=t|0;r=r|0;v=v|0;k=k|0;S=S|0;E=E|0;P=P|0;x=x|0;M=M|0;C=C|0;K=K|0;D=D|0;I=I|0;R=R|0;U=U|0;A();_(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,v^0x5c5c5c5c,k^0x5c5c5c5c,S^0x5c5c5c5c,E^0x5c5c5c5c,P^0x5c5c5c5c,x^0x5c5c5c5c,M^0x5c5c5c5c,C^0x5c5c5c5c,K^0x5c5c5c5c,D^0x5c5c5c5c,I^0x5c5c5c5c,R^0x5c5c5c5c,U^0x5c5c5c5c);y=n;b=i;m=a;g=s;w=o;A();_(e^0x36363636,t^0x36363636,r^0x36363636,v^0x36363636,k^0x36363636,S^0x36363636,E^0x36363636,P^0x36363636,x^0x36363636,M^0x36363636,C^0x36363636,K^0x36363636,D^0x36363636,I^0x36363636,R^0x36363636,U^0x36363636);h=n;f=i;d=a;l=s;p=o;c=64;u=0}function D(e,t,r){e=e|0;t=t|0;r=r|0;var c=0,u=0,h=0,f=0,d=0,l=0;if(e&63)return-1;if(~r)if(r&31)return-1;l=x(e,t,-1)|0;c=n,u=i,h=a,f=s,d=o;C();_(c,u,h,f,d,0x80000000,0,0,0,0,0,0,0,0,0,672);if(~r)S(r);return l|0}function I(e,t,r,c,u){e=e|0;t=t|0;r=r|0;c=c|0;u=u|0;var h=0,f=0,d=0,l=0,p=0,y=0,b=0,m=0,g=0,w=0;if(e&63)return-1;if(~u)if(u&31)return-1;v[e+t|0]=r>>>24;v[e+t+1|0]=r>>>16&255;v[e+t+2|0]=r>>>8&255;v[e+t+3|0]=r&255;D(e,t+4|0,-1)|0;h=y=n,f=b=i,d=m=a,l=g=s,p=w=o;c=c-1|0;while((c|0)>0){M();_(y,b,m,g,w,0x80000000,0,0,0,0,0,0,0,0,0,672);y=n,b=i,m=a,g=s,w=o;C();_(y,b,m,g,w,0x80000000,0,0,0,0,0,0,0,0,0,672);y=n,b=i,m=a,g=s,w=o;h=h^n;f=f^i;d=d^a;l=l^s;p=p^o;c=c-1|0}n=h;i=f;a=d;s=l;o=p;if(~u)S(u);return 0}return{reset:A,init:E,process:P,finish:x,hmac_reset:M,hmac_init:K,hmac_finish:D,pbkdf2_generate_block:I}};class Hash{constructor(){this.pos=0,this.len=0}reset(){const{asm:e}=this.acquire_asm();return this.result=null,this.pos=0,this.len=0,e.reset(),this}process(e){if(null!==this.result)throw new IllegalStateError("state must be reset before processing new data");const{asm:t,heap:r}=this.acquire_asm();let n=this.pos,i=this.len,a=0,s=e.length,o=0;for(;s>0;)o=he(r,n+i,e,a,s),i+=o,a+=o,s-=o,o=t.process(n,i),n+=o,i-=o,i||(n=0);return this.pos=n,this.len=i,this}finish(){if(null!==this.result)throw new IllegalStateError("state must be reset before processing new data");const{asm:e,heap:t}=this.acquire_asm();return e.finish(this.pos,this.len,0),this.result=new Uint8Array(this.HASH_SIZE),this.result.set(t.subarray(0,this.HASH_SIZE)),this.pos=0,this.len=0,this.release_asm(),this}}const qe=[],Oe=[];class Sha1 extends Hash{constructor(){super(),this.NAME="sha1",this.BLOCK_SIZE=64,this.HASH_SIZE=20,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=qe.pop()||ue(),this.asm=Oe.pop()||ze({Uint8Array:Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(qe.push(this.heap),Oe.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return(new Sha1).process(e).finish().result}}Sha1.NAME="sha1",Sha1.heap_pool=[],Sha1.asm_pool=[],Sha1.asm_function=ze;const Fe=[],Le=[];class Sha256 extends Hash{constructor(){super(),this.NAME="sha256",this.BLOCK_SIZE=64,this.HASH_SIZE=32,this.acquire_asm()}acquire_asm(){return void 0!==this.heap&&void 0!==this.asm||(this.heap=Fe.pop()||ue(),this.asm=Le.pop()||function(e,t,r){"use asm";var n=0,i=0,a=0,s=0,o=0,c=0,u=0,h=0,f=0,d=0,l=0,p=0,y=0,b=0,m=0,g=0,w=0,v=0,_=0,k=0,S=0,A=0,E=0,P=0,x=0,M=0,C=new e.Uint8Array(r);function K(e,t,r,f,d,l,p,y,b,m,g,w,v,_,k,S){e=e|0;t=t|0;r=r|0;f=f|0;d=d|0;l=l|0;p=p|0;y=y|0;b=b|0;m=m|0;g=g|0;w=w|0;v=v|0;_=_|0;k=k|0;S=S|0;var A=0,E=0,P=0,x=0,M=0,C=0,K=0,D=0;A=n;E=i;P=a;x=s;M=o;C=c;K=u;D=h;D=e+D+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(K^M&(C^K))+0x428a2f98|0;x=x+D|0;D=D+(A&E^P&(A^E))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;K=t+K+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(M^C))+0x71374491|0;P=P+K|0;K=K+(D&A^E&(D^A))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;C=r+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(x^M))+0xb5c0fbcf|0;E=E+C|0;C=C+(K&D^A&(K^D))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0;M=f+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(P^x))+0xe9b5dba5|0;A=A+M|0;M=M+(C&K^D&(C^K))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;x=d+x+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(P^A&(E^P))+0x3956c25b|0;D=D+x|0;x=x+(M&C^K&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;P=l+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(A^E))+0x59f111f1|0;K=K+P|0;P=P+(x&M^C&(x^M))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;E=p+E+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(A^K&(D^A))+0x923f82a4|0;C=C+E|0;E=E+(P&x^M&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;A=y+A+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(D^C&(K^D))+0xab1c5ed5|0;M=M+A|0;A=A+(E&P^x&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;D=b+D+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(K^M&(C^K))+0xd807aa98|0;x=x+D|0;D=D+(A&E^P&(A^E))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;K=m+K+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(M^C))+0x12835b01|0;P=P+K|0;K=K+(D&A^E&(D^A))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;C=g+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(x^M))+0x243185be|0;E=E+C|0;C=C+(K&D^A&(K^D))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0;M=w+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(P^x))+0x550c7dc3|0;A=A+M|0;M=M+(C&K^D&(C^K))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;x=v+x+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(P^A&(E^P))+0x72be5d74|0;D=D+x|0;x=x+(M&C^K&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;P=_+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(A^E))+0x80deb1fe|0;K=K+P|0;P=P+(x&M^C&(x^M))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;E=k+E+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(A^K&(D^A))+0x9bdc06a7|0;C=C+E|0;E=E+(P&x^M&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;A=S+A+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(D^C&(K^D))+0xc19bf174|0;M=M+A|0;A=A+(E&P^x&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+m|0;D=e+D+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(K^M&(C^K))+0xe49b69c1|0;x=x+D|0;D=D+(A&E^P&(A^E))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+t+g|0;K=t+K+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(M^C))+0xefbe4786|0;P=P+K|0;K=K+(D&A^E&(D^A))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;r=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;C=r+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(x^M))+0x0fc19dc6|0;E=E+C|0;C=C+(K&D^A&(K^D))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0;f=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+f+v|0;M=f+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(P^x))+0x240ca1cc|0;A=A+M|0;M=M+(C&K^D&(C^K))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;d=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+d+_|0;x=d+x+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(P^A&(E^P))+0x2de92c6f|0;D=D+x|0;x=x+(M&C^K&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;l=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+l+k|0;P=l+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(A^E))+0x4a7484aa|0;K=K+P|0;P=P+(x&M^C&(x^M))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+p+S|0;E=p+E+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(A^K&(D^A))+0x5cb0a9dc|0;C=C+E|0;E=E+(P&x^M&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+y+e|0;A=y+A+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(D^C&(K^D))+0x76f988da|0;M=M+A|0;A=A+(E&P^x&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;b=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;D=b+D+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(K^M&(C^K))+0x983e5152|0;x=x+D|0;D=D+(A&E^P&(A^E))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;m=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+m+r|0;K=m+K+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(M^C))+0xa831c66d|0;P=P+K|0;K=K+(D&A^E&(D^A))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;g=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+g+f|0;C=g+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(x^M))+0xb00327c8|0;E=E+C|0;C=C+(K&D^A&(K^D))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+d|0;M=w+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(P^x))+0xbf597fc7|0;A=A+M|0;M=M+(C&K^D&(C^K))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;v=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+v+l|0;x=v+x+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(P^A&(E^P))+0xc6e00bf3|0;D=D+x|0;x=x+(M&C^K&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+_+p|0;P=_+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(A^E))+0xd5a79147|0;K=K+P|0;P=P+(x&M^C&(x^M))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;k=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+y|0;E=k+E+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(A^K&(D^A))+0x06ca6351|0;C=C+E|0;E=E+(P&x^M&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;S=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+S+b|0;A=S+A+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(D^C&(K^D))+0x14292967|0;M=M+A|0;A=A+(E&P^x&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+m|0;D=e+D+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(K^M&(C^K))+0x27b70a85|0;x=x+D|0;D=D+(A&E^P&(A^E))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+t+g|0;K=t+K+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(M^C))+0x2e1b2138|0;P=P+K|0;K=K+(D&A^E&(D^A))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;r=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;C=r+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(x^M))+0x4d2c6dfc|0;E=E+C|0;C=C+(K&D^A&(K^D))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0;f=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+f+v|0;M=f+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(P^x))+0x53380d13|0;A=A+M|0;M=M+(C&K^D&(C^K))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;d=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+d+_|0;x=d+x+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(P^A&(E^P))+0x650a7354|0;D=D+x|0;x=x+(M&C^K&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;l=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+l+k|0;P=l+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(A^E))+0x766a0abb|0;K=K+P|0;P=P+(x&M^C&(x^M))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+p+S|0;E=p+E+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(A^K&(D^A))+0x81c2c92e|0;C=C+E|0;E=E+(P&x^M&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+y+e|0;A=y+A+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(D^C&(K^D))+0x92722c85|0;M=M+A|0;A=A+(E&P^x&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;b=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;D=b+D+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(K^M&(C^K))+0xa2bfe8a1|0;x=x+D|0;D=D+(A&E^P&(A^E))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;m=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+m+r|0;K=m+K+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(M^C))+0xa81a664b|0;P=P+K|0;K=K+(D&A^E&(D^A))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;g=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+g+f|0;C=g+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(x^M))+0xc24b8b70|0;E=E+C|0;C=C+(K&D^A&(K^D))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+d|0;M=w+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(P^x))+0xc76c51a3|0;A=A+M|0;M=M+(C&K^D&(C^K))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;v=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+v+l|0;x=v+x+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(P^A&(E^P))+0xd192e819|0;D=D+x|0;x=x+(M&C^K&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+_+p|0;P=_+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(A^E))+0xd6990624|0;K=K+P|0;P=P+(x&M^C&(x^M))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;k=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+y|0;E=k+E+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(A^K&(D^A))+0xf40e3585|0;C=C+E|0;E=E+(P&x^M&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;S=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+S+b|0;A=S+A+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(D^C&(K^D))+0x106aa070|0;M=M+A|0;A=A+(E&P^x&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;e=(t>>>7^t>>>18^t>>>3^t<<25^t<<14)+(k>>>17^k>>>19^k>>>10^k<<15^k<<13)+e+m|0;D=e+D+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(K^M&(C^K))+0x19a4c116|0;x=x+D|0;D=D+(A&E^P&(A^E))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;t=(r>>>7^r>>>18^r>>>3^r<<25^r<<14)+(S>>>17^S>>>19^S>>>10^S<<15^S<<13)+t+g|0;K=t+K+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(M^C))+0x1e376c08|0;P=P+K|0;K=K+(D&A^E&(D^A))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;r=(f>>>7^f>>>18^f>>>3^f<<25^f<<14)+(e>>>17^e>>>19^e>>>10^e<<15^e<<13)+r+w|0;C=r+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(x^M))+0x2748774c|0;E=E+C|0;C=C+(K&D^A&(K^D))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0;f=(d>>>7^d>>>18^d>>>3^d<<25^d<<14)+(t>>>17^t>>>19^t>>>10^t<<15^t<<13)+f+v|0;M=f+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(P^x))+0x34b0bcb5|0;A=A+M|0;M=M+(C&K^D&(C^K))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;d=(l>>>7^l>>>18^l>>>3^l<<25^l<<14)+(r>>>17^r>>>19^r>>>10^r<<15^r<<13)+d+_|0;x=d+x+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(P^A&(E^P))+0x391c0cb3|0;D=D+x|0;x=x+(M&C^K&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;l=(p>>>7^p>>>18^p>>>3^p<<25^p<<14)+(f>>>17^f>>>19^f>>>10^f<<15^f<<13)+l+k|0;P=l+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(A^E))+0x4ed8aa4a|0;K=K+P|0;P=P+(x&M^C&(x^M))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;p=(y>>>7^y>>>18^y>>>3^y<<25^y<<14)+(d>>>17^d>>>19^d>>>10^d<<15^d<<13)+p+S|0;E=p+E+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(A^K&(D^A))+0x5b9cca4f|0;C=C+E|0;E=E+(P&x^M&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;y=(b>>>7^b>>>18^b>>>3^b<<25^b<<14)+(l>>>17^l>>>19^l>>>10^l<<15^l<<13)+y+e|0;A=y+A+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(D^C&(K^D))+0x682e6ff3|0;M=M+A|0;A=A+(E&P^x&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;b=(m>>>7^m>>>18^m>>>3^m<<25^m<<14)+(p>>>17^p>>>19^p>>>10^p<<15^p<<13)+b+t|0;D=b+D+(M>>>6^M>>>11^M>>>25^M<<26^M<<21^M<<7)+(K^M&(C^K))+0x748f82ee|0;x=x+D|0;D=D+(A&E^P&(A^E))+(A>>>2^A>>>13^A>>>22^A<<30^A<<19^A<<10)|0;m=(g>>>7^g>>>18^g>>>3^g<<25^g<<14)+(y>>>17^y>>>19^y>>>10^y<<15^y<<13)+m+r|0;K=m+K+(x>>>6^x>>>11^x>>>25^x<<26^x<<21^x<<7)+(C^x&(M^C))+0x78a5636f|0;P=P+K|0;K=K+(D&A^E&(D^A))+(D>>>2^D>>>13^D>>>22^D<<30^D<<19^D<<10)|0;g=(w>>>7^w>>>18^w>>>3^w<<25^w<<14)+(b>>>17^b>>>19^b>>>10^b<<15^b<<13)+g+f|0;C=g+C+(P>>>6^P>>>11^P>>>25^P<<26^P<<21^P<<7)+(M^P&(x^M))+0x84c87814|0;E=E+C|0;C=C+(K&D^A&(K^D))+(K>>>2^K>>>13^K>>>22^K<<30^K<<19^K<<10)|0;w=(v>>>7^v>>>18^v>>>3^v<<25^v<<14)+(m>>>17^m>>>19^m>>>10^m<<15^m<<13)+w+d|0;M=w+M+(E>>>6^E>>>11^E>>>25^E<<26^E<<21^E<<7)+(x^E&(P^x))+0x8cc70208|0;A=A+M|0;M=M+(C&K^D&(C^K))+(C>>>2^C>>>13^C>>>22^C<<30^C<<19^C<<10)|0;v=(_>>>7^_>>>18^_>>>3^_<<25^_<<14)+(g>>>17^g>>>19^g>>>10^g<<15^g<<13)+v+l|0;x=v+x+(A>>>6^A>>>11^A>>>25^A<<26^A<<21^A<<7)+(P^A&(E^P))+0x90befffa|0;D=D+x|0;x=x+(M&C^K&(M^C))+(M>>>2^M>>>13^M>>>22^M<<30^M<<19^M<<10)|0;_=(k>>>7^k>>>18^k>>>3^k<<25^k<<14)+(w>>>17^w>>>19^w>>>10^w<<15^w<<13)+_+p|0;P=_+P+(D>>>6^D>>>11^D>>>25^D<<26^D<<21^D<<7)+(E^D&(A^E))+0xa4506ceb|0;K=K+P|0;P=P+(x&M^C&(x^M))+(x>>>2^x>>>13^x>>>22^x<<30^x<<19^x<<10)|0;k=(S>>>7^S>>>18^S>>>3^S<<25^S<<14)+(v>>>17^v>>>19^v>>>10^v<<15^v<<13)+k+y|0;E=k+E+(K>>>6^K>>>11^K>>>25^K<<26^K<<21^K<<7)+(A^K&(D^A))+0xbef9a3f7|0;C=C+E|0;E=E+(P&x^M&(P^x))+(P>>>2^P>>>13^P>>>22^P<<30^P<<19^P<<10)|0;S=(e>>>7^e>>>18^e>>>3^e<<25^e<<14)+(_>>>17^_>>>19^_>>>10^_<<15^_<<13)+S+b|0;A=S+A+(C>>>6^C>>>11^C>>>25^C<<26^C<<21^C<<7)+(D^C&(K^D))+0xc67178f2|0;M=M+A|0;A=A+(E&P^x&(E^P))+(E>>>2^E>>>13^E>>>22^E<<30^E<<19^E<<10)|0;n=n+A|0;i=i+E|0;a=a+P|0;s=s+x|0;o=o+M|0;c=c+C|0;u=u+K|0;h=h+D|0}function D(e){e=e|0;K(C[e|0]<<24|C[e|1]<<16|C[e|2]<<8|C[e|3],C[e|4]<<24|C[e|5]<<16|C[e|6]<<8|C[e|7],C[e|8]<<24|C[e|9]<<16|C[e|10]<<8|C[e|11],C[e|12]<<24|C[e|13]<<16|C[e|14]<<8|C[e|15],C[e|16]<<24|C[e|17]<<16|C[e|18]<<8|C[e|19],C[e|20]<<24|C[e|21]<<16|C[e|22]<<8|C[e|23],C[e|24]<<24|C[e|25]<<16|C[e|26]<<8|C[e|27],C[e|28]<<24|C[e|29]<<16|C[e|30]<<8|C[e|31],C[e|32]<<24|C[e|33]<<16|C[e|34]<<8|C[e|35],C[e|36]<<24|C[e|37]<<16|C[e|38]<<8|C[e|39],C[e|40]<<24|C[e|41]<<16|C[e|42]<<8|C[e|43],C[e|44]<<24|C[e|45]<<16|C[e|46]<<8|C[e|47],C[e|48]<<24|C[e|49]<<16|C[e|50]<<8|C[e|51],C[e|52]<<24|C[e|53]<<16|C[e|54]<<8|C[e|55],C[e|56]<<24|C[e|57]<<16|C[e|58]<<8|C[e|59],C[e|60]<<24|C[e|61]<<16|C[e|62]<<8|C[e|63])}function I(e){e=e|0;C[e|0]=n>>>24;C[e|1]=n>>>16&255;C[e|2]=n>>>8&255;C[e|3]=n&255;C[e|4]=i>>>24;C[e|5]=i>>>16&255;C[e|6]=i>>>8&255;C[e|7]=i&255;C[e|8]=a>>>24;C[e|9]=a>>>16&255;C[e|10]=a>>>8&255;C[e|11]=a&255;C[e|12]=s>>>24;C[e|13]=s>>>16&255;C[e|14]=s>>>8&255;C[e|15]=s&255;C[e|16]=o>>>24;C[e|17]=o>>>16&255;C[e|18]=o>>>8&255;C[e|19]=o&255;C[e|20]=c>>>24;C[e|21]=c>>>16&255;C[e|22]=c>>>8&255;C[e|23]=c&255;C[e|24]=u>>>24;C[e|25]=u>>>16&255;C[e|26]=u>>>8&255;C[e|27]=u&255;C[e|28]=h>>>24;C[e|29]=h>>>16&255;C[e|30]=h>>>8&255;C[e|31]=h&255}function R(){n=0x6a09e667;i=0xbb67ae85;a=0x3c6ef372;s=0xa54ff53a;o=0x510e527f;c=0x9b05688c;u=0x1f83d9ab;h=0x5be0cd19;f=d=0}function U(e,t,r,l,p,y,b,m,g,w){e=e|0;t=t|0;r=r|0;l=l|0;p=p|0;y=y|0;b=b|0;m=m|0;g=g|0;w=w|0;n=e;i=t;a=r;s=l;o=p;c=y;u=b;h=m;f=g;d=w}function B(e,t){e=e|0;t=t|0;var r=0;if(e&63)return-1;while((t|0)>=64){D(e);e=e+64|0;t=t-64|0;r=r+64|0}f=f+r|0;if(f>>>0<r>>>0)d=d+1|0;return r|0}function T(e,t,r){e=e|0;t=t|0;r=r|0;var n=0,i=0;if(e&63)return-1;if(~r)if(r&31)return-1;if((t|0)>=64){n=B(e,t)|0;if((n|0)==-1)return-1;e=e+n|0;t=t-n|0}n=n+t|0;f=f+t|0;if(f>>>0<t>>>0)d=d+1|0;C[e|t]=0x80;if((t|0)>=56){for(i=t+1|0;(i|0)<64;i=i+1|0)C[e|i]=0x00;D(e);t=0;C[e|0]=0}for(i=t+1|0;(i|0)<59;i=i+1|0)C[e|i]=0;C[e|56]=d>>>21&255;C[e|57]=d>>>13&255;C[e|58]=d>>>5&255;C[e|59]=d<<3&255|f>>>29;C[e|60]=f>>>21&255;C[e|61]=f>>>13&255;C[e|62]=f>>>5&255;C[e|63]=f<<3&255;D(e);if(~r)I(r);return n|0}function z(){n=l;i=p;a=y;s=b;o=m;c=g;u=w;h=v;f=64;d=0}function q(){n=_;i=k;a=S;s=A;o=E;c=P;u=x;h=M;f=64;d=0}function O(e,t,r,C,D,I,U,B,T,z,q,O,F,L,j,N){e=e|0;t=t|0;r=r|0;C=C|0;D=D|0;I=I|0;U=U|0;B=B|0;T=T|0;z=z|0;q=q|0;O=O|0;F=F|0;L=L|0;j=j|0;N=N|0;R();K(e^0x5c5c5c5c,t^0x5c5c5c5c,r^0x5c5c5c5c,C^0x5c5c5c5c,D^0x5c5c5c5c,I^0x5c5c5c5c,U^0x5c5c5c5c,B^0x5c5c5c5c,T^0x5c5c5c5c,z^0x5c5c5c5c,q^0x5c5c5c5c,O^0x5c5c5c5c,F^0x5c5c5c5c,L^0x5c5c5c5c,j^0x5c5c5c5c,N^0x5c5c5c5c);_=n;k=i;S=a;A=s;E=o;P=c;x=u;M=h;R();K(e^0x36363636,t^0x36363636,r^0x36363636,C^0x36363636,D^0x36363636,I^0x36363636,U^0x36363636,B^0x36363636,T^0x36363636,z^0x36363636,q^0x36363636,O^0x36363636,F^0x36363636,L^0x36363636,j^0x36363636,N^0x36363636);l=n;p=i;y=a;b=s;m=o;g=c;w=u;v=h;f=64;d=0}function F(e,t,r){e=e|0;t=t|0;r=r|0;var f=0,d=0,l=0,p=0,y=0,b=0,m=0,g=0,w=0;if(e&63)return-1;if(~r)if(r&31)return-1;w=T(e,t,-1)|0;f=n,d=i,l=a,p=s,y=o,b=c,m=u,g=h;q();K(f,d,l,p,y,b,m,g,0x80000000,0,0,0,0,0,0,768);if(~r)I(r);return w|0}function L(e,t,r,f,d){e=e|0;t=t|0;r=r|0;f=f|0;d=d|0;var l=0,p=0,y=0,b=0,m=0,g=0,w=0,v=0,_=0,k=0,S=0,A=0,E=0,P=0,x=0,M=0;if(e&63)return-1;if(~d)if(d&31)return-1;C[e+t|0]=r>>>24;C[e+t+1|0]=r>>>16&255;C[e+t+2|0]=r>>>8&255;C[e+t+3|0]=r&255;F(e,t+4|0,-1)|0;l=_=n,p=k=i,y=S=a,b=A=s,m=E=o,g=P=c,w=x=u,v=M=h;f=f-1|0;while((f|0)>0){z();K(_,k,S,A,E,P,x,M,0x80000000,0,0,0,0,0,0,768);_=n,k=i,S=a,A=s,E=o,P=c,x=u,M=h;q();K(_,k,S,A,E,P,x,M,0x80000000,0,0,0,0,0,0,768);_=n,k=i,S=a,A=s,E=o,P=c,x=u,M=h;l=l^n;p=p^i;y=y^a;b=b^s;m=m^o;g=g^c;w=w^u;v=v^h;f=f-1|0}n=l;i=p;a=y;s=b;o=m;c=g;u=w;h=v;if(~d)I(d);return 0}return{reset:R,init:U,process:B,finish:T,hmac_reset:z,hmac_init:O,hmac_finish:F,pbkdf2_generate_block:L}}({Uint8Array:Uint8Array},null,this.heap.buffer),this.reset()),{heap:this.heap,asm:this.asm}}release_asm(){void 0!==this.heap&&void 0!==this.asm&&(Fe.push(this.heap),Le.push(this.asm)),this.heap=void 0,this.asm=void 0}static bytes(e){return(new Sha256).process(e).finish().result}}Sha256.NAME="sha256";var je=Ne;function Ne(e,t){if(!e)throw new Error(t||"Assertion failed")}Ne.equal=function(e,t,r){if(e!=t)throw new Error(r||"Assertion failed: "+e+" != "+t)};var We="undefined"!=typeof globalThis?globalThis:"undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:{};function He(e,t){return e(t={exports:{}},t.exports),t.exports}function $e(){throw new Error("Dynamic requires are not currently supported by @rollup/plugin-commonjs")}var Ge=He((function(e){"function"==typeof Object.create?e.exports=function(e,t){t&&(e.super_=t,e.prototype=Object.create(t.prototype,{constructor:{value:e,enumerable:!1,writable:!0,configurable:!0}}))}:e.exports=function(e,t){if(t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}}}));function Ve(e,t){return 55296==(64512&e.charCodeAt(t))&&(!(t<0||t+1>=e.length)&&56320==(64512&e.charCodeAt(t+1)))}var Ze=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"==typeof e)if(t){if("hex"===t)for((e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e),i=0;i<e.length;i+=2)r.push(parseInt(e[i]+e[i+1],16))}else for(var n=0,i=0;i<e.length;i++){var a=e.charCodeAt(i);a<128?r[n++]=a:a<2048?(r[n++]=a>>6|192,r[n++]=63&a|128):Ve(e,i)?(a=65536+((1023&a)<<10)+(1023&e.charCodeAt(++i)),r[n++]=a>>18|240,r[n++]=a>>12&63|128,r[n++]=a>>6&63|128,r[n++]=63&a|128):(r[n++]=a>>12|224,r[n++]=a>>6&63|128,r[n++]=63&a|128)}else for(i=0;i<e.length;i++)r[i]=0|e[i];return r};var Qe=function(e){for(var t="",r=0;r<e.length;r++)t+=Je(e[r].toString(16));return t};function Ye(e){return(e>>>24|e>>>8&65280|e<<8&16711680|(255&e)<<24)>>>0}var Xe=function(e,t){for(var r="",n=0;n<e.length;n++){var i=e[n];"little"===t&&(i=Ye(i)),r+=et(i.toString(16))}return r};function Je(e){return 1===e.length?"0"+e:e}function et(e){return 7===e.length?"0"+e:6===e.length?"00"+e:5===e.length?"000"+e:4===e.length?"0000"+e:3===e.length?"00000"+e:2===e.length?"000000"+e:1===e.length?"0000000"+e:e}var tt=function(e,t,r,n){var i=r-t;je(i%4==0);for(var a=new Array(i/4),s=0,o=t;s<a.length;s++,o+=4){var c;c="big"===n?e[o]<<24|e[o+1]<<16|e[o+2]<<8|e[o+3]:e[o+3]<<24|e[o+2]<<16|e[o+1]<<8|e[o],a[s]=c>>>0}return a};var rt=function(e,t){for(var r=new Array(4*e.length),n=0,i=0;n<e.length;n++,i+=4){var a=e[n];"big"===t?(r[i]=a>>>24,r[i+1]=a>>>16&255,r[i+2]=a>>>8&255,r[i+3]=255&a):(r[i+3]=a>>>24,r[i+2]=a>>>16&255,r[i+1]=a>>>8&255,r[i]=255&a)}return r};var nt={inherits:Ge,toArray:Ze,toHex:Qe,htonl:Ye,toHex32:Xe,zero2:Je,zero8:et,join32:tt,split32:rt,rotr32:function(e,t){return e>>>t|e<<32-t},rotl32:function(e,t){return e<<t|e>>>32-t},sum32:function(e,t){return e+t>>>0},sum32_3:function(e,t,r){return e+t+r>>>0},sum32_4:function(e,t,r,n){return e+t+r+n>>>0},sum32_5:function(e,t,r,n,i){return e+t+r+n+i>>>0},sum64:function(e,t,r,n){var i=e[t],a=n+e[t+1]>>>0,s=(a<n?1:0)+r+i;e[t]=s>>>0,e[t+1]=a},sum64_hi:function(e,t,r,n){return(t+n>>>0<t?1:0)+e+r>>>0},sum64_lo:function(e,t,r,n){return t+n>>>0},sum64_4_hi:function(e,t,r,n,i,a,s,o){var c=0,u=t;return c+=(u=u+n>>>0)<t?1:0,c+=(u=u+a>>>0)<a?1:0,e+r+i+s+(c+=(u=u+o>>>0)<o?1:0)>>>0},sum64_4_lo:function(e,t,r,n,i,a,s,o){return t+n+a+o>>>0},sum64_5_hi:function(e,t,r,n,i,a,s,o,c,u){var h=0,f=t;return h+=(f=f+n>>>0)<t?1:0,h+=(f=f+a>>>0)<a?1:0,h+=(f=f+o>>>0)<o?1:0,e+r+i+s+c+(h+=(f=f+u>>>0)<u?1:0)>>>0},sum64_5_lo:function(e,t,r,n,i,a,s,o,c,u){return t+n+a+o+u>>>0},rotr64_hi:function(e,t,r){return(t<<32-r|e>>>r)>>>0},rotr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0},shr64_hi:function(e,t,r){return e>>>r},shr64_lo:function(e,t,r){return(e<<32-r|t>>>r)>>>0}};function it(){this.pending=null,this.pendingTotal=0,this.blockSize=this.constructor.blockSize,this.outSize=this.constructor.outSize,this.hmacStrength=this.constructor.hmacStrength,this.padLength=this.constructor.padLength/8,this.endian="big",this._delta8=this.blockSize/8,this._delta32=this.blockSize/32}var at=it;it.prototype.update=function(e,t){if(e=nt.toArray(e,t),this.pending?this.pending=this.pending.concat(e):this.pending=e,this.pendingTotal+=e.length,this.pending.length>=this._delta8){var r=(e=this.pending).length%this._delta8;this.pending=e.slice(e.length-r,e.length),0===this.pending.length&&(this.pending=null),e=nt.join32(e,0,e.length-r,this.endian);for(var n=0;n<e.length;n+=this._delta32)this._update(e,n,n+this._delta32)}return this},it.prototype.digest=function(e){return this.update(this._pad()),je(null===this.pending),this._digest(e)},it.prototype._pad=function(){var e=this.pendingTotal,t=this._delta8,r=t-(e+this.padLength)%t,n=new Array(r+this.padLength);n[0]=128;for(var i=1;i<r;i++)n[i]=0;if(e<<=3,"big"===this.endian){for(var a=8;a<this.padLength;a++)n[i++]=0;n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=e>>>24&255,n[i++]=e>>>16&255,n[i++]=e>>>8&255,n[i++]=255&e}else for(n[i++]=255&e,n[i++]=e>>>8&255,n[i++]=e>>>16&255,n[i++]=e>>>24&255,n[i++]=0,n[i++]=0,n[i++]=0,n[i++]=0,a=8;a<this.padLength;a++)n[i++]=0;return n};var st={BlockHash:at},ot=nt.rotr32;var ct=function(e,t,r,n){return 0===e?ut(t,r,n):1===e||3===e?ft(t,r,n):2===e?ht(t,r,n):void 0};function ut(e,t,r){return e&t^~e&r}function ht(e,t,r){return e&t^e&r^t&r}function ft(e,t,r){return e^t^r}var dt={ft_1:ct,ch32:ut,maj32:ht,p32:ft,s0_256:function(e){return ot(e,2)^ot(e,13)^ot(e,22)},s1_256:function(e){return ot(e,6)^ot(e,11)^ot(e,25)},g0_256:function(e){return ot(e,7)^ot(e,18)^e>>>3},g1_256:function(e){return ot(e,17)^ot(e,19)^e>>>10}},lt=nt.sum32,pt=nt.sum32_4,yt=nt.sum32_5,bt=dt.ch32,mt=dt.maj32,gt=dt.s0_256,wt=dt.s1_256,vt=dt.g0_256,_t=dt.g1_256,kt=st.BlockHash,St=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function At(){if(!(this instanceof At))return new At;kt.call(this),this.h=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225],this.k=St,this.W=new Array(64)}nt.inherits(At,kt);var Et=At;function Pt(){if(!(this instanceof Pt))return new Pt;Et.call(this),this.h=[3238371032,914150663,812702999,4144912697,4290775857,1750603025,1694076839,3204075428]}At.blockSize=512,At.outSize=256,At.hmacStrength=192,At.padLength=64,At.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=pt(_t(r[n-2]),r[n-7],vt(r[n-15]),r[n-16]);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4],u=this.h[5],h=this.h[6],f=this.h[7];for(je(this.k.length===r.length),n=0;n<r.length;n++){var d=yt(f,wt(c),bt(c,u,h),this.k[n],r[n]),l=lt(gt(i),mt(i,a,s));f=h,h=u,u=c,c=lt(o,d),o=s,s=a,a=i,i=lt(d,l)}this.h[0]=lt(this.h[0],i),this.h[1]=lt(this.h[1],a),this.h[2]=lt(this.h[2],s),this.h[3]=lt(this.h[3],o),this.h[4]=lt(this.h[4],c),this.h[5]=lt(this.h[5],u),this.h[6]=lt(this.h[6],h),this.h[7]=lt(this.h[7],f)},At.prototype._digest=function(e){return"hex"===e?nt.toHex32(this.h,"big"):nt.split32(this.h,"big")},nt.inherits(Pt,Et);var xt=Pt;Pt.blockSize=512,Pt.outSize=224,Pt.hmacStrength=192,Pt.padLength=64,Pt.prototype._digest=function(e){return"hex"===e?nt.toHex32(this.h.slice(0,7),"big"):nt.split32(this.h.slice(0,7),"big")};var Mt=nt.rotr64_hi,Ct=nt.rotr64_lo,Kt=nt.shr64_hi,Dt=nt.shr64_lo,It=nt.sum64,Rt=nt.sum64_hi,Ut=nt.sum64_lo,Bt=nt.sum64_4_hi,Tt=nt.sum64_4_lo,zt=nt.sum64_5_hi,qt=nt.sum64_5_lo,Ot=st.BlockHash,Ft=[1116352408,3609767458,1899447441,602891725,3049323471,3964484399,3921009573,2173295548,961987163,4081628472,1508970993,3053834265,2453635748,2937671579,2870763221,3664609560,3624381080,2734883394,310598401,1164996542,607225278,1323610764,1426881987,3590304994,1925078388,4068182383,2162078206,991336113,2614888103,633803317,3248222580,3479774868,3835390401,2666613458,4022224774,944711139,264347078,2341262773,604807628,2007800933,770255983,1495990901,1249150122,1856431235,1555081692,3175218132,1996064986,2198950837,2554220882,3999719339,2821834349,766784016,2952996808,2566594879,3210313671,3203337956,3336571891,1034457026,3584528711,2466948901,113926993,3758326383,338241895,168717936,666307205,1188179964,773529912,1546045734,1294757372,1522805485,1396182291,2643833823,1695183700,2343527390,1986661051,1014477480,2177026350,1206759142,2456956037,344077627,2730485921,1290863460,2820302411,3158454273,3259730800,3505952657,3345764771,106217008,3516065817,3606008344,3600352804,1432725776,4094571909,1467031594,275423344,851169720,430227734,3100823752,506948616,1363258195,659060556,3750685593,883997877,3785050280,958139571,3318307427,1322822218,3812723403,1537002063,2003034995,1747873779,3602036899,1955562222,1575990012,2024104815,1125592928,2227730452,2716904306,2361852424,442776044,2428436474,593698344,2756734187,3733110249,3204031479,2999351573,3329325298,3815920427,3391569614,3928383900,3515267271,566280711,3940187606,3454069534,4118630271,4000239992,116418474,1914138554,174292421,2731055270,289380356,3203993006,460393269,320620315,685471733,587496836,852142971,1086792851,1017036298,365543100,1126000580,2618297676,1288033470,3409855158,1501505948,4234509866,1607167915,987167468,1816402316,1246189591];function Lt(){if(!(this instanceof Lt))return new Lt;Ot.call(this),this.h=[1779033703,4089235720,3144134277,2227873595,1013904242,4271175723,2773480762,1595750129,1359893119,2917565137,2600822924,725511199,528734635,4215389547,1541459225,327033209],this.k=Ft,this.W=new Array(160)}nt.inherits(Lt,Ot);var jt=Lt;function Nt(e,t,r,n,i){var a=e&r^~e&i;return a<0&&(a+=4294967296),a}function Wt(e,t,r,n,i,a){var s=t&n^~t&a;return s<0&&(s+=4294967296),s}function Ht(e,t,r,n,i){var a=e&r^e&i^r&i;return a<0&&(a+=4294967296),a}function $t(e,t,r,n,i,a){var s=t&n^t&a^n&a;return s<0&&(s+=4294967296),s}function Gt(e,t){var r=Mt(e,t,28)^Mt(t,e,2)^Mt(t,e,7);return r<0&&(r+=4294967296),r}function Vt(e,t){var r=Ct(e,t,28)^Ct(t,e,2)^Ct(t,e,7);return r<0&&(r+=4294967296),r}function Zt(e,t){var r=Mt(e,t,14)^Mt(e,t,18)^Mt(t,e,9);return r<0&&(r+=4294967296),r}function Qt(e,t){var r=Ct(e,t,14)^Ct(e,t,18)^Ct(t,e,9);return r<0&&(r+=4294967296),r}function Yt(e,t){var r=Mt(e,t,1)^Mt(e,t,8)^Kt(e,t,7);return r<0&&(r+=4294967296),r}function Xt(e,t){var r=Ct(e,t,1)^Ct(e,t,8)^Dt(e,t,7);return r<0&&(r+=4294967296),r}function Jt(e,t){var r=Mt(e,t,19)^Mt(t,e,29)^Kt(e,t,6);return r<0&&(r+=4294967296),r}function er(e,t){var r=Ct(e,t,19)^Ct(t,e,29)^Dt(e,t,6);return r<0&&(r+=4294967296),r}function tr(){if(!(this instanceof tr))return new tr;jt.call(this),this.h=[3418070365,3238371032,1654270250,914150663,2438529370,812702999,355462360,4144912697,1731405415,4290775857,2394180231,1750603025,3675008525,1694076839,1203062813,3204075428]}Lt.blockSize=1024,Lt.outSize=512,Lt.hmacStrength=192,Lt.padLength=128,Lt.prototype._prepareBlock=function(e,t){for(var r=this.W,n=0;n<32;n++)r[n]=e[t+n];for(;n<r.length;n+=2){var i=Jt(r[n-4],r[n-3]),a=er(r[n-4],r[n-3]),s=r[n-14],o=r[n-13],c=Yt(r[n-30],r[n-29]),u=Xt(r[n-30],r[n-29]),h=r[n-32],f=r[n-31];r[n]=Bt(i,a,s,o,c,u,h,f),r[n+1]=Tt(i,a,s,o,c,u,h,f)}},Lt.prototype._update=function(e,t){this._prepareBlock(e,t);var r=this.W,n=this.h[0],i=this.h[1],a=this.h[2],s=this.h[3],o=this.h[4],c=this.h[5],u=this.h[6],h=this.h[7],f=this.h[8],d=this.h[9],l=this.h[10],p=this.h[11],y=this.h[12],b=this.h[13],m=this.h[14],g=this.h[15];je(this.k.length===r.length);for(var w=0;w<r.length;w+=2){var v=m,_=g,k=Zt(f,d),S=Qt(f,d),A=Nt(f,d,l,p,y),E=Wt(f,d,l,p,y,b),P=this.k[w],x=this.k[w+1],M=r[w],C=r[w+1],K=zt(v,_,k,S,A,E,P,x,M,C),D=qt(v,_,k,S,A,E,P,x,M,C);v=Gt(n,i),_=Vt(n,i),k=Ht(n,i,a,s,o),S=$t(n,i,a,s,o,c);var I=Rt(v,_,k,S),R=Ut(v,_,k,S);m=y,g=b,y=l,b=p,l=f,p=d,f=Rt(u,h,K,D),d=Ut(h,h,K,D),u=o,h=c,o=a,c=s,a=n,s=i,n=Rt(K,D,I,R),i=Ut(K,D,I,R)}It(this.h,0,n,i),It(this.h,2,a,s),It(this.h,4,o,c),It(this.h,6,u,h),It(this.h,8,f,d),It(this.h,10,l,p),It(this.h,12,y,b),It(this.h,14,m,g)},Lt.prototype._digest=function(e){return"hex"===e?nt.toHex32(this.h,"big"):nt.split32(this.h,"big")},nt.inherits(tr,jt);var rr=tr;tr.blockSize=1024,tr.outSize=384,tr.hmacStrength=192,tr.padLength=128,tr.prototype._digest=function(e){return"hex"===e?nt.toHex32(this.h.slice(0,12),"big"):nt.split32(this.h.slice(0,12),"big")};var nr=nt.rotl32,ir=nt.sum32,ar=nt.sum32_3,sr=nt.sum32_4,or=st.BlockHash;function cr(){if(!(this instanceof cr))return new cr;or.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.endian="little"}nt.inherits(cr,or);var ur=cr;function hr(e,t,r,n){return e<=15?t^r^n:e<=31?t&r|~t&n:e<=47?(t|~r)^n:e<=63?t&n|r&~n:t^(r|~n)}function fr(e){return e<=15?0:e<=31?1518500249:e<=47?1859775393:e<=63?2400959708:2840853838}function dr(e){return e<=15?1352829926:e<=31?1548603684:e<=47?1836072691:e<=63?2053994217:0}cr.blockSize=512,cr.outSize=160,cr.hmacStrength=192,cr.padLength=64,cr.prototype._update=function(e,t){for(var r=this.h[0],n=this.h[1],i=this.h[2],a=this.h[3],s=this.h[4],o=r,c=n,u=i,h=a,f=s,d=0;d<80;d++){var l=ir(nr(sr(r,hr(d,n,i,a),e[lr[d]+t],fr(d)),yr[d]),s);r=s,s=a,a=nr(i,10),i=n,n=l,l=ir(nr(sr(o,hr(79-d,c,u,h),e[pr[d]+t],dr(d)),br[d]),f),o=f,f=h,h=nr(u,10),u=c,c=l}l=ar(this.h[1],i,h),this.h[1]=ar(this.h[2],a,f),this.h[2]=ar(this.h[3],s,o),this.h[3]=ar(this.h[4],r,c),this.h[4]=ar(this.h[0],n,u),this.h[0]=l},cr.prototype._digest=function(e){return"hex"===e?nt.toHex32(this.h,"little"):nt.split32(this.h,"little")};var lr=[0,1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,7,4,13,1,10,6,15,3,12,0,9,5,2,14,11,8,3,10,14,4,9,15,8,1,2,7,0,6,13,11,5,12,1,9,11,10,0,8,12,4,13,3,7,15,14,5,6,2,4,0,5,9,7,12,2,10,14,1,3,8,11,6,15,13],pr=[5,14,7,0,9,2,11,4,13,6,15,8,1,10,3,12,6,11,3,7,0,13,5,10,14,15,8,12,4,9,1,2,15,5,1,3,7,14,6,9,11,8,12,2,10,0,4,13,8,6,4,1,3,11,15,0,5,12,2,13,9,7,10,14,12,15,10,4,1,5,8,7,6,2,13,14,0,3,9,11],yr=[11,14,15,12,5,8,7,9,11,13,14,15,6,7,9,8,7,6,8,13,11,9,7,15,7,12,15,9,11,7,13,12,11,13,6,7,14,9,13,15,14,8,13,6,5,12,7,5,11,12,14,15,14,15,9,8,9,14,5,6,8,6,5,12,9,15,5,11,6,8,13,12,5,12,13,14,11,8,5,6],br=[8,9,9,11,13,15,15,5,7,7,8,11,14,14,12,6,9,13,15,7,12,8,9,11,7,7,12,7,6,15,13,11,9,7,15,11,8,6,6,14,12,13,5,14,13,13,7,5,15,5,8,11,14,14,6,14,6,9,12,9,12,5,15,8,8,5,12,9,12,5,14,6,8,13,6,5,15,13,11,11],mr={ripemd160:ur};function gr(e,t){let r=e[0],n=e[1],i=e[2],a=e[3];r=vr(r,n,i,a,t[0],7,-680876936),a=vr(a,r,n,i,t[1],12,-389564586),i=vr(i,a,r,n,t[2],17,606105819),n=vr(n,i,a,r,t[3],22,-1044525330),r=vr(r,n,i,a,t[4],7,-176418897),a=vr(a,r,n,i,t[5],12,1200080426),i=vr(i,a,r,n,t[6],17,-1473231341),n=vr(n,i,a,r,t[7],22,-45705983),r=vr(r,n,i,a,t[8],7,1770035416),a=vr(a,r,n,i,t[9],12,-1958414417),i=vr(i,a,r,n,t[10],17,-42063),n=vr(n,i,a,r,t[11],22,-1990404162),r=vr(r,n,i,a,t[12],7,1804603682),a=vr(a,r,n,i,t[13],12,-40341101),i=vr(i,a,r,n,t[14],17,-1502002290),n=vr(n,i,a,r,t[15],22,1236535329),r=_r(r,n,i,a,t[1],5,-165796510),a=_r(a,r,n,i,t[6],9,-1069501632),i=_r(i,a,r,n,t[11],14,643717713),n=_r(n,i,a,r,t[0],20,-373897302),r=_r(r,n,i,a,t[5],5,-701558691),a=_r(a,r,n,i,t[10],9,38016083),i=_r(i,a,r,n,t[15],14,-660478335),n=_r(n,i,a,r,t[4],20,-405537848),r=_r(r,n,i,a,t[9],5,568446438),a=_r(a,r,n,i,t[14],9,-1019803690),i=_r(i,a,r,n,t[3],14,-187363961),n=_r(n,i,a,r,t[8],20,1163531501),r=_r(r,n,i,a,t[13],5,-1444681467),a=_r(a,r,n,i,t[2],9,-51403784),i=_r(i,a,r,n,t[7],14,1735328473),n=_r(n,i,a,r,t[12],20,-1926607734),r=kr(r,n,i,a,t[5],4,-378558),a=kr(a,r,n,i,t[8],11,-2022574463),i=kr(i,a,r,n,t[11],16,1839030562),n=kr(n,i,a,r,t[14],23,-35309556),r=kr(r,n,i,a,t[1],4,-1530992060),a=kr(a,r,n,i,t[4],11,1272893353),i=kr(i,a,r,n,t[7],16,-155497632),n=kr(n,i,a,r,t[10],23,-1094730640),r=kr(r,n,i,a,t[13],4,681279174),a=kr(a,r,n,i,t[0],11,-358537222),i=kr(i,a,r,n,t[3],16,-722521979),n=kr(n,i,a,r,t[6],23,76029189),r=kr(r,n,i,a,t[9],4,-640364487),a=kr(a,r,n,i,t[12],11,-421815835),i=kr(i,a,r,n,t[15],16,530742520),n=kr(n,i,a,r,t[2],23,-995338651),r=Sr(r,n,i,a,t[0],6,-198630844),a=Sr(a,r,n,i,t[7],10,1126891415),i=Sr(i,a,r,n,t[14],15,-1416354905),n=Sr(n,i,a,r,t[5],21,-57434055),r=Sr(r,n,i,a,t[12],6,1700485571),a=Sr(a,r,n,i,t[3],10,-1894986606),i=Sr(i,a,r,n,t[10],15,-1051523),n=Sr(n,i,a,r,t[1],21,-2054922799),r=Sr(r,n,i,a,t[8],6,1873313359),a=Sr(a,r,n,i,t[15],10,-30611744),i=Sr(i,a,r,n,t[6],15,-1560198380),n=Sr(n,i,a,r,t[13],21,1309151649),r=Sr(r,n,i,a,t[4],6,-145523070),a=Sr(a,r,n,i,t[11],10,-1120210379),i=Sr(i,a,r,n,t[2],15,718787259),n=Sr(n,i,a,r,t[9],21,-343485551),e[0]=xr(r,e[0]),e[1]=xr(n,e[1]),e[2]=xr(i,e[2]),e[3]=xr(a,e[3])}function wr(e,t,r,n,i,a){return t=xr(xr(t,e),xr(n,a)),xr(t<<i|t>>>32-i,r)}function vr(e,t,r,n,i,a,s){return wr(t&r|~t&n,e,t,i,a,s)}function _r(e,t,r,n,i,a,s){return wr(t&n|r&~n,e,t,i,a,s)}function kr(e,t,r,n,i,a,s){return wr(t^r^n,e,t,i,a,s)}function Sr(e,t,r,n,i,a,s){return wr(r^(t|~n),e,t,i,a,s)}function Ar(e){const t=[];let r;for(r=0;r<64;r+=4)t[r>>2]=e.charCodeAt(r)+(e.charCodeAt(r+1)<<8)+(e.charCodeAt(r+2)<<16)+(e.charCodeAt(r+3)<<24);return t}const Er="0123456789abcdef".split("");function Pr(e){let t="",r=0;for(;r<4;r++)t+=Er[e>>8*r+4&15]+Er[e>>8*r&15];return t}function xr(e,t){return e+t&4294967295}const Mr=j.getWebCrypto();function Cr(e,t){return async function(r,n=Y){if(a(r)&&(r=await O(r)),!j.isStream(r)&&Mr&&t&&r.length>=n.minBytesForWebCrypto)return new Uint8Array(await Mr.digest(t,r));const i=e();return I(r,(e=>{i.update(e)}),(()=>new Uint8Array(i.digest())))}}function Kr(e,t){return async function(r,n=Y){if(a(r)&&(r=await O(r)),j.isStream(r)){const t=new e;return I(r,(e=>{t.process(e)}),(()=>t.finish().result))}return Mr&&t&&r.length>=n.minBytesForWebCrypto?new Uint8Array(await Mr.digest(t,r)):e.bytes(r)}}let Dr={md5:async function(e){const t=function(e){const t=e.length,r=[1732584193,-271733879,-1732584194,271733878];let n;for(n=64;n<=e.length;n+=64)gr(r,Ar(e.substring(n-64,n)));e=e.substring(n-64);const i=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(n=0;n<e.length;n++)i[n>>2]|=e.charCodeAt(n)<<(n%4<<3);if(i[n>>2]|=128<<(n%4<<3),n>55)for(gr(r,i),n=0;n<16;n++)i[n]=0;return i[14]=8*t,gr(r,i),r}(j.uint8ArrayToString(e));return j.hexToUint8Array(function(e){for(let t=0;t<e.length;t++)e[t]=Pr(e[t]);return e.join("")}(t))},sha1:Kr(Sha1,"SHA-1"),sha224:Cr(xt),sha256:Kr(Sha256,"SHA-256"),sha384:Cr(rr,"SHA-384"),sha512:Cr(jt,"SHA-512"),ripemd:Cr(ur)};var Ir={md5:Dr.md5,sha1:Dr.sha1,sha224:Dr.sha224,sha256:Dr.sha256,sha384:Dr.sha384,sha512:Dr.sha512,ripemd:Dr.ripemd,digest(e,t){switch(e){case Q.hash.md5:return this.md5(t);case Q.hash.sha1:return this.sha1(t);case Q.hash.ripemd:return this.ripemd(t);case Q.hash.sha256:return this.sha256(t);case Q.hash.sha384:return this.sha384(t);case Q.hash.sha512:return this.sha512(t);case Q.hash.sha224:return this.sha224(t);default:throw new Error("Invalid hash function.")}},getHashByteLength(e){switch(e){case Q.hash.md5:return 16;case Q.hash.sha1:case Q.hash.ripemd:return 20;case Q.hash.sha256:return 32;case Q.hash.sha384:return 48;case Q.hash.sha512:return 64;case Q.hash.sha224:return 28;default:throw new Error("Invalid hash algorithm.")}}};class AES_CFB{static encrypt(e,t,r){return new AES_CFB(t,r).encrypt(e)}static decrypt(e,t,r){return new AES_CFB(t,r).decrypt(e)}constructor(e,t,r){this.aes=r||new AES(e,t,!0,"CFB"),delete this.aes.padding}encrypt(e){return fe(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return fe(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}var Rr=He((function(e){!function(e){var t=function(e){var t,r=new Float64Array(16);if(e)for(t=0;t<e.length;t++)r[t]=e[t];return r},r=function(){throw new Error("no PRNG")},n=new Uint8Array(32);n[0]=9;var i=t(),a=t([1]),s=t([56129,1]),o=t([30883,4953,19914,30187,55467,16705,2637,112,59544,30585,16505,36039,65139,11119,27886,20995]),c=t([61785,9906,39828,60374,45398,33411,5274,224,53552,61171,33010,6542,64743,22239,55772,9222]),u=t([54554,36645,11616,51542,42930,38181,51040,26924,56412,64982,57905,49316,21502,52590,14035,8553]),h=t([26200,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214,26214]),f=t([41136,18958,6951,50414,58488,44335,6150,12099,55207,15867,153,11085,57099,20417,9344,11139]);function d(e,t,r,n){return function(e,t,r,n,i){var a,s=0;for(a=0;a<i;a++)s|=e[t+a]^r[n+a];return(1&s-1>>>8)-1}(e,t,r,n,32)}function l(e,t){var r;for(r=0;r<16;r++)e[r]=0|t[r]}function p(e){var t,r,n=1;for(t=0;t<16;t++)r=e[t]+n+65535,n=Math.floor(r/65536),e[t]=r-65536*n;e[0]+=n-1+37*(n-1)}function y(e,t,r){for(var n,i=~(r-1),a=0;a<16;a++)n=i&(e[a]^t[a]),e[a]^=n,t[a]^=n}function b(e,r){var n,i,a,s=t(),o=t();for(n=0;n<16;n++)o[n]=r[n];for(p(o),p(o),p(o),i=0;i<2;i++){for(s[0]=o[0]-65517,n=1;n<15;n++)s[n]=o[n]-65535-(s[n-1]>>16&1),s[n-1]&=65535;s[15]=o[15]-32767-(s[14]>>16&1),a=s[15]>>16&1,s[14]&=65535,y(o,s,1-a)}for(n=0;n<16;n++)e[2*n]=255&o[n],e[2*n+1]=o[n]>>8}function m(e,t){var r=new Uint8Array(32),n=new Uint8Array(32);return b(r,e),b(n,t),d(r,0,n,0)}function g(e){var t=new Uint8Array(32);return b(t,e),1&t[0]}function w(e,t){var r;for(r=0;r<16;r++)e[r]=t[2*r]+(t[2*r+1]<<8);e[15]&=32767}function v(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]+r[n]}function _(e,t,r){for(var n=0;n<16;n++)e[n]=t[n]-r[n]}function k(e,t,r){var n,i,a=0,s=0,o=0,c=0,u=0,h=0,f=0,d=0,l=0,p=0,y=0,b=0,m=0,g=0,w=0,v=0,_=0,k=0,S=0,A=0,E=0,P=0,x=0,M=0,C=0,K=0,D=0,I=0,R=0,U=0,B=0,T=r[0],z=r[1],q=r[2],O=r[3],F=r[4],L=r[5],j=r[6],N=r[7],W=r[8],H=r[9],$=r[10],G=r[11],V=r[12],Z=r[13],Q=r[14],Y=r[15];a+=(n=t[0])*T,s+=n*z,o+=n*q,c+=n*O,u+=n*F,h+=n*L,f+=n*j,d+=n*N,l+=n*W,p+=n*H,y+=n*$,b+=n*G,m+=n*V,g+=n*Z,w+=n*Q,v+=n*Y,s+=(n=t[1])*T,o+=n*z,c+=n*q,u+=n*O,h+=n*F,f+=n*L,d+=n*j,l+=n*N,p+=n*W,y+=n*H,b+=n*$,m+=n*G,g+=n*V,w+=n*Z,v+=n*Q,_+=n*Y,o+=(n=t[2])*T,c+=n*z,u+=n*q,h+=n*O,f+=n*F,d+=n*L,l+=n*j,p+=n*N,y+=n*W,b+=n*H,m+=n*$,g+=n*G,w+=n*V,v+=n*Z,_+=n*Q,k+=n*Y,c+=(n=t[3])*T,u+=n*z,h+=n*q,f+=n*O,d+=n*F,l+=n*L,p+=n*j,y+=n*N,b+=n*W,m+=n*H,g+=n*$,w+=n*G,v+=n*V,_+=n*Z,k+=n*Q,S+=n*Y,u+=(n=t[4])*T,h+=n*z,f+=n*q,d+=n*O,l+=n*F,p+=n*L,y+=n*j,b+=n*N,m+=n*W,g+=n*H,w+=n*$,v+=n*G,_+=n*V,k+=n*Z,S+=n*Q,A+=n*Y,h+=(n=t[5])*T,f+=n*z,d+=n*q,l+=n*O,p+=n*F,y+=n*L,b+=n*j,m+=n*N,g+=n*W,w+=n*H,v+=n*$,_+=n*G,k+=n*V,S+=n*Z,A+=n*Q,E+=n*Y,f+=(n=t[6])*T,d+=n*z,l+=n*q,p+=n*O,y+=n*F,b+=n*L,m+=n*j,g+=n*N,w+=n*W,v+=n*H,_+=n*$,k+=n*G,S+=n*V,A+=n*Z,E+=n*Q,P+=n*Y,d+=(n=t[7])*T,l+=n*z,p+=n*q,y+=n*O,b+=n*F,m+=n*L,g+=n*j,w+=n*N,v+=n*W,_+=n*H,k+=n*$,S+=n*G,A+=n*V,E+=n*Z,P+=n*Q,x+=n*Y,l+=(n=t[8])*T,p+=n*z,y+=n*q,b+=n*O,m+=n*F,g+=n*L,w+=n*j,v+=n*N,_+=n*W,k+=n*H,S+=n*$,A+=n*G,E+=n*V,P+=n*Z,x+=n*Q,M+=n*Y,p+=(n=t[9])*T,y+=n*z,b+=n*q,m+=n*O,g+=n*F,w+=n*L,v+=n*j,_+=n*N,k+=n*W,S+=n*H,A+=n*$,E+=n*G,P+=n*V,x+=n*Z,M+=n*Q,C+=n*Y,y+=(n=t[10])*T,b+=n*z,m+=n*q,g+=n*O,w+=n*F,v+=n*L,_+=n*j,k+=n*N,S+=n*W,A+=n*H,E+=n*$,P+=n*G,x+=n*V,M+=n*Z,C+=n*Q,K+=n*Y,b+=(n=t[11])*T,m+=n*z,g+=n*q,w+=n*O,v+=n*F,_+=n*L,k+=n*j,S+=n*N,A+=n*W,E+=n*H,P+=n*$,x+=n*G,M+=n*V,C+=n*Z,K+=n*Q,D+=n*Y,m+=(n=t[12])*T,g+=n*z,w+=n*q,v+=n*O,_+=n*F,k+=n*L,S+=n*j,A+=n*N,E+=n*W,P+=n*H,x+=n*$,M+=n*G,C+=n*V,K+=n*Z,D+=n*Q,I+=n*Y,g+=(n=t[13])*T,w+=n*z,v+=n*q,_+=n*O,k+=n*F,S+=n*L,A+=n*j,E+=n*N,P+=n*W,x+=n*H,M+=n*$,C+=n*G,K+=n*V,D+=n*Z,I+=n*Q,R+=n*Y,w+=(n=t[14])*T,v+=n*z,_+=n*q,k+=n*O,S+=n*F,A+=n*L,E+=n*j,P+=n*N,x+=n*W,M+=n*H,C+=n*$,K+=n*G,D+=n*V,I+=n*Z,R+=n*Q,U+=n*Y,v+=(n=t[15])*T,s+=38*(k+=n*q),o+=38*(S+=n*O),c+=38*(A+=n*F),u+=38*(E+=n*L),h+=38*(P+=n*j),f+=38*(x+=n*N),d+=38*(M+=n*W),l+=38*(C+=n*H),p+=38*(K+=n*$),y+=38*(D+=n*G),b+=38*(I+=n*V),m+=38*(R+=n*Z),g+=38*(U+=n*Q),w+=38*(B+=n*Y),a=(n=(a+=38*(_+=n*z))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),a=(n=(a+=i-1+37*(i-1))+(i=1)+65535)-65536*(i=Math.floor(n/65536)),s=(n=s+i+65535)-65536*(i=Math.floor(n/65536)),o=(n=o+i+65535)-65536*(i=Math.floor(n/65536)),c=(n=c+i+65535)-65536*(i=Math.floor(n/65536)),u=(n=u+i+65535)-65536*(i=Math.floor(n/65536)),h=(n=h+i+65535)-65536*(i=Math.floor(n/65536)),f=(n=f+i+65535)-65536*(i=Math.floor(n/65536)),d=(n=d+i+65535)-65536*(i=Math.floor(n/65536)),l=(n=l+i+65535)-65536*(i=Math.floor(n/65536)),p=(n=p+i+65535)-65536*(i=Math.floor(n/65536)),y=(n=y+i+65535)-65536*(i=Math.floor(n/65536)),b=(n=b+i+65535)-65536*(i=Math.floor(n/65536)),m=(n=m+i+65535)-65536*(i=Math.floor(n/65536)),g=(n=g+i+65535)-65536*(i=Math.floor(n/65536)),w=(n=w+i+65535)-65536*(i=Math.floor(n/65536)),v=(n=v+i+65535)-65536*(i=Math.floor(n/65536)),a+=i-1+37*(i-1),e[0]=a,e[1]=s,e[2]=o,e[3]=c,e[4]=u,e[5]=h,e[6]=f,e[7]=d,e[8]=l,e[9]=p,e[10]=y,e[11]=b,e[12]=m,e[13]=g,e[14]=w,e[15]=v}function S(e,t){k(e,t,t)}function A(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=253;n>=0;n--)S(i,i),2!==n&&4!==n&&k(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}function E(e,r,n){var i,a,o=new Uint8Array(32),c=new Float64Array(80),u=t(),h=t(),f=t(),d=t(),l=t(),p=t();for(a=0;a<31;a++)o[a]=r[a];for(o[31]=127&r[31]|64,o[0]&=248,w(c,n),a=0;a<16;a++)h[a]=c[a],d[a]=u[a]=f[a]=0;for(u[0]=d[0]=1,a=254;a>=0;--a)y(u,h,i=o[a>>>3]>>>(7&a)&1),y(f,d,i),v(l,u,f),_(u,u,f),v(f,h,d),_(h,h,d),S(d,l),S(p,u),k(u,f,u),k(f,h,l),v(l,u,f),_(u,u,f),S(h,u),_(f,d,p),k(u,f,s),v(u,u,d),k(f,f,u),k(u,d,p),k(d,h,c),S(h,l),y(u,h,i),y(f,d,i);for(a=0;a<16;a++)c[a+16]=u[a],c[a+32]=f[a],c[a+48]=h[a],c[a+64]=d[a];var m=c.subarray(32),g=c.subarray(16);return A(m,m),k(g,g,m),b(e,g),0}function P(e,t){return E(e,t,n)}function x(e,r){var n=t(),i=t(),a=t(),s=t(),o=t(),u=t(),h=t(),f=t(),d=t();_(n,e[1],e[0]),_(d,r[1],r[0]),k(n,n,d),v(i,e[0],e[1]),v(d,r[0],r[1]),k(i,i,d),k(a,e[3],r[3]),k(a,a,c),k(s,e[2],r[2]),v(s,s,s),_(o,i,n),_(u,s,a),v(h,s,a),v(f,i,n),k(e[0],o,u),k(e[1],f,h),k(e[2],h,u),k(e[3],o,f)}function M(e,t,r){var n;for(n=0;n<4;n++)y(e[n],t[n],r)}function C(e,r){var n=t(),i=t(),a=t();A(a,r[2]),k(n,r[0],a),k(i,r[1],a),b(e,i),e[31]^=g(n)<<7}function K(e,t,r){var n,s;for(l(e[0],i),l(e[1],a),l(e[2],a),l(e[3],i),s=255;s>=0;--s)M(e,t,n=r[s/8|0]>>(7&s)&1),x(t,e),x(e,e),M(e,t,n)}function D(e,r){var n=[t(),t(),t(),t()];l(n[0],u),l(n[1],h),l(n[2],a),k(n[3],u,h),K(e,n,r)}function I(n,i,a){var s,o,c=[t(),t(),t(),t()];for(a||r(i,32),(s=e.hash(i.subarray(0,32)))[0]&=248,s[31]&=127,s[31]|=64,D(c,s),C(n,c),o=0;o<32;o++)i[o+32]=n[o];return 0}var R=new Float64Array([237,211,245,92,26,99,18,88,214,156,247,162,222,249,222,20,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,16]);function U(e,t){var r,n,i,a;for(n=63;n>=32;--n){for(r=0,i=n-32,a=n-12;i<a;++i)t[i]+=r-16*t[n]*R[i-(n-32)],r=Math.floor((t[i]+128)/256),t[i]-=256*r;t[i]+=r,t[n]=0}for(r=0,i=0;i<32;i++)t[i]+=r-(t[31]>>4)*R[i],r=t[i]>>8,t[i]&=255;for(i=0;i<32;i++)t[i]-=r*R[i];for(n=0;n<32;n++)t[n+1]+=t[n]>>8,e[n]=255&t[n]}function B(e){var t,r=new Float64Array(64);for(t=0;t<64;t++)r[t]=e[t];for(t=0;t<64;t++)e[t]=0;U(e,r)}function T(e,r){var n=t(),s=t(),c=t(),u=t(),h=t(),d=t(),p=t();return l(e[2],a),w(e[1],r),S(c,e[1]),k(u,c,o),_(c,c,e[2]),v(u,e[2],u),S(h,u),S(d,h),k(p,d,h),k(n,p,c),k(n,n,u),function(e,r){var n,i=t();for(n=0;n<16;n++)i[n]=r[n];for(n=250;n>=0;n--)S(i,i),1!==n&&k(i,i,r);for(n=0;n<16;n++)e[n]=i[n]}(n,n),k(n,n,c),k(n,n,u),k(n,n,u),k(e[0],n,u),S(s,e[0]),k(s,s,u),m(s,c)&&k(e[0],e[0],f),S(s,e[0]),k(s,s,u),m(s,c)?-1:(g(e[0])===r[31]>>7&&_(e[0],i,e[0]),k(e[3],e[0],e[1]),0)}var z=64;function q(){for(var e=0;e<arguments.length;e++)if(!(arguments[e]instanceof Uint8Array))throw new TypeError("unexpected type, use Uint8Array")}function O(e){for(var t=0;t<e.length;t++)e[t]=0}e.scalarMult=function(e,t){if(q(e,t),32!==e.length)throw new Error("bad n size");if(32!==t.length)throw new Error("bad p size");var r=new Uint8Array(32);return E(r,e,t),r},e.box={},e.box.keyPair=function(){var e,t,n=new Uint8Array(32),i=new Uint8Array(32);return e=n,r(t=i,32),P(e,t),{publicKey:n,secretKey:i}},e.box.keyPair.fromSecretKey=function(e){if(q(e),32!==e.length)throw new Error("bad secret key size");var t=new Uint8Array(32);return P(t,e),{publicKey:t,secretKey:new Uint8Array(e)}},e.sign=function(r,n){if(q(r,n),64!==n.length)throw new Error("bad secret key size");var i=new Uint8Array(z+r.length);return function(r,n,i,a){var s,o,c,u,h,f=new Float64Array(64),d=[t(),t(),t(),t()];(s=e.hash(a.subarray(0,32)))[0]&=248,s[31]&=127,s[31]|=64;var l=i+64;for(u=0;u<i;u++)r[64+u]=n[u];for(u=0;u<32;u++)r[32+u]=s[32+u];for(B(c=e.hash(r.subarray(32,l))),D(d,c),C(r,d),u=32;u<64;u++)r[u]=a[u];for(B(o=e.hash(r.subarray(0,l))),u=0;u<64;u++)f[u]=0;for(u=0;u<32;u++)f[u]=c[u];for(u=0;u<32;u++)for(h=0;h<32;h++)f[u+h]+=o[u]*s[h];U(r.subarray(32),f)}(i,r,r.length,n),i},e.sign.detached=function(t,r){for(var n=e.sign(t,r),i=new Uint8Array(z),a=0;a<i.length;a++)i[a]=n[a];return i},e.sign.detached.verify=function(r,n,i){if(q(r,n,i),n.length!==z)throw new Error("bad signature size");if(32!==i.length)throw new Error("bad public key size");var a,s=new Uint8Array(z+r.length),o=new Uint8Array(z+r.length);for(a=0;a<z;a++)s[a]=n[a];for(a=0;a<r.length;a++)s[a+z]=r[a];return function(r,n,i,a){var s,o,c=new Uint8Array(32),u=[t(),t(),t(),t()],h=[t(),t(),t(),t()];if(i<64)return-1;if(T(h,a))return-1;for(s=0;s<i;s++)r[s]=n[s];for(s=0;s<32;s++)r[s+32]=a[s];if(B(o=e.hash(r.subarray(0,i))),K(u,h,o),D(h,n.subarray(32)),x(u,h),C(c,u),i-=64,d(n,0,c,0)){for(s=0;s<i;s++)r[s]=0;return-1}for(s=0;s<i;s++)r[s]=n[s+64];return i}(o,s,s.length,i)>=0},e.sign.keyPair=function(){var e=new Uint8Array(32),t=new Uint8Array(64);return I(e,t),{publicKey:e,secretKey:t}},e.sign.keyPair.fromSecretKey=function(e){if(q(e),64!==e.length)throw new Error("bad secret key size");for(var t=new Uint8Array(32),r=0;r<t.length;r++)t[r]=e[32+r];return{publicKey:t,secretKey:new Uint8Array(e)}},e.sign.keyPair.fromSeed=function(e){if(q(e),32!==e.length)throw new Error("bad seed size");for(var t=new Uint8Array(32),r=new Uint8Array(64),n=0;n<32;n++)r[n]=e[n];return I(t,r,!0),{publicKey:t,secretKey:r}},e.setPRNG=function(e){r=e},function(){var t="undefined"!=typeof self?self.crypto||self.msCrypto:null;if(t&&t.getRandomValues){e.setPRNG((function(e,r){var n,i=new Uint8Array(r);for(n=0;n<r;n+=65536)t.getRandomValues(i.subarray(n,n+Math.min(r-n,65536)));for(n=0;n<r;n++)e[n]=i[n];O(i)}))}else void 0!==$e&&(t=void 0)&&t.randomBytes&&e.setPRNG((function(e,r){var n,i=t.randomBytes(r);for(n=0;n<r;n++)e[n]=i[n];O(i)}))}()}(e.exports?e.exports:self.nacl=self.nacl||{})}));async function Ur(e){const t=new Uint8Array(e);if("undefined"!=typeof crypto&&crypto.getRandomValues)crypto.getRandomValues(t);else{if(!Tr.buffer)throw new Error("No secure random number generator available.");await Tr.get(t)}return t}async function Br(e,t){const r=await j.getBigInteger();if(t.lt(e))throw new Error("Illegal parameter value: max <= min");const n=t.sub(e),i=n.byteLength();return new r(await Ur(i+8)).mod(n).add(e)}const Tr=new class RandomBuffer{constructor(){this.buffer=null,this.size=null,this.callback=null}init(e,t){this.buffer=new Uint8Array(e),this.size=0,this.callback=t}set(e){if(!this.buffer)throw new Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw new Error("Invalid type: buf not an Uint8Array");const t=this.buffer.length-this.size;e.length>t&&(e=e.subarray(0,t)),this.buffer.set(e,this.size),this.size+=e.length}async get(e){if(!this.buffer)throw new Error("RandomBuffer is not initialized");if(!(e instanceof Uint8Array))throw new Error("Invalid type: buf not an Uint8Array");if(this.size<e.length){if(!this.callback)throw new Error("Random number buffer depleted");return await this.callback(),this.get(e)}for(let t=0;t<e.length;t++)e[t]=this.buffer[--this.size],this.buffer[this.size]=0}};var zr=Object.freeze({__proto__:null,getRandomBytes:Ur,getRandomBigInteger:Br,randomBuffer:Tr});async function qr(e,t,r){const n=await j.getBigInteger(),i=new n(1),a=i.leftShift(new n(e-1)),s=new n(30),o=[1,6,5,4,3,2,1,4,3,2,1,2,1,4,3,2,1,2,1,4,3,2,1,6,5,4,3,2,1,2],c=await Br(a,a.leftShift(i));let u=c.mod(s).toNumber();do{c.iadd(new n(o[u])),u=(u+o[u])%o.length,c.bitLength()>e&&(c.imod(a.leftShift(i)).iadd(a),u=c.mod(s).toNumber())}while(!await Or(c,t,r));return c}async function Or(e,t,r){return!(t&&!e.dec().gcd(t).isOne())&&(!!await async function(e){const t=await j.getBigInteger();return Fr.every((r=>0!==e.mod(new t(r))))}(e)&&(!!await async function(e,t){const r=await j.getBigInteger();return t=t||new r(2),t.modExp(e.dec(),e).isOne()}(e)&&!!await async function(e,t,r){const n=await j.getBigInteger(),i=e.bitLength();t||(t=Math.max(1,i/48|0));const a=e.dec();let s=0;for(;!a.getBit(s);)s++;const o=e.rightShift(new n(s));for(;t>0;t--){let t,i=(r?r():await Br(new n(2),a)).modExp(o,e);if(!i.isOne()&&!i.equal(a)){for(t=1;t<s;t++){if(i=i.mul(i).mod(e),i.isOne())return!1;if(i.equal(a))break}if(t===s)return!1}}return!0}(e,r)))}const Fr=[7,11,13,17,19,23,29,31,37,41,43,47,53,59,61,67,71,73,79,83,89,97,101,103,107,109,113,127,131,137,139,149,151,157,163,167,173,179,181,191,193,197,199,211,223,227,229,233,239,241,251,257,263,269,271,277,281,283,293,307,311,313,317,331,337,347,349,353,359,367,373,379,383,389,397,401,409,419,421,431,433,439,443,449,457,461,463,467,479,487,491,499,503,509,521,523,541,547,557,563,569,571,577,587,593,599,601,607,613,617,619,631,641,643,647,653,659,661,673,677,683,691,701,709,719,727,733,739,743,751,757,761,769,773,787,797,809,811,821,823,827,829,839,853,857,859,863,877,881,883,887,907,911,919,929,937,941,947,953,967,971,977,983,991,997,1009,1013,1019,1021,1031,1033,1039,1049,1051,1061,1063,1069,1087,1091,1093,1097,1103,1109,1117,1123,1129,1151,1153,1163,1171,1181,1187,1193,1201,1213,1217,1223,1229,1231,1237,1249,1259,1277,1279,1283,1289,1291,1297,1301,1303,1307,1319,1321,1327,1361,1367,1373,1381,1399,1409,1423,1427,1429,1433,1439,1447,1451,1453,1459,1471,1481,1483,1487,1489,1493,1499,1511,1523,1531,1543,1549,1553,1559,1567,1571,1579,1583,1597,1601,1607,1609,1613,1619,1621,1627,1637,1657,1663,1667,1669,1693,1697,1699,1709,1721,1723,1733,1741,1747,1753,1759,1777,1783,1787,1789,1801,1811,1823,1831,1847,1861,1867,1871,1873,1877,1879,1889,1901,1907,1913,1931,1933,1949,1951,1973,1979,1987,1993,1997,1999,2003,2011,2017,2027,2029,2039,2053,2063,2069,2081,2083,2087,2089,2099,2111,2113,2129,2131,2137,2141,2143,2153,2161,2179,2203,2207,2213,2221,2237,2239,2243,2251,2267,2269,2273,2281,2287,2293,2297,2309,2311,2333,2339,2341,2347,2351,2357,2371,2377,2381,2383,2389,2393,2399,2411,2417,2423,2437,2441,2447,2459,2467,2473,2477,2503,2521,2531,2539,2543,2549,2551,2557,2579,2591,2593,2609,2617,2621,2633,2647,2657,2659,2663,2671,2677,2683,2687,2689,2693,2699,2707,2711,2713,2719,2729,2731,2741,2749,2753,2767,2777,2789,2791,2797,2801,2803,2819,2833,2837,2843,2851,2857,2861,2879,2887,2897,2903,2909,2917,2927,2939,2953,2957,2963,2969,2971,2999,3001,3011,3019,3023,3037,3041,3049,3061,3067,3079,3083,3089,3109,3119,3121,3137,3163,3167,3169,3181,3187,3191,3203,3209,3217,3221,3229,3251,3253,3257,3259,3271,3299,3301,3307,3313,3319,3323,3329,3331,3343,3347,3359,3361,3371,3373,3389,3391,3407,3413,3433,3449,3457,3461,3463,3467,3469,3491,3499,3511,3517,3527,3529,3533,3539,3541,3547,3557,3559,3571,3581,3583,3593,3607,3613,3617,3623,3631,3637,3643,3659,3671,3673,3677,3691,3697,3701,3709,3719,3727,3733,3739,3761,3767,3769,3779,3793,3797,3803,3821,3823,3833,3847,3851,3853,3863,3877,3881,3889,3907,3911,3917,3919,3923,3929,3931,3943,3947,3967,3989,4001,4003,4007,4013,4019,4021,4027,4049,4051,4057,4073,4079,4091,4093,4099,4111,4127,4129,4133,4139,4153,4157,4159,4177,4201,4211,4217,4219,4229,4231,4241,4243,4253,4259,4261,4271,4273,4283,4289,4297,4327,4337,4339,4349,4357,4363,4373,4391,4397,4409,4421,4423,4441,4447,4451,4457,4463,4481,4483,4493,4507,4513,4517,4519,4523,4547,4549,4561,4567,4583,4591,4597,4603,4621,4637,4639,4643,4649,4651,4657,4663,4673,4679,4691,4703,4721,4723,4729,4733,4751,4759,4783,4787,4789,4793,4799,4801,4813,4817,4831,4861,4871,4877,4889,4903,4909,4919,4931,4933,4937,4943,4951,4957,4967,4969,4973,4987,4993,4999];const Lr=[];async function jr(e,t){const r=e.length;if(r>t-11)throw new Error("Message too long");const n=await async function(e){const t=new Uint8Array(e);let r=0;for(;r<e;){const n=await Ur(e-r);for(let e=0;e<n.length;e++)0!==n[e]&&(t[r++]=n[e])}return t}(t-r-3),i=new Uint8Array(t);return i[1]=2,i.set(n,2),i.set(e,t-r),i}function Nr(e,t){let r=2,n=1;for(let t=r;t<e.length;t++)n&=0!==e[t],r+=n;const i=r-2,a=e.subarray(r+1),s=0===e[0]&2===e[1]&i>=8&!n;if(t)return j.selectUint8Array(s,a,t);if(s)return a;throw new Error("Decryption error")}async function Wr(e,t,r){let n;if(t.length!==Ir.getHashByteLength(e))throw new Error("Invalid hash length");const i=new Uint8Array(Lr[e].length);for(n=0;n<Lr[e].length;n++)i[n]=Lr[e][n];const a=i.length+t.length;if(r<a+11)throw new Error("Intended encoded message length too short");const s=new Uint8Array(r-a-3).fill(255),o=new Uint8Array(r);return o[1]=1,o.set(s,2),o.set(i,r-a),o.set(t,r-t.length),o}Lr[1]=[48,32,48,12,6,8,42,134,72,134,247,13,2,5,5,0,4,16],Lr[2]=[48,33,48,9,6,5,43,14,3,2,26,5,0,4,20],Lr[3]=[48,33,48,9,6,5,43,36,3,2,1,5,0,4,20],Lr[8]=[48,49,48,13,6,9,96,134,72,1,101,3,4,2,1,5,0,4,32],Lr[9]=[48,65,48,13,6,9,96,134,72,1,101,3,4,2,2,5,0,4,48],Lr[10]=[48,81,48,13,6,9,96,134,72,1,101,3,4,2,3,5,0,4,64],Lr[11]=[48,45,48,13,6,9,96,134,72,1,101,3,4,2,4,5,0,4,28];var Hr=Object.freeze({__proto__:null,emeEncode:jr,emeDecode:Nr,emsaEncode:Wr});const $r=j.getWebCrypto();var Gr=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a,s,o,c){if(t&&!j.isStream(t)&&j.getWebCrypto())try{return await async function(e,t,r,n,i,a,s,o){const c=await async function(e,t,r,n,i,a){const s=await j.getBigInteger(),o=new s(n),c=new s(i),u=new s(r);let h=u.mod(c.dec()),f=u.mod(o.dec());return f=f.toUint8Array(),h=h.toUint8Array(),{kty:"RSA",n:V(e,!0),e:V(t,!0),d:V(r,!0),p:V(i,!0),q:V(n,!0),dp:V(h,!0),dq:V(f,!0),qi:V(a,!0),ext:!0}}(r,n,i,a,s,o),u={name:"RSASSA-PKCS1-v1_5",hash:{name:e}},h=await $r.importKey("jwk",c,u,!1,["sign"]);return new Uint8Array(await $r.sign("RSASSA-PKCS1-v1_5",h,t))}(Q.read(Q.webHash,e),t,r,n,i,a,s,o)}catch(e){}return async function(e,t,r,n){const i=await j.getBigInteger();t=new i(t);const a=new i(await Wr(e,n,t.byteLength()));if(r=new i(r),a.gte(t))throw new Error("Message size cannot exceed modulus size");return a.modExp(r,t).toUint8Array("be",t.byteLength())}(e,r,i,c)},verify:async function(e,t,r,n,i,a){if(t&&!j.isStream(t)&&j.getWebCrypto())try{return await async function(e,t,r,n,i){const a=function(e,t){return{kty:"RSA",n:V(e,!0),e:V(t,!0),ext:!0}}(n,i),s=await $r.importKey("jwk",a,{name:"RSASSA-PKCS1-v1_5",hash:{name:e}},!1,["verify"]);return $r.verify("RSASSA-PKCS1-v1_5",s,r,t)}(Q.read(Q.webHash,e),t,r,n,i)}catch(e){}return async function(e,t,r,n,i){const a=await j.getBigInteger();if(r=new a(r),t=new a(t),n=new a(n),t.gte(r))throw new Error("Signature size cannot exceed modulus size");const s=t.modExp(n,r).toUint8Array("be",r.byteLength()),o=await Wr(e,i,r.byteLength());return j.equalsUint8Array(s,o)}(e,r,n,i,a)},encrypt:async function(e,t,r){return async function(e,t,r){const n=await j.getBigInteger();if(t=new n(t),e=new n(await jr(e,t.byteLength())),r=new n(r),e.gte(t))throw new Error("Message size cannot exceed modulus size");return e.modExp(r,t).toUint8Array("be",t.byteLength())}(e,t,r)},decrypt:async function(e,t,r,n,i,a,s,o){return async function(e,t,r,n,i,a,s,o){const c=await j.getBigInteger();if(e=new c(e),t=new c(t),r=new c(r),n=new c(n),i=new c(i),a=new c(a),s=new c(s),e.gte(t))throw new Error("Data too large.");const u=n.mod(a.dec()),h=n.mod(i.dec()),f=(await Br(new c(2),t)).mod(t),d=f.modInv(t).modExp(r,t);e=e.mul(d).mod(t);const l=e.modExp(h,i),p=e.modExp(u,a),y=s.mul(p.sub(l)).mod(a);let b=y.mul(i).add(l);return b=b.mul(f).mod(t),Nr(b.toUint8Array("be",t.byteLength()),o)}(e,t,r,n,i,a,s,o)},generate:async function(e,t){if(t=new(await j.getBigInteger())(t),j.getWebCrypto()){const r={name:"RSASSA-PKCS1-v1_5",modulusLength:e,publicExponent:t.toUint8Array(),hash:{name:"SHA-1"}},n=await $r.generateKey(r,!0,["sign","verify"]),i=await $r.exportKey("jwk",n.privateKey);return{n:G(i.n),e:t.toUint8Array(),d:G(i.d),p:G(i.q),q:G(i.p),u:G(i.qi)}}let r,n,i;do{n=await qr(e-(e>>1),t,40),r=await qr(e>>1,t,40),i=r.mul(n)}while(i.bitLength()!==e);const a=r.dec().imul(n.dec());return n.lt(r)&&([r,n]=[n,r]),{n:i.toUint8Array(),e:t.toUint8Array(),d:t.modInv(a).toUint8Array(),p:r.toUint8Array(),q:n.toUint8Array(),u:r.modInv(n).toUint8Array()}},validateParams:async function(e,t,r,n,i,a){const s=await j.getBigInteger();if(e=new s(e),n=new s(n),i=new s(i),!n.mul(i).equal(e))return!1;const o=new s(2);if(a=new s(a),!n.mul(a).mod(i).isOne())return!1;t=new s(t),r=new s(r);const c=new s(Math.floor(e.bitLength()/3)),u=await Br(o,o.leftShift(c)),h=u.mul(r).mul(t);return!(!h.mod(n.dec()).equal(u)||!h.mod(i.dec()).equal(u))}});var Vr=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n){const i=await j.getBigInteger();t=new i(t),r=new i(r),n=new i(n);const a=new i(await jr(e,t.byteLength())),s=await Br(new i(1),t.dec());return{c1:r.modExp(s,t).toUint8Array(),c2:n.modExp(s,t).imul(a).imod(t).toUint8Array()}},decrypt:async function(e,t,r,n,i){const a=await j.getBigInteger();return e=new a(e),t=new a(t),r=new a(r),n=new a(n),Nr(e.modExp(n,r).modInv(r).imul(t).imod(r).toUint8Array("be",r.byteLength()),i)},validateParams:async function(e,t,r,n){const i=await j.getBigInteger();e=new i(e),t=new i(t),r=new i(r);const a=new i(1);if(t.lte(a)||t.gte(e))return!1;const s=new i(e.bitLength()),o=new i(1023);if(s.lt(o))return!1;if(!t.modExp(e.dec(),e).isOne())return!1;let c=t;const u=new i(1),h=new i(2).leftShift(new i(17));for(;u.lt(h);){if(c=c.mul(t).imod(e),c.isOne())return!1;u.iinc()}n=new i(n);const f=new i(2),d=await Br(f.leftShift(s.dec()),f.leftShift(s)),l=e.dec().imul(d).iadd(n);return!!r.equal(t.modExp(l,e))}});class OID{constructor(e){if(e instanceof OID)this.oid=e.oid;else if(j.isArray(e)||j.isUint8Array(e)){if(6===(e=new Uint8Array(e))[0]){if(e[1]!==e.length-2)throw new Error("Length mismatch in DER encoded oid");e=e.subarray(2)}this.oid=e}else this.oid=""}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.oid=e.subarray(1,1+t),1+this.oid.length}throw new Error("Invalid oid")}write(){return j.concatUint8Array([new Uint8Array([this.oid.length]),this.oid])}toHex(){return j.uint8ArrayToHex(this.oid)}getName(){const e=this.toHex();if(Q.curve[e])return Q.write(Q.curve,e);throw new Error("Unknown curve object identifier.")}}function Zr(e,t){return e.keyPair({priv:t})}function Qr(e,t){const r=e.keyPair({pub:t});if(!0!==r.validate().result)throw new Error("Invalid elliptic public key");return r}async function Yr(e){if(!Y.useIndutnyElliptic)throw new Error("This curve is only supported in the full build of OpenPGP.js");const{default:t}=await Promise.resolve().then((function(){return np}));return new t.ec(e)}function Xr(e){let t,r=0;const n=e[0];return n<192?([r]=e,t=1):n<255?(r=(e[0]-192<<8)+e[1]+192,t=2):255===n&&(r=j.readNumber(e.subarray(1,5)),t=5),{len:r,offset:t}}function Jr(e){return e<192?new Uint8Array([e]):e>191&&e<8384?new Uint8Array([192+(e-192>>8),e-192&255]):j.concatUint8Array([new Uint8Array([255]),j.writeNumber(e,4)])}function en(e){if(e<0||e>30)throw new Error("Partial Length power must be between 1 and 30");return new Uint8Array([224+e])}function tn(e){return new Uint8Array([192|e])}function rn(e,t){return j.concatUint8Array([tn(e),Jr(t)])}function nn(e){return[Q.packet.literalData,Q.packet.compressedData,Q.packet.symmetricallyEncryptedData,Q.packet.symEncryptedIntegrityProtectedData,Q.packet.aeadEncryptedData].includes(e)}async function an(e,t){const r=x(e);let n,i;try{const a=await r.peekBytes(2);if(!a||a.length<2||0==(128&a[0]))throw new Error("Error during parsing. This message / key probably does not conform to a valid OpenPGP format.");const s=await r.readByte();let o,c,u=-1,h=-1;h=0,0!=(64&s)&&(h=1),h?u=63&s:(u=(63&s)>>2,c=3&s);const f=nn(u);let d,l=null;if(f){if("array"===j.isStream(e)){const e=new ArrayStream;n=M(e),l=e}else{const e=new _;n=M(e.writable),l=e.readable}i=t({tag:u,packet:l})}else l=[];do{if(h){const e=await r.readByte();if(d=!1,e<192)o=e;else if(e>=192&&e<224)o=(e-192<<8)+await r.readByte()+192;else if(e>223&&e<255){if(o=1<<(31&e),d=!0,!f)throw new TypeError("This packet type does not support partial lengths.")}else o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte()}else switch(c){case 0:o=await r.readByte();break;case 1:o=await r.readByte()<<8|await r.readByte();break;case 2:o=await r.readByte()<<24|await r.readByte()<<16|await r.readByte()<<8|await r.readByte();break;default:o=1/0}if(o>0){let e=0;for(;;){n&&await n.ready;const{done:t,value:i}=await r.read();if(t){if(o===1/0)break;throw new Error("Unexpected end of packet")}const a=o===1/0?i:i.subarray(0,o-e);if(n?await n.write(a):l.push(a),e+=i.length,e>=o){r.unshift(i.subarray(o-e+i.length));break}}}}while(d);const p=await r.peekBytes(f?1/0:2);return n?(await n.ready,await n.close()):(l=j.concatUint8Array(l),await t({tag:u,packet:l})),!p||!p.length}catch(e){if(n)return await n.abort(e),!0;throw e}finally{n&&await i,r.releaseLock()}}class UnsupportedError extends Error{constructor(...e){super(...e),Error.captureStackTrace&&Error.captureStackTrace(this,UnsupportedError),this.name="UnsupportedError"}}class UnparseablePacket{constructor(e,t){this.tag=e,this.rawContent=t}write(){return this.rawContent}}const sn=j.getWebCrypto(),on={p256:"P-256",p384:"P-384",p521:"P-521"},cn={p256:{oid:[6,8,42,134,72,206,61,3,1,7],keyType:Q.publicKey.ecdsa,hash:Q.hash.sha256,cipher:Q.symmetric.aes128,web:on.p256,payloadSize:32,sharedSize:256},p384:{oid:[6,5,43,129,4,0,34],keyType:Q.publicKey.ecdsa,hash:Q.hash.sha384,cipher:Q.symmetric.aes192,web:on.p384,payloadSize:48,sharedSize:384},p521:{oid:[6,5,43,129,4,0,35],keyType:Q.publicKey.ecdsa,hash:Q.hash.sha512,cipher:Q.symmetric.aes256,web:on.p521,payloadSize:66,sharedSize:528},secp256k1:{oid:[6,5,43,129,4,0,10],keyType:Q.publicKey.ecdsa,hash:Q.hash.sha256,cipher:Q.symmetric.aes128,payloadSize:32},ed25519:{oid:[6,9,43,6,1,4,1,218,71,15,1],keyType:Q.publicKey.eddsa,hash:Q.hash.sha512,payloadSize:32},curve25519:{oid:[6,10,43,6,1,4,1,151,85,1,5,1],keyType:Q.publicKey.ecdh,hash:Q.hash.sha256,cipher:Q.symmetric.aes128,payloadSize:32},brainpoolP256r1:{oid:[6,9,43,36,3,3,2,8,1,1,7],keyType:Q.publicKey.ecdsa,hash:Q.hash.sha256,cipher:Q.symmetric.aes128,payloadSize:32},brainpoolP384r1:{oid:[6,9,43,36,3,3,2,8,1,1,11],keyType:Q.publicKey.ecdsa,hash:Q.hash.sha384,cipher:Q.symmetric.aes192,payloadSize:48},brainpoolP512r1:{oid:[6,9,43,36,3,3,2,8,1,1,13],keyType:Q.publicKey.ecdsa,hash:Q.hash.sha512,cipher:Q.symmetric.aes256,payloadSize:64}};class Curve{constructor(e,t){try{(j.isArray(e)||j.isUint8Array(e))&&(e=new OID(e)),e instanceof OID&&(e=e.getName()),this.name=Q.write(Q.curve,e)}catch(e){throw new UnsupportedError("Unknown curve")}t=t||cn[this.name],this.keyType=t.keyType,this.oid=t.oid,this.hash=t.hash,this.cipher=t.cipher,this.web=t.web&&cn[this.name],this.payloadSize=t.payloadSize,this.web&&j.getWebCrypto()?this.type="web":"curve25519"===this.name?this.type="curve25519":"ed25519"===this.name&&(this.type="ed25519")}async genKeyPair(){let e;switch(this.type){case"web":try{return await async function(e){const t=await sn.generateKey({name:"ECDSA",namedCurve:on[e]},!0,["sign","verify"]),r=await sn.exportKey("jwk",t.privateKey),n=await sn.exportKey("jwk",t.publicKey);return{publicKey:hn(n),privateKey:G(r.d)}}(this.name)}catch(e){break}case"curve25519":{const t=await Ur(32);t[0]=127&t[0]|64,t[31]&=248;const r=t.slice().reverse();e=Rr.box.keyPair.fromSecretKey(r);return{publicKey:j.concatUint8Array([new Uint8Array([64]),e.publicKey]),privateKey:t}}case"ed25519":{const e=await Ur(32),t=Rr.sign.keyPair.fromSeed(e);return{publicKey:j.concatUint8Array([new Uint8Array([64]),t.publicKey]),privateKey:e}}}const t=await Yr(this.name);return e=await t.genKeyPair({entropy:j.uint8ArrayToString(await Ur(32))}),{publicKey:new Uint8Array(e.getPublic("array",!1)),privateKey:e.getPrivate().toArrayLike(Uint8Array)}}}async function un(e,t,r,n){const i={p256:!0,p384:!0,p521:!0,secp256k1:!0,curve25519:e===Q.publicKey.ecdh,brainpoolP256r1:!0,brainpoolP384r1:!0,brainpoolP512r1:!0},a=t.getName();if(!i[a])return!1;if("curve25519"===a){n=n.slice().reverse();const{publicKey:e}=Rr.box.keyPair.fromSecretKey(n);r=new Uint8Array(r);const t=new Uint8Array([64,...e]);return!!j.equalsUint8Array(t,r)}const s=await Yr(a);try{r=Qr(s,r).getPublic()}catch(e){return!1}return!!Zr(s,n).getPublic().eq(r)}function hn(e){const t=G(e.x),r=G(e.y),n=new Uint8Array(t.length+r.length+1);return n[0]=4,n.set(t,1),n.set(r,t.length+1),n}function fn(e,t,r){const n=e,i=r.slice(1,n+1),a=r.slice(n+1,2*n+1);return{kty:"EC",crv:t,x:V(i,!0),y:V(a,!0),ext:!0}}function dn(e,t,r,n){const i=fn(e,t,r);return i.d=V(n,!0),i}const ln=j.getWebCrypto();async function pn(e,t,r,n,i,a){const s=new Curve(e);if(r&&!j.isStream(r)){const e={publicKey:n,privateKey:i};if("web"===s.type)try{return await async function(e,t,r,n){const i=e.payloadSize,a=dn(e.payloadSize,on[e.name],n.publicKey,n.privateKey),s=await ln.importKey("jwk",a,{name:"ECDSA",namedCurve:on[e.name],hash:{name:Q.read(Q.webHash,e.hash)}},!1,["sign"]),o=new Uint8Array(await ln.sign({name:"ECDSA",namedCurve:on[e.name],hash:{name:Q.read(Q.webHash,t)}},s,r));return{r:o.slice(0,i),s:o.slice(i,i<<1)}}(s,t,r,e)}catch(e){if("p521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e}}return async function(e,t,r){const n=await Yr(e.name),i=Zr(n,r),a=i.sign(t);return{r:a.r.toArrayLike(Uint8Array),s:a.s.toArrayLike(Uint8Array)}}(s,a,i)}async function yn(e,t,r,n,i,a){const s=new Curve(e);if(n&&!j.isStream(n)&&"web"===s.type)try{return await async function(e,t,{r:r,s:n},i,a){const s=fn(e.payloadSize,on[e.name],a),o=await ln.importKey("jwk",s,{name:"ECDSA",namedCurve:on[e.name],hash:{name:Q.read(Q.webHash,e.hash)}},!1,["verify"]),c=j.concatUint8Array([r,n]).buffer;return ln.verify({name:"ECDSA",namedCurve:on[e.name],hash:{name:Q.read(Q.webHash,t)}},o,c,i)}(s,t,r,n,i)}catch(e){if("p521"!==s.name&&("DataError"===e.name||"OperationError"===e.name))throw e}return async function(e,t,r,n){const i=await Yr(e.name),a=Qr(i,n);return a.verify(r,t)}(s,r,void 0===t?n:a,i)}var bn=Object.freeze({__proto__:null,sign:pn,verify:yn,validateParams:async function(e,t,r){const n=new Curve(e);if(n.keyType!==Q.publicKey.ecdsa)return!1;if("web"===n.type){const n=await Ur(8),i=Q.hash.sha256,a=await Ir.digest(i,n);try{const s=await pn(e,i,n,t,r,a);return await yn(e,i,s,n,t,a)}catch(e){return!1}}return un(Q.publicKey.ecdsa,e,t,r)}});Rr.hash=e=>new Uint8Array(jt().update(e).digest());var mn=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a){if(Ir.getHashByteLength(t)<Ir.getHashByteLength(Q.hash.sha256))throw new Error("Hash algorithm too weak: sha256 or stronger is required for EdDSA.");const s=j.concatUint8Array([i,n.subarray(1)]),o=Rr.sign.detached(a,s);return{r:o.subarray(0,32),s:o.subarray(32)}},verify:async function(e,t,{r:r,s:n},i,a,s){const o=j.concatUint8Array([r,n]);return Rr.sign.detached.verify(s,o,a.subarray(1))},validateParams:async function(e,t,r){if("ed25519"!==e.getName())return!1;const{publicKey:n}=Rr.sign.keyPair.fromSeed(r),i=new Uint8Array([64,...n]);return j.equalsUint8Array(t,i)}});function gn(e,t){const r=new Te["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=vn(t);let a=n;const s=i,o=i.length/2,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let e=0;e<=5;++e)for(let t=0;t<o;++t)c[1]=o*e+(1+t),u[0]=a[0],u[1]=a[1],u[2]=s[2*t],u[3]=s[2*t+1],u=vn(r.encrypt(_n(u))),a=u.subarray(0,2),a[0]^=c[0],a[1]^=c[1],s[2*t]=u[2],s[2*t+1]=u[3];return _n(a,s)}function wn(e,t){const r=new Te["aes"+8*e.length](e),n=new Uint32Array([2795939494,2795939494]),i=vn(t);let a=i.subarray(0,2);const s=i.subarray(2),o=i.length/2-1,c=new Uint32Array([0,0]);let u=new Uint32Array(4);for(let e=5;e>=0;--e)for(let t=o-1;t>=0;--t)c[1]=o*e+(t+1),u[0]=a[0]^c[0],u[1]=a[1]^c[1],u[2]=s[2*t],u[3]=s[2*t+1],u=vn(r.decrypt(_n(u))),a=u.subarray(0,2),s[2*t]=u[2],s[2*t+1]=u[3];if(a[0]===n[0]&&a[1]===n[1])return _n(s);throw new Error("Key Data Integrity failed")}function vn(e){const{length:t}=e,r=function(e){if(j.isString(e)){const{length:t}=e,r=new ArrayBuffer(t),n=new Uint8Array(r);for(let r=0;r<t;++r)n[r]=e.charCodeAt(r);return r}return new Uint8Array(e).buffer}(e),n=new DataView(r),i=new Uint32Array(t/4);for(let e=0;e<t/4;++e)i[e]=n.getUint32(4*e);return i}function _n(){let e=0;for(let t=0;t<arguments.length;++t)e+=4*arguments[t].length;const t=new ArrayBuffer(e),r=new DataView(t);let n=0;for(let e=0;e<arguments.length;++e){for(let t=0;t<arguments[e].length;++t)r.setUint32(n+4*t,arguments[e][t]);n+=4*arguments[e].length}return new Uint8Array(t)}var kn=Object.freeze({__proto__:null,wrap:gn,unwrap:wn});function Sn(e){const t=8-e.length%8,r=new Uint8Array(e.length+t).fill(t);return r.set(e),r}function An(e){const t=e.length;if(t>0){const r=e[t-1];if(r>=1){const n=e.subarray(t-r),i=new Uint8Array(r).fill(r);if(j.equalsUint8Array(n,i))return e.subarray(0,t-r)}}throw new Error("Invalid padding")}var En=Object.freeze({__proto__:null,encode:Sn,decode:An});const Pn=j.getWebCrypto();function xn(e,t,r,n){return j.concatUint8Array([t.write(),new Uint8Array([e]),r.write(),j.stringToUint8Array("Anonymous Sender    "),n.subarray(0,20)])}async function Mn(e,t,r,n,i=!1,a=!1){let s;if(i){for(s=0;s<t.length&&0===t[s];s++);t=t.subarray(s)}if(a){for(s=t.length-1;s>=0&&0===t[s];s--);t=t.subarray(0,s+1)}return(await Ir.digest(e,j.concatUint8Array([new Uint8Array([0,0,0,1]),t,n]))).subarray(0,r)}async function Cn(e,t){switch(e.type){case"curve25519":{const r=await Ur(32),{secretKey:n,sharedKey:i}=await Kn(e,t,null,r);let{publicKey:a}=Rr.box.keyPair.fromSecretKey(n);return a=j.concatUint8Array([new Uint8Array([64]),a]),{publicKey:a,sharedKey:i}}case"web":if(e.web&&j.getWebCrypto())try{return await async function(e,t){const r=fn(e.payloadSize,e.web.web,t);let n=Pn.generateKey({name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]),i=Pn.importKey("jwk",r,{name:"ECDH",namedCurve:e.web.web},!1,[]);[n,i]=await Promise.all([n,i]);let a=Pn.deriveBits({name:"ECDH",namedCurve:e.web.web,public:i},n.privateKey,e.web.sharedSize),s=Pn.exportKey("jwk",n.publicKey);[a,s]=await Promise.all([a,s]);const o=new Uint8Array(a),c=new Uint8Array(hn(s));return{publicKey:c,sharedKey:o}}(e,t)}catch(e){}}return async function(e,t){const r=await Yr(e.name),n=await e.genKeyPair();t=Qr(r,t);const i=Zr(r,n.privateKey),a=n.publicKey,s=i.derive(t.getPublic()),o=r.curve.p.byteLength(),c=s.toArrayLike(Uint8Array,"be",o);return{publicKey:a,sharedKey:c}}(e,t)}async function Kn(e,t,r,n){if(n.length!==e.payloadSize){const t=new Uint8Array(e.payloadSize);t.set(n,e.payloadSize-n.length),n=t}switch(e.type){case"curve25519":{const e=n.slice().reverse();return{secretKey:e,sharedKey:Rr.scalarMult(e,t.subarray(1))}}case"web":if(e.web&&j.getWebCrypto())try{return await async function(e,t,r,n){const i=dn(e.payloadSize,e.web.web,r,n);let a=Pn.importKey("jwk",i,{name:"ECDH",namedCurve:e.web.web},!0,["deriveKey","deriveBits"]);const s=fn(e.payloadSize,e.web.web,t);let o=Pn.importKey("jwk",s,{name:"ECDH",namedCurve:e.web.web},!0,[]);[a,o]=await Promise.all([a,o]);let c=Pn.deriveBits({name:"ECDH",namedCurve:e.web.web,public:o},a,e.web.sharedSize),u=Pn.exportKey("jwk",a);[c,u]=await Promise.all([c,u]);const h=new Uint8Array(c);return{secretKey:G(u.d),sharedKey:h}}(e,t,r,n)}catch(e){}}return async function(e,t,r){const n=await Yr(e.name);t=Qr(n,t),r=Zr(n,r);const i=new Uint8Array(r.getPrivate()),a=r.derive(t.getPublic()),s=n.curve.p.byteLength(),o=a.toArrayLike(Uint8Array,"be",s);return{secretKey:i,sharedKey:o}}(e,t,n)}var Dn=Object.freeze({__proto__:null,validateParams:async function(e,t,r){return un(Q.publicKey.ecdh,e,t,r)},encrypt:async function(e,t,r,n,i){const a=Sn(r),s=new Curve(e),{publicKey:o,sharedKey:c}=await Cn(s,n),u=xn(Q.publicKey.ecdh,e,t,i),{keySize:h}=Bn(t.cipher);return{publicKey:o,wrappedKey:gn(await Mn(t.hash,c,h,u),a)}},decrypt:async function(e,t,r,n,i,a,s){const o=new Curve(e),{sharedKey:c}=await Kn(o,r,i,a),u=xn(Q.publicKey.ecdh,e,t,s),{keySize:h}=Bn(t.cipher);let f;for(let e=0;e<3;e++)try{return An(wn(await Mn(t.hash,c,h,u,1===e,2===e),n))}catch(e){f=e}throw f}}),In=Object.freeze({__proto__:null,Curve:Curve,ecdh:Dn,ecdsa:bn,eddsa:mn,generate:async function(e){const t=await j.getBigInteger();e=new Curve(e);const r=await e.genKeyPair(),n=new t(r.publicKey).toUint8Array(),i=new t(r.privateKey).toUint8Array("be",e.payloadSize);return{oid:e.oid,Q:n,secret:i,hash:e.hash,cipher:e.cipher}},getPreferredHashAlgo:function(e){return cn[Q.write(Q.curve,e.toHex())].hash}});var Rn=Object.freeze({__proto__:null,sign:async function(e,t,r,n,i,a){const s=await j.getBigInteger(),o=new s(1);let c,u,h,f;n=new s(n),i=new s(i),r=new s(r),a=new s(a),r=r.mod(n),a=a.mod(i);const d=new s(t.subarray(0,i.byteLength())).mod(i);for(;;){if(c=await Br(o,i),u=r.modExp(c,n).imod(i),u.isZero())continue;const e=a.mul(u).imod(i);if(f=d.add(e).imod(i),h=c.modInv(i).imul(f).imod(i),!h.isZero())break}return{r:u.toUint8Array("be",i.byteLength()),s:h.toUint8Array("be",i.byteLength())}},verify:async function(e,t,r,n,i,a,s,o){const c=await j.getBigInteger(),u=new c(0);if(t=new c(t),r=new c(r),a=new c(a),s=new c(s),i=new c(i),o=new c(o),t.lte(u)||t.gte(s)||r.lte(u)||r.gte(s))return!1;const h=new c(n.subarray(0,s.byteLength())).imod(s),f=r.modInv(s);if(f.isZero())return!1;i=i.mod(a),o=o.mod(a);const d=h.mul(f).imod(s),l=t.mul(f).imod(s),p=i.modExp(d,a),y=o.modExp(l,a);return p.mul(y).imod(a).imod(s).equal(t)},validateParams:async function(e,t,r,n,i){const a=await j.getBigInteger();e=new a(e),t=new a(t),r=new a(r),n=new a(n);const s=new a(1);if(r.lte(s)||r.gte(e))return!1;if(!e.dec().mod(t).isZero())return!1;if(!r.modExp(t,e).isOne())return!1;const o=new a(t.bitLength()),c=new a(150);if(o.lt(c)||!await Or(t,null,32))return!1;i=new a(i);const u=new a(2),h=await Br(u.leftShift(o.dec()),u.leftShift(o)),f=t.mul(h).add(i);return!!n.equal(r.modExp(f,e))}}),Un={rsa:Gr,elgamal:Vr,elliptic:In,dsa:Rn,nacl:Rr};class ECDHSymmetricKey{constructor(e){e=void 0===e?new Uint8Array([]):j.isString(e)?j.stringToUint8Array(e):new Uint8Array(e),this.data=e}read(e){if(e.length>=1){const t=e[0];if(e.length>=1+t)return this.data=e.subarray(1,1+t),1+this.data.length}throw new Error("Invalid symmetric key")}write(){return j.concatUint8Array([new Uint8Array([this.data.length]),this.data])}}class KDFParams{constructor(e){if(e){const{hash:t,cipher:r}=e;this.hash=t,this.cipher=r}else this.hash=null,this.cipher=null}read(e){if(e.length<4||3!==e[0]||1!==e[1])throw new Error("Cannot read KDFParams");return this.hash=e[2],this.cipher=e[3],4}write(){return new Uint8Array([3,1,this.hash,this.cipher])}}function Bn(e){const t=Q.read(Q.symmetric,e);return Te[t]}function Tn(e){try{e.getName()}catch(e){throw new UnsupportedError("Unknown curve OID")}}var zn=Object.freeze({__proto__:null,publicKeyEncrypt:async function(e,t,r,n){switch(e){case Q.publicKey.rsaEncrypt:case Q.publicKey.rsaEncryptSign:{const{n:e,e:n}=t;return{c:await Un.rsa.encrypt(r,e,n)}}case Q.publicKey.elgamal:{const{p:e,g:n,y:i}=t;return Un.elgamal.encrypt(r,e,n,i)}case Q.publicKey.ecdh:{const{oid:e,Q:i,kdfParams:a}=t,{publicKey:s,wrappedKey:o}=await Un.elliptic.ecdh.encrypt(e,a,r,i,n);return{V:s,C:new ECDHSymmetricKey(o)}}default:return[]}},publicKeyDecrypt:async function(e,t,r,n,i,a){switch(e){case Q.publicKey.rsaEncryptSign:case Q.publicKey.rsaEncrypt:{const{c:e}=n,{n:i,e:s}=t,{d:o,p:c,q:u,u:h}=r;return Un.rsa.decrypt(e,i,s,o,c,u,h,a)}case Q.publicKey.elgamal:{const{c1:e,c2:i}=n,s=t.p,o=r.x;return Un.elgamal.decrypt(e,i,s,o,a)}case Q.publicKey.ecdh:{const{oid:e,Q:a,kdfParams:s}=t,{d:o}=r,{V:c,C:u}=n;return Un.elliptic.ecdh.decrypt(e,s,c,u.data,a,o,i)}default:throw new Error("Unknown public key encryption algorithm.")}},parsePublicKeyParams:function(e,t){let r=0;switch(e){case Q.publicKey.rsaEncrypt:case Q.publicKey.rsaEncryptSign:case Q.publicKey.rsaSign:{const e=j.readMPI(t.subarray(r));r+=e.length+2;const n=j.readMPI(t.subarray(r));return r+=n.length+2,{read:r,publicParams:{n:e,e:n}}}case Q.publicKey.dsa:{const e=j.readMPI(t.subarray(r));r+=e.length+2;const n=j.readMPI(t.subarray(r));r+=n.length+2;const i=j.readMPI(t.subarray(r));r+=i.length+2;const a=j.readMPI(t.subarray(r));return r+=a.length+2,{read:r,publicParams:{p:e,q:n,g:i,y:a}}}case Q.publicKey.elgamal:{const e=j.readMPI(t.subarray(r));r+=e.length+2;const n=j.readMPI(t.subarray(r));r+=n.length+2;const i=j.readMPI(t.subarray(r));return r+=i.length+2,{read:r,publicParams:{p:e,g:n,y:i}}}case Q.publicKey.ecdsa:{const e=new OID;r+=e.read(t),Tn(e);const n=j.readMPI(t.subarray(r));return r+=n.length+2,{read:r,publicParams:{oid:e,Q:n}}}case Q.publicKey.eddsa:{const e=new OID;r+=e.read(t),Tn(e);let n=j.readMPI(t.subarray(r));return r+=n.length+2,n=j.leftPad(n,33),{read:r,publicParams:{oid:e,Q:n}}}case Q.publicKey.ecdh:{const e=new OID;r+=e.read(t),Tn(e);const n=j.readMPI(t.subarray(r));r+=n.length+2;const i=new KDFParams;return r+=i.read(t.subarray(r)),{read:r,publicParams:{oid:e,Q:n,kdfParams:i}}}default:throw new UnsupportedError("Unknown public key encryption algorithm.")}},parsePrivateKeyParams:function(e,t,r){let n=0;switch(e){case Q.publicKey.rsaEncrypt:case Q.publicKey.rsaEncryptSign:case Q.publicKey.rsaSign:{const e=j.readMPI(t.subarray(n));n+=e.length+2;const r=j.readMPI(t.subarray(n));n+=r.length+2;const i=j.readMPI(t.subarray(n));n+=i.length+2;const a=j.readMPI(t.subarray(n));return n+=a.length+2,{read:n,privateParams:{d:e,p:r,q:i,u:a}}}case Q.publicKey.dsa:case Q.publicKey.elgamal:{const e=j.readMPI(t.subarray(n));return n+=e.length+2,{read:n,privateParams:{x:e}}}case Q.publicKey.ecdsa:case Q.publicKey.ecdh:{const e=new Curve(r.oid);let i=j.readMPI(t.subarray(n));return n+=i.length+2,i=j.leftPad(i,e.payloadSize),{read:n,privateParams:{d:i}}}case Q.publicKey.eddsa:{const e=new Curve(r.oid);let i=j.readMPI(t.subarray(n));return n+=i.length+2,i=j.leftPad(i,e.payloadSize),{read:n,privateParams:{seed:i}}}default:throw new UnsupportedError("Unknown public key encryption algorithm.")}},parseEncSessionKeyParams:function(e,t){let r=0;switch(e){case Q.publicKey.rsaEncrypt:case Q.publicKey.rsaEncryptSign:return{c:j.readMPI(t.subarray(r))};case Q.publicKey.elgamal:{const e=j.readMPI(t.subarray(r));r+=e.length+2;return{c1:e,c2:j.readMPI(t.subarray(r))}}case Q.publicKey.ecdh:{const e=j.readMPI(t.subarray(r));r+=e.length+2;const n=new ECDHSymmetricKey;return n.read(t.subarray(r)),{V:e,C:n}}default:throw new UnsupportedError("Unknown public key encryption algorithm.")}},serializeParams:function(e,t){const r=Object.keys(t).map((e=>{const r=t[e];return j.isUint8Array(r)?j.uint8ArrayToMPI(r):r.write()}));return j.concatUint8Array(r)},generateParams:function(e,t,r){switch(e){case Q.publicKey.rsaEncrypt:case Q.publicKey.rsaEncryptSign:case Q.publicKey.rsaSign:return Un.rsa.generate(t,65537).then((({n:e,e:t,d:r,p:n,q:i,u:a})=>({privateParams:{d:r,p:n,q:i,u:a},publicParams:{n:e,e:t}})));case Q.publicKey.ecdsa:return Un.elliptic.generate(r).then((({oid:e,Q:t,secret:r})=>({privateParams:{d:r},publicParams:{oid:new OID(e),Q:t}})));case Q.publicKey.eddsa:return Un.elliptic.generate(r).then((({oid:e,Q:t,secret:r})=>({privateParams:{seed:r},publicParams:{oid:new OID(e),Q:t}})));case Q.publicKey.ecdh:return Un.elliptic.generate(r).then((({oid:e,Q:t,secret:r,hash:n,cipher:i})=>({privateParams:{d:r},publicParams:{oid:new OID(e),Q:t,kdfParams:new KDFParams({hash:n,cipher:i})}})));case Q.publicKey.dsa:case Q.publicKey.elgamal:throw new Error("Unsupported algorithm for key generation.");default:throw new Error("Unknown public key algorithm.")}},validateParams:async function(e,t,r){if(!t||!r)throw new Error("Missing key parameters");switch(e){case Q.publicKey.rsaEncrypt:case Q.publicKey.rsaEncryptSign:case Q.publicKey.rsaSign:{const{n:e,e:n}=t,{d:i,p:a,q:s,u:o}=r;return Un.rsa.validateParams(e,n,i,a,s,o)}case Q.publicKey.dsa:{const{p:e,q:n,g:i,y:a}=t,{x:s}=r;return Un.dsa.validateParams(e,n,i,a,s)}case Q.publicKey.elgamal:{const{p:e,g:n,y:i}=t,{x:a}=r;return Un.elgamal.validateParams(e,n,i,a)}case Q.publicKey.ecdsa:case Q.publicKey.ecdh:{const n=Un.elliptic[Q.read(Q.publicKey,e)],{oid:i,Q:a}=t,{d:s}=r;return n.validateParams(i,a,s)}case Q.publicKey.eddsa:{const{oid:e,Q:n}=t,{seed:i}=r;return Un.elliptic.eddsa.validateParams(e,n,i)}default:throw new Error("Unknown public key algorithm.")}},getPrefixRandom:async function(e){const{blockSize:t}=Bn(e),r=await Ur(t),n=new Uint8Array([r[r.length-2],r[r.length-1]]);return j.concat([r,n])},generateSessionKey:function(e){const{keySize:t}=Bn(e);return Ur(t)},getAEADMode:function(e){const t=Q.read(Q.aead,e);return yi[t]},getCipher:Bn});const qn=j.getWebCrypto();var On=Object.freeze({__proto__:null,encrypt:async function(e,t,r,n,i){const a=Q.read(Q.symmetric,e);if("aes"===a.substr(0,3))return function(e,t,r,n,i){if(j.getWebCrypto()&&24!==t.length&&!j.isStream(r)&&r.length>=3e3*i.minBytesForWebCrypto)return async function(e,t,r,n){const i="AES-CBC",a=await qn.importKey("raw",t,{name:i},!1,["encrypt"]),{blockSize:s}=Bn(e),o=j.concatUint8Array([new Uint8Array(s),r]),c=new Uint8Array(await qn.encrypt({name:i,iv:n},a,o)).subarray(0,r.length);return function(e,t){for(let r=0;r<e.length;r++)e[r]=e[r]^t[r]}(c,r),c}(e,t,r,n);const a=new AES_CFB(t,n);return I(r,(e=>a.aes.AES_Encrypt_process(e)),(()=>a.aes.AES_Encrypt_finish()))}(e,t,r,n,i);const s=new Te[a](t),o=s.blockSize,c=n.slice();let u=new Uint8Array;const h=e=>{e&&(u=j.concatUint8Array([u,e]));const t=new Uint8Array(u.length);let r,n=0;for(;e?u.length>=o:u.length;){const e=s.encrypt(c);for(r=0;r<o;r++)c[r]=u[r]^e[r],t[n++]=c[r];u=u.subarray(o)}return t.subarray(0,n)};return I(r,h,h)},decrypt:async function(e,t,r,n){const i=Q.read(Q.symmetric,e);if("aes"===i.substr(0,3))return function(e,t,r,n){if(j.isStream(r)){const e=new AES_CFB(t,n);return I(r,(t=>e.aes.AES_Decrypt_process(t)),(()=>e.aes.AES_Decrypt_finish()))}return AES_CFB.decrypt(r,t,n)}(0,t,r,n);const a=new Te[i](t),s=a.blockSize;let o=n,c=new Uint8Array;const u=e=>{e&&(c=j.concatUint8Array([c,e]));const t=new Uint8Array(c.length);let r,n=0;for(;e?c.length>=s:c.length;){const e=a.encrypt(o);for(o=c,r=0;r<s;r++)t[n++]=o[r]^e[r];c=c.subarray(s)}return t.subarray(0,n)};return I(r,u,u)}});class AES_CTR{static encrypt(e,t,r){return new AES_CTR(t,r).encrypt(e)}static decrypt(e,t,r){return new AES_CTR(t,r).encrypt(e)}constructor(e,t,r){this.aes=r||new AES(e,void 0,!1,"CTR"),delete this.aes.padding,this.AES_CTR_set_options(t)}encrypt(e){return fe(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return fe(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}AES_CTR_set_options(e,t,r){let{asm:n}=this.aes.acquire_asm();if(void 0!==r){if(r<8||r>48)throw new IllegalArgumentError("illegal counter size");let e=Math.pow(2,r)-1;n.set_mask(0,0,e/4294967296|0,0|e)}else r=48,n.set_mask(0,0,65535,4294967295);if(void 0===e)throw new Error("nonce is required");{let t=e.length;if(!t||t>16)throw new IllegalArgumentError("illegal nonce size");let r=new DataView(new ArrayBuffer(16));new Uint8Array(r.buffer).set(e),n.set_nonce(r.getUint32(0),r.getUint32(4),r.getUint32(8),r.getUint32(12))}if(void 0!==t){if(t<0||t>=Math.pow(2,r))throw new IllegalArgumentError("illegal counter value");n.set_counter(0,0,t/4294967296|0,0|t)}}}class AES_CBC{static encrypt(e,t,r=!0,n){return new AES_CBC(t,n,r).encrypt(e)}static decrypt(e,t,r=!0,n){return new AES_CBC(t,n,r).decrypt(e)}constructor(e,t,r=!0,n){this.aes=n||new AES(e,t,r,"CBC")}encrypt(e){return fe(this.aes.AES_Encrypt_process(e),this.aes.AES_Encrypt_finish())}decrypt(e){return fe(this.aes.AES_Decrypt_process(e),this.aes.AES_Decrypt_finish())}}const Fn=j.getWebCrypto(),Ln=16;function jn(e,t){const r=e.length-Ln;for(let n=0;n<Ln;n++)e[n+r]^=t[n];return e}const Nn=new Uint8Array(Ln);async function Wn(e){const t=await async function(e){if(j.getWebCrypto()&&24!==e.length)return e=await Fn.importKey("raw",e,{name:"AES-CBC",length:8*e.length},!1,["encrypt"]),async function(t){const r=await Fn.encrypt({name:"AES-CBC",iv:Nn,length:8*Ln},e,t);return new Uint8Array(r).subarray(0,r.byteLength-Ln)};return async function(t){return AES_CBC.encrypt(t,e,!1,Nn)}}(e),r=j.double(await t(Nn)),n=j.double(r);return async function(e){return(await t(function(e,t,r){if(e.length&&e.length%Ln==0)return jn(e,t);const n=new Uint8Array(e.length+(Ln-e.length%Ln));return n.set(e),n[e.length]=128,jn(n,r)}(e,r,n))).subarray(-Ln)}}const Hn=j.getWebCrypto(),$n=16,Gn=$n,Vn=$n,Zn=new Uint8Array($n),Qn=new Uint8Array($n);Qn[$n-1]=1;const Yn=new Uint8Array($n);async function Xn(e){const t=await Wn(e);return function(e,r){return t(j.concatUint8Array([e,r]))}}async function Jn(e){return j.getWebCrypto()&&24!==e.length?(e=await Hn.importKey("raw",e,{name:"AES-CTR",length:8*e.length},!1,["encrypt"]),async function(t,r){const n=await Hn.encrypt({name:"AES-CTR",counter:r,length:8*$n},e,t);return new Uint8Array(n)}):async function(t,r){return AES_CTR.encrypt(t,e,r)}}async function ei(e,t){if(e!==Q.symmetric.aes128&&e!==Q.symmetric.aes192&&e!==Q.symmetric.aes256)throw new Error("EAX mode supports only AES cipher");const[r,n]=await Promise.all([Xn(t),Jn(t)]);return{encrypt:async function(e,t,i){const[a,s]=await Promise.all([r(Zn,t),r(Qn,i)]),o=await n(e,a),c=await r(Yn,o);for(let e=0;e<Vn;e++)c[e]^=s[e]^a[e];return j.concatUint8Array([o,c])},decrypt:async function(e,t,i){if(e.length<Vn)throw new Error("Invalid EAX ciphertext");const a=e.subarray(0,-Vn),s=e.subarray(-Vn),[o,c,u]=await Promise.all([r(Zn,t),r(Qn,i),r(Yn,a)]),h=u;for(let e=0;e<Vn;e++)h[e]^=c[e]^o[e];if(!j.equalsUint8Array(s,h))throw new Error("Authentication tag mismatch");return await n(a,o)}}}Yn[$n-1]=2,ei.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[8+e]^=t[e];return r},ei.blockLength=$n,ei.ivLength=Gn,ei.tagLength=Vn;const ti=16,ri=15,ni=16;function ii(e){let t=0;for(let r=1;0==(e&r);r<<=1)t++;return t}function ai(e,t){for(let r=0;r<e.length;r++)e[r]^=t[r];return e}function si(e,t){return ai(e.slice(),t)}const oi=new Uint8Array(ti),ci=new Uint8Array([1]);async function ui(e,t){let r,n,i,a=0;function s(e,t,n,s){const o=t.length/ti|0;!function(e,t){const r=j.nbits(Math.max(e.length,t.length)/ti|0)-1;for(let e=a+1;e<=r;e++)i[e]=j.double(i[e-1]);a=r}(t,s);const c=j.concatUint8Array([oi.subarray(0,ri-n.length),ci,n]),u=63&c[ti-1];c[ti-1]&=192;const h=r(c),f=j.concatUint8Array([h,si(h.subarray(0,8),h.subarray(1,9))]),d=j.shiftRight(f.subarray(0+(u>>3),17+(u>>3)),8-(7&u)).subarray(1),l=new Uint8Array(ti),p=new Uint8Array(t.length+ni);let y,b=0;for(y=0;y<o;y++)ai(d,i[ii(y+1)]),p.set(ai(e(si(d,t)),d),b),ai(l,e===r?t:p.subarray(b)),t=t.subarray(ti),b+=ti;if(t.length){ai(d,i.x);const n=r(d);p.set(si(t,n),b);const a=new Uint8Array(ti);a.set(e===r?t:p.subarray(b,-ni),0),a[t.length]=128,ai(l,a),b+=t.length}const m=ai(r(ai(ai(l,d),i.$)),function(e){if(!e.length)return oi;const t=e.length/ti|0,n=new Uint8Array(ti),a=new Uint8Array(ti);for(let s=0;s<t;s++)ai(n,i[ii(s+1)]),ai(a,r(si(n,e))),e=e.subarray(ti);if(e.length){ai(n,i.x);const t=new Uint8Array(ti);t.set(e,0),t[e.length]=128,ai(t,n),ai(a,r(t))}return a}(s));return p.set(m,b),p}return function(e,t){const a=Q.read(Q.symmetric,e),s=new Te[a](t);r=s.encrypt.bind(s),n=s.decrypt.bind(s);const o=r(oi),c=j.double(o);i=[],i[0]=j.double(c),i.x=o,i.$=c}(e,t),{encrypt:async function(e,t,n){return s(r,e,t,n)},decrypt:async function(e,t,r){if(e.length<ni)throw new Error("Invalid OCB ciphertext");const i=e.subarray(-ni);e=e.subarray(0,-ni);const a=s(n,e,t,r);if(j.equalsUint8Array(i,a.subarray(-ni)))return a.subarray(0,-ni);throw new Error("Authentication tag mismatch")}}}ui.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[7+e]^=t[e];return r},ui.blockLength=ti,ui.ivLength=ri,ui.tagLength=ni;const hi=68719476704;class AES_GCM{constructor(e,t,r,n=16,i){this.tagSize=n,this.gamma0=0,this.counter=1,this.aes=i||new AES(e,void 0,!1,"CTR");let{asm:a,heap:s}=this.aes.acquire_asm();if(a.gcm_init(),this.tagSize<4||this.tagSize>16)throw new IllegalArgumentError("illegal tagSize value");const o=t.length||0,c=new Uint8Array(16);12!==o?(this._gcm_mac_process(t),s[0]=0,s[1]=0,s[2]=0,s[3]=0,s[4]=0,s[5]=0,s[6]=0,s[7]=0,s[8]=0,s[9]=0,s[10]=0,s[11]=o>>>29,s[12]=o>>>21&255,s[13]=o>>>13&255,s[14]=o>>>5&255,s[15]=o<<3&255,a.mac(oe.MAC.GCM,oe.HEAP_DATA,16),a.get_iv(oe.HEAP_DATA),a.set_iv(0,0,0,0),c.set(s.subarray(0,16))):(c.set(t),c[15]=1);const u=new DataView(c.buffer);if(this.gamma0=u.getUint32(12),a.set_nonce(u.getUint32(0),u.getUint32(4),u.getUint32(8),0),a.set_mask(0,0,0,4294967295),void 0!==r){if(r.length>hi)throw new IllegalArgumentError("illegal adata length");r.length?(this.adata=r,this._gcm_mac_process(r)):this.adata=void 0}else this.adata=void 0;if(this.counter<1||this.counter>4294967295)throw new RangeError("counter must be a positive 32-bit integer");a.set_counter(0,0,0,this.gamma0+this.counter|0)}static encrypt(e,t,r,n,i){return new AES_GCM(t,r,n,i).encrypt(e)}static decrypt(e,t,r,n,i){return new AES_GCM(t,r,n,i).decrypt(e)}encrypt(e){return this.AES_GCM_encrypt(e)}decrypt(e){return this.AES_GCM_decrypt(e)}AES_GCM_Encrypt_process(e){let t=0,r=e.length||0,{asm:n,heap:i}=this.aes.acquire_asm(),a=this.counter,s=this.aes.pos,o=this.aes.len,c=0,u=o+r&-16,h=0;if((a-1<<4)+o+r>hi)throw new RangeError("counter overflow");const f=new Uint8Array(u);for(;r>0;)h=he(i,s+o,e,t,r),o+=h,t+=h,r-=h,h=n.cipher(oe.ENC.CTR,oe.HEAP_DATA+s,o),h=n.mac(oe.MAC.GCM,oe.HEAP_DATA+s,h),h&&f.set(i.subarray(s,s+h),c),a+=h>>>4,c+=h,h<o?(s+=h,o-=h):(s=0,o=0);return this.counter=a,this.aes.pos=s,this.aes.len=o,f}AES_GCM_Encrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.counter,n=this.tagSize,i=this.adata,a=this.aes.pos,s=this.aes.len;const o=new Uint8Array(s+n);e.cipher(oe.ENC.CTR,oe.HEAP_DATA+a,s+15&-16),s&&o.set(t.subarray(a,a+s));let c=s;for(;15&c;c++)t[a+c]=0;e.mac(oe.MAC.GCM,oe.HEAP_DATA+a,c);const u=void 0!==i?i.length:0,h=(r-1<<4)+s;return t[0]=0,t[1]=0,t[2]=0,t[3]=u>>>29,t[4]=u>>>21,t[5]=u>>>13&255,t[6]=u>>>5&255,t[7]=u<<3&255,t[8]=t[9]=t[10]=0,t[11]=h>>>29,t[12]=h>>>21&255,t[13]=h>>>13&255,t[14]=h>>>5&255,t[15]=h<<3&255,e.mac(oe.MAC.GCM,oe.HEAP_DATA,16),e.get_iv(oe.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(oe.ENC.CTR,oe.HEAP_DATA,16),o.set(t.subarray(0,n),s),this.counter=1,this.aes.pos=0,this.aes.len=0,o}AES_GCM_Decrypt_process(e){let t=0,r=e.length||0,{asm:n,heap:i}=this.aes.acquire_asm(),a=this.counter,s=this.tagSize,o=this.aes.pos,c=this.aes.len,u=0,h=c+r>s?c+r-s&-16:0,f=c+r-h,d=0;if((a-1<<4)+c+r>hi)throw new RangeError("counter overflow");const l=new Uint8Array(h);for(;r>f;)d=he(i,o+c,e,t,r-f),c+=d,t+=d,r-=d,d=n.mac(oe.MAC.GCM,oe.HEAP_DATA+o,d),d=n.cipher(oe.DEC.CTR,oe.HEAP_DATA+o,d),d&&l.set(i.subarray(o,o+d),u),a+=d>>>4,u+=d,o=0,c=0;return r>0&&(c+=he(i,0,e,t,r)),this.counter=a,this.aes.pos=o,this.aes.len=c,l}AES_GCM_Decrypt_finish(){let{asm:e,heap:t}=this.aes.acquire_asm(),r=this.tagSize,n=this.adata,i=this.counter,a=this.aes.pos,s=this.aes.len,o=s-r;if(s<r)throw new IllegalStateError("authentication tag not found");const c=new Uint8Array(o),u=new Uint8Array(t.subarray(a+o,a+s));let h=o;for(;15&h;h++)t[a+h]=0;e.mac(oe.MAC.GCM,oe.HEAP_DATA+a,h),e.cipher(oe.DEC.CTR,oe.HEAP_DATA+a,h),o&&c.set(t.subarray(a,a+o));const f=void 0!==n?n.length:0,d=(i-1<<4)+s-r;t[0]=0,t[1]=0,t[2]=0,t[3]=f>>>29,t[4]=f>>>21,t[5]=f>>>13&255,t[6]=f>>>5&255,t[7]=f<<3&255,t[8]=t[9]=t[10]=0,t[11]=d>>>29,t[12]=d>>>21&255,t[13]=d>>>13&255,t[14]=d>>>5&255,t[15]=d<<3&255,e.mac(oe.MAC.GCM,oe.HEAP_DATA,16),e.get_iv(oe.HEAP_DATA),e.set_counter(0,0,0,this.gamma0),e.cipher(oe.ENC.CTR,oe.HEAP_DATA,16);let l=0;for(let e=0;e<r;++e)l|=u[e]^t[e];if(l)throw new SecurityError("data integrity check failed");return this.counter=1,this.aes.pos=0,this.aes.len=0,c}AES_GCM_decrypt(e){const t=this.AES_GCM_Decrypt_process(e),r=this.AES_GCM_Decrypt_finish(),n=new Uint8Array(t.length+r.length);return t.length&&n.set(t),r.length&&n.set(r,t.length),n}AES_GCM_encrypt(e){const t=this.AES_GCM_Encrypt_process(e),r=this.AES_GCM_Encrypt_finish(),n=new Uint8Array(t.length+r.length);return t.length&&n.set(t),r.length&&n.set(r,t.length),n}_gcm_mac_process(e){let{asm:t,heap:r}=this.aes.acquire_asm(),n=0,i=e.length||0,a=0;for(;i>0;){for(a=he(r,0,e,n,i),n+=a,i-=a;15&a;)r[a++]=0;t.mac(oe.MAC.GCM,oe.HEAP_DATA,a)}}}const fi=j.getWebCrypto(),di=16,li="AES-GCM";async function pi(e,t){if(e!==Q.symmetric.aes128&&e!==Q.symmetric.aes192&&e!==Q.symmetric.aes256)throw new Error("GCM mode supports only AES cipher");if(j.getWebCrypto()&&24!==t.length){const e=await fi.importKey("raw",t,{name:li},!1,["encrypt","decrypt"]);return{encrypt:async function(r,n,i=new Uint8Array){if(!r.length)return AES_GCM.encrypt(r,t,n,i);const a=await fi.encrypt({name:li,iv:n,additionalData:i,tagLength:8*di},e,r);return new Uint8Array(a)},decrypt:async function(r,n,i=new Uint8Array){if(r.length===di)return AES_GCM.decrypt(r,t,n,i);const a=await fi.decrypt({name:li,iv:n,additionalData:i,tagLength:8*di},e,r);return new Uint8Array(a)}}}return{encrypt:async function(e,r,n){return AES_GCM.encrypt(e,t,r,n)},decrypt:async function(e,r,n){return AES_GCM.decrypt(e,t,r,n)}}}pi.getNonce=function(e,t){const r=e.slice();for(let e=0;e<t.length;e++)r[4+e]^=t[e];return r},pi.blockLength=16,pi.ivLength=12,pi.tagLength=di;var yi={cfb:On,gcm:pi,experimentalGCM:pi,eax:ei,ocb:ui};var bi=Object.freeze({__proto__:null,parseSignatureParams:function(e,t){let r=0;switch(e){case Q.publicKey.rsaEncryptSign:case Q.publicKey.rsaEncrypt:case Q.publicKey.rsaSign:return{s:j.readMPI(t.subarray(r))};case Q.publicKey.dsa:case Q.publicKey.ecdsa:{const e=j.readMPI(t.subarray(r));r+=e.length+2;return{r:e,s:j.readMPI(t.subarray(r))}}case Q.publicKey.eddsa:{let e=j.readMPI(t.subarray(r));r+=e.length+2,e=j.leftPad(e,32);let n=j.readMPI(t.subarray(r));return n=j.leftPad(n,32),{r:e,s:n}}default:throw new UnsupportedError("Unknown signature algorithm.")}},verify:async function(e,t,r,n,i,a){switch(e){case Q.publicKey.rsaEncryptSign:case Q.publicKey.rsaEncrypt:case Q.publicKey.rsaSign:{const{n:e,e:s}=n,o=j.leftPad(r.s,e.length);return Un.rsa.verify(t,i,o,e,s,a)}case Q.publicKey.dsa:{const{g:e,p:i,q:s,y:o}=n,{r:c,s:u}=r;return Un.dsa.verify(t,c,u,a,e,i,s,o)}case Q.publicKey.ecdsa:{const{oid:e,Q:s}=n,o=new Un.elliptic.Curve(e).payloadSize,c=j.leftPad(r.r,o),u=j.leftPad(r.s,o);return Un.elliptic.ecdsa.verify(e,t,{r:c,s:u},i,s,a)}case Q.publicKey.eddsa:{const{oid:e,Q:s}=n;return Un.elliptic.eddsa.verify(e,t,r,i,s,a)}default:throw new Error("Unknown signature algorithm.")}},sign:async function(e,t,r,n,i,a){if(!r||!n)throw new Error("Missing key parameters");switch(e){case Q.publicKey.rsaEncryptSign:case Q.publicKey.rsaEncrypt:case Q.publicKey.rsaSign:{const{n:e,e:s}=r,{d:o,p:c,q:u,u:h}=n;return{s:await Un.rsa.sign(t,i,e,s,o,c,u,h,a)}}case Q.publicKey.dsa:{const{g:e,p:i,q:s}=r,{x:o}=n;return Un.dsa.sign(t,a,e,i,s,o)}case Q.publicKey.elgamal:throw new Error("Signing with Elgamal is not defined in the OpenPGP standard.");case Q.publicKey.ecdsa:{const{oid:e,Q:s}=r,{d:o}=n;return Un.elliptic.ecdsa.sign(e,t,i,s,o,a)}case Q.publicKey.eddsa:{const{oid:e,Q:s}=r,{seed:o}=n;return Un.elliptic.eddsa.sign(e,t,i,s,o,a)}default:throw new Error("Unknown signature algorithm.")}}});const mi={cipher:Te,hash:Ir,mode:yi,publicKey:Un,signature:bi,random:zr,pkcs1:Hr,pkcs5:En,aesKW:kn};Object.assign(mi,zn);var gi="undefined"!=typeof Uint8Array&&"undefined"!=typeof Uint16Array&&"undefined"!=typeof Int32Array;function wi(e,t){return e.length===t?e:e.subarray?e.subarray(0,t):(e.length=t,e)}const vi={arraySet:function(e,t,r,n,i){if(t.subarray&&e.subarray)e.set(t.subarray(r,r+n),i);else for(let a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){let t,r,n,i,a;for(n=0,t=0,r=e.length;t<r;t++)n+=e[t].length;const s=new Uint8Array(n);for(i=0,t=0,r=e.length;t<r;t++)a=e[t],s.set(a,i),i+=a.length;return s}},_i={arraySet:function(e,t,r,n,i){for(let a=0;a<n;a++)e[i+a]=t[r+a]},flattenChunks:function(e){return[].concat.apply([],e)}};let ki=gi?Uint8Array:Array,Si=gi?Uint16Array:Array,Ai=gi?Int32Array:Array,Ei=gi?vi.flattenChunks:_i.flattenChunks,Pi=gi?vi.arraySet:_i.arraySet;const xi=0,Mi=1,Ci=2,Ki=3,Di=4,Ii=5,Ri=6,Ui=0,Bi=1,Ti=2,zi=-2,qi=-3,Oi=-5,Fi=-1,Li=1,ji=2,Ni=3,Wi=4,Hi=0,$i=1,Gi=2,Vi=8;function Zi(e){let t=e.length;for(;--t>=0;)e[t]=0}const Qi=0,Yi=1,Xi=2,Ji=29,ea=256,ta=ea+1+Ji,ra=30,na=19,ia=2*ta+1,aa=15,sa=16,oa=7,ca=256,ua=16,ha=17,fa=18,da=[0,0,0,0,0,0,0,0,1,1,1,1,2,2,2,2,3,3,3,3,4,4,4,4,5,5,5,5,0],la=[0,0,0,0,1,1,2,2,3,3,4,4,5,5,6,6,7,7,8,8,9,9,10,10,11,11,12,12,13,13],pa=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,2,3,7],ya=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15],ba=new Array(2*(ta+2));Zi(ba);const ma=new Array(2*ra);Zi(ma);const ga=new Array(512);Zi(ga);const wa=new Array(256);Zi(wa);const va=new Array(Ji);Zi(va);const _a=new Array(ra);function ka(e,t,r,n,i){this.static_tree=e,this.extra_bits=t,this.extra_base=r,this.elems=n,this.max_length=i,this.has_stree=e&&e.length}let Sa,Aa,Ea;function Pa(e,t){this.dyn_tree=e,this.max_code=0,this.stat_desc=t}function xa(e){return e<256?ga[e]:ga[256+(e>>>7)]}function Ma(e,t){e.pending_buf[e.pending++]=255&t,e.pending_buf[e.pending++]=t>>>8&255}function Ca(e,t,r){e.bi_valid>sa-r?(e.bi_buf|=t<<e.bi_valid&65535,Ma(e,e.bi_buf),e.bi_buf=t>>sa-e.bi_valid,e.bi_valid+=r-sa):(e.bi_buf|=t<<e.bi_valid&65535,e.bi_valid+=r)}function Ka(e,t,r){Ca(e,r[2*t],r[2*t+1])}function Da(e,t){let r=0;do{r|=1&e,e>>>=1,r<<=1}while(--t>0);return r>>>1}function Ia(e,t,r){const n=new Array(aa+1);let i,a,s=0;for(i=1;i<=aa;i++)n[i]=s=s+r[i-1]<<1;for(a=0;a<=t;a++){const t=e[2*a+1];0!==t&&(e[2*a]=Da(n[t]++,t))}}function Ra(e){let t;for(t=0;t<ta;t++)e.dyn_ltree[2*t]=0;for(t=0;t<ra;t++)e.dyn_dtree[2*t]=0;for(t=0;t<na;t++)e.bl_tree[2*t]=0;e.dyn_ltree[2*ca]=1,e.opt_len=e.static_len=0,e.last_lit=e.matches=0}function Ua(e){e.bi_valid>8?Ma(e,e.bi_buf):e.bi_valid>0&&(e.pending_buf[e.pending++]=e.bi_buf),e.bi_buf=0,e.bi_valid=0}function Ba(e,t,r,n){const i=2*t,a=2*r;return e[i]<e[a]||e[i]===e[a]&&n[t]<=n[r]}function Ta(e,t,r){const n=e.heap[r];let i=r<<1;for(;i<=e.heap_len&&(i<e.heap_len&&Ba(t,e.heap[i+1],e.heap[i],e.depth)&&i++,!Ba(t,n,e.heap[i],e.depth));)e.heap[r]=e.heap[i],r=i,i<<=1;e.heap[r]=n}function za(e,t,r){let n,i,a,s,o=0;if(0!==e.last_lit)do{n=e.pending_buf[e.d_buf+2*o]<<8|e.pending_buf[e.d_buf+2*o+1],i=e.pending_buf[e.l_buf+o],o++,0===n?Ka(e,i,t):(a=wa[i],Ka(e,a+ea+1,t),s=da[a],0!==s&&(i-=va[a],Ca(e,i,s)),n--,a=xa(n),Ka(e,a,r),s=la[a],0!==s&&(n-=_a[a],Ca(e,n,s)))}while(o<e.last_lit);Ka(e,ca,t)}function qa(e,t){const r=t.dyn_tree,n=t.stat_desc.static_tree,i=t.stat_desc.has_stree,a=t.stat_desc.elems;let s,o,c,u=-1;for(e.heap_len=0,e.heap_max=ia,s=0;s<a;s++)0!==r[2*s]?(e.heap[++e.heap_len]=u=s,e.depth[s]=0):r[2*s+1]=0;for(;e.heap_len<2;)c=e.heap[++e.heap_len]=u<2?++u:0,r[2*c]=1,e.depth[c]=0,e.opt_len--,i&&(e.static_len-=n[2*c+1]);for(t.max_code=u,s=e.heap_len>>1;s>=1;s--)Ta(e,r,s);c=a;do{s=e.heap[1],e.heap[1]=e.heap[e.heap_len--],Ta(e,r,1),o=e.heap[1],e.heap[--e.heap_max]=s,e.heap[--e.heap_max]=o,r[2*c]=r[2*s]+r[2*o],e.depth[c]=(e.depth[s]>=e.depth[o]?e.depth[s]:e.depth[o])+1,r[2*s+1]=r[2*o+1]=c,e.heap[1]=c++,Ta(e,r,1)}while(e.heap_len>=2);e.heap[--e.heap_max]=e.heap[1],function(e,t){const r=t.dyn_tree,n=t.max_code,i=t.stat_desc.static_tree,a=t.stat_desc.has_stree,s=t.stat_desc.extra_bits,o=t.stat_desc.extra_base,c=t.stat_desc.max_length;let u,h,f,d,l,p,y=0;for(d=0;d<=aa;d++)e.bl_count[d]=0;for(r[2*e.heap[e.heap_max]+1]=0,u=e.heap_max+1;u<ia;u++)h=e.heap[u],d=r[2*r[2*h+1]+1]+1,d>c&&(d=c,y++),r[2*h+1]=d,h>n||(e.bl_count[d]++,l=0,h>=o&&(l=s[h-o]),p=r[2*h],e.opt_len+=p*(d+l),a&&(e.static_len+=p*(i[2*h+1]+l)));if(0!==y){do{for(d=c-1;0===e.bl_count[d];)d--;e.bl_count[d]--,e.bl_count[d+1]+=2,e.bl_count[c]--,y-=2}while(y>0);for(d=c;0!==d;d--)for(h=e.bl_count[d];0!==h;)f=e.heap[--u],f>n||(r[2*f+1]!==d&&(e.opt_len+=(d-r[2*f+1])*r[2*f],r[2*f+1]=d),h--)}}(e,t),Ia(r,u,e.bl_count)}function Oa(e,t,r){let n,i,a=-1,s=t[1],o=0,c=7,u=4;for(0===s&&(c=138,u=3),t[2*(r+1)+1]=65535,n=0;n<=r;n++)i=s,s=t[2*(n+1)+1],++o<c&&i===s||(o<u?e.bl_tree[2*i]+=o:0!==i?(i!==a&&e.bl_tree[2*i]++,e.bl_tree[2*ua]++):o<=10?e.bl_tree[2*ha]++:e.bl_tree[2*fa]++,o=0,a=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4))}function Fa(e,t,r){let n,i,a=-1,s=t[1],o=0,c=7,u=4;for(0===s&&(c=138,u=3),n=0;n<=r;n++)if(i=s,s=t[2*(n+1)+1],!(++o<c&&i===s)){if(o<u)do{Ka(e,i,e.bl_tree)}while(0!=--o);else 0!==i?(i!==a&&(Ka(e,i,e.bl_tree),o--),Ka(e,ua,e.bl_tree),Ca(e,o-3,2)):o<=10?(Ka(e,ha,e.bl_tree),Ca(e,o-3,3)):(Ka(e,fa,e.bl_tree),Ca(e,o-11,7));o=0,a=i,0===s?(c=138,u=3):i===s?(c=6,u=3):(c=7,u=4)}}Zi(_a);let La=!1;function ja(e){La||(!function(){let e,t,r,n,i;const a=new Array(aa+1);for(r=0,n=0;n<Ji-1;n++)for(va[n]=r,e=0;e<1<<da[n];e++)wa[r++]=n;for(wa[r-1]=n,i=0,n=0;n<16;n++)for(_a[n]=i,e=0;e<1<<la[n];e++)ga[i++]=n;for(i>>=7;n<ra;n++)for(_a[n]=i<<7,e=0;e<1<<la[n]-7;e++)ga[256+i++]=n;for(t=0;t<=aa;t++)a[t]=0;for(e=0;e<=143;)ba[2*e+1]=8,e++,a[8]++;for(;e<=255;)ba[2*e+1]=9,e++,a[9]++;for(;e<=279;)ba[2*e+1]=7,e++,a[7]++;for(;e<=287;)ba[2*e+1]=8,e++,a[8]++;for(Ia(ba,ta+1,a),e=0;e<ra;e++)ma[2*e+1]=5,ma[2*e]=Da(e,5);Sa=new ka(ba,da,ea+1,ta,aa),Aa=new ka(ma,la,0,ra,aa),Ea=new ka(new Array(0),pa,0,na,oa)}(),La=!0),e.l_desc=new Pa(e.dyn_ltree,Sa),e.d_desc=new Pa(e.dyn_dtree,Aa),e.bl_desc=new Pa(e.bl_tree,Ea),e.bi_buf=0,e.bi_valid=0,Ra(e)}function Na(e,t,r,n){Ca(e,(Qi<<1)+(n?1:0),3),function(e,t,r,n){Ua(e),n&&(Ma(e,r),Ma(e,~r)),Pi(e.pending_buf,e.window,t,r,e.pending),e.pending+=r}(e,t,r,!0)}function Wa(e){Ca(e,Yi<<1,3),Ka(e,ca,ba),function(e){16===e.bi_valid?(Ma(e,e.bi_buf),e.bi_buf=0,e.bi_valid=0):e.bi_valid>=8&&(e.pending_buf[e.pending++]=255&e.bi_buf,e.bi_buf>>=8,e.bi_valid-=8)}(e)}function Ha(e,t,r,n){let i,a,s=0;e.level>0?(e.strm.data_type===Gi&&(e.strm.data_type=function(e){let t,r=4093624447;for(t=0;t<=31;t++,r>>>=1)if(1&r&&0!==e.dyn_ltree[2*t])return Hi;if(0!==e.dyn_ltree[18]||0!==e.dyn_ltree[20]||0!==e.dyn_ltree[26])return $i;for(t=32;t<ea;t++)if(0!==e.dyn_ltree[2*t])return $i;return Hi}(e)),qa(e,e.l_desc),qa(e,e.d_desc),s=function(e){let t;for(Oa(e,e.dyn_ltree,e.l_desc.max_code),Oa(e,e.dyn_dtree,e.d_desc.max_code),qa(e,e.bl_desc),t=na-1;t>=3&&0===e.bl_tree[2*ya[t]+1];t--);return e.opt_len+=3*(t+1)+5+5+4,t}(e),i=e.opt_len+3+7>>>3,a=e.static_len+3+7>>>3,a<=i&&(i=a)):i=a=r+5,r+4<=i&&-1!==t?Na(e,t,r,n):e.strategy===Wi||a===i?(Ca(e,(Yi<<1)+(n?1:0),3),za(e,ba,ma)):(Ca(e,(Xi<<1)+(n?1:0),3),function(e,t,r,n){let i;for(Ca(e,t-257,5),Ca(e,r-1,5),Ca(e,n-4,4),i=0;i<n;i++)Ca(e,e.bl_tree[2*ya[i]+1],3);Fa(e,e.dyn_ltree,t-1),Fa(e,e.dyn_dtree,r-1)}(e,e.l_desc.max_code+1,e.d_desc.max_code+1,s+1),za(e,e.dyn_ltree,e.dyn_dtree)),Ra(e),n&&Ua(e)}function $a(e,t,r){return e.pending_buf[e.d_buf+2*e.last_lit]=t>>>8&255,e.pending_buf[e.d_buf+2*e.last_lit+1]=255&t,e.pending_buf[e.l_buf+e.last_lit]=255&r,e.last_lit++,0===t?e.dyn_ltree[2*r]++:(e.matches++,t--,e.dyn_ltree[2*(wa[r]+ea+1)]++,e.dyn_dtree[2*xa(t)]++),e.last_lit===e.lit_bufsize-1}function Ga(e,t,r,n){let i=65535&e|0,a=e>>>16&65535|0,s=0;for(;0!==r;){s=r>2e3?2e3:r,r-=s;do{i=i+t[n++]|0,a=a+i|0}while(--s);i%=65521,a%=65521}return i|a<<16|0}const Va=function(){let e;const t=[];for(let r=0;r<256;r++){e=r;for(let t=0;t<8;t++)e=1&e?3988292384^e>>>1:e>>>1;t[r]=e}return t}();function Za(e,t,r,n){const i=Va,a=n+r;e^=-1;for(let r=n;r<a;r++)e=e>>>8^i[255&(e^t[r])];return-1^e}var Qa={2:"need dictionary",1:"stream end",0:"","-1":"file error","-2":"stream error","-3":"data error","-4":"insufficient memory","-5":"buffer error","-6":"incompatible version"};const Ya=9,Xa=3,Ja=258,es=Ja+Xa+1,ts=32,rs=42,ns=69,is=73,as=91,ss=103,os=113,cs=666,us=1,hs=2,fs=3,ds=4,ls=3;function ps(e,t){return e.msg=Qa[t],t}function ys(e){return(e<<1)-(e>4?9:0)}function bs(e){let t=e.length;for(;--t>=0;)e[t]=0}function ms(e){const t=e.state;let r=t.pending;r>e.avail_out&&(r=e.avail_out),0!==r&&(Pi(e.output,t.pending_buf,t.pending_out,r,e.next_out),e.next_out+=r,t.pending_out+=r,e.total_out+=r,e.avail_out-=r,t.pending-=r,0===t.pending&&(t.pending_out=0))}function gs(e,t){Ha(e,e.block_start>=0?e.block_start:-1,e.strstart-e.block_start,t),e.block_start=e.strstart,ms(e.strm)}function ws(e,t){e.pending_buf[e.pending++]=t}function vs(e,t){e.pending_buf[e.pending++]=t>>>8&255,e.pending_buf[e.pending++]=255&t}function _s(e,t,r,n){let i=e.avail_in;return i>n&&(i=n),0===i?0:(e.avail_in-=i,Pi(t,e.input,e.next_in,i,r),1===e.state.wrap?e.adler=Ga(e.adler,t,i,r):2===e.state.wrap&&(e.adler=Za(e.adler,t,i,r)),e.next_in+=i,e.total_in+=i,i)}function ks(e,t){let r,n,i=e.max_chain_length,a=e.strstart,s=e.prev_length,o=e.nice_match;const c=e.strstart>e.w_size-es?e.strstart-(e.w_size-es):0,u=e.window,h=e.w_mask,f=e.prev,d=e.strstart+Ja;let l=u[a+s-1],p=u[a+s];e.prev_length>=e.good_match&&(i>>=2),o>e.lookahead&&(o=e.lookahead);do{if(r=t,u[r+s]===p&&u[r+s-1]===l&&u[r]===u[a]&&u[++r]===u[a+1]){a+=2,r++;do{}while(u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&u[++a]===u[++r]&&a<d);if(n=Ja-(d-a),a=d-Ja,n>s){if(e.match_start=t,s=n,n>=o)break;l=u[a+s-1],p=u[a+s]}}}while((t=f[t&h])>c&&0!=--i);return s<=e.lookahead?s:e.lookahead}function Ss(e){const t=e.w_size;let r,n,i,a,s;do{if(a=e.window_size-e.lookahead-e.strstart,e.strstart>=t+(t-es)){Pi(e.window,e.window,t,t,0),e.match_start-=t,e.strstart-=t,e.block_start-=t,n=e.hash_size,r=n;do{i=e.head[--r],e.head[r]=i>=t?i-t:0}while(--n);n=t,r=n;do{i=e.prev[--r],e.prev[r]=i>=t?i-t:0}while(--n);a+=t}if(0===e.strm.avail_in)break;if(n=_s(e.strm,e.window,e.strstart+e.lookahead,a),e.lookahead+=n,e.lookahead+e.insert>=Xa)for(s=e.strstart-e.insert,e.ins_h=e.window[s],e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+1])&e.hash_mask;e.insert&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[s+Xa-1])&e.hash_mask,e.prev[s&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=s,s++,e.insert--,!(e.lookahead+e.insert<Xa)););}while(e.lookahead<es&&0!==e.strm.avail_in)}function As(e,t){let r,n;for(;;){if(e.lookahead<es){if(Ss(e),e.lookahead<es&&t===xi)return us;if(0===e.lookahead)break}if(r=0,e.lookahead>=Xa&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Xa-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),0!==r&&e.strstart-r<=e.w_size-es&&(e.match_length=ks(e,r)),e.match_length>=Xa)if(n=$a(e,e.strstart-e.match_start,e.match_length-Xa),e.lookahead-=e.match_length,e.match_length<=e.max_lazy_match&&e.lookahead>=Xa){e.match_length--;do{e.strstart++,e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Xa-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart}while(0!=--e.match_length);e.strstart++}else e.strstart+=e.match_length,e.match_length=0,e.ins_h=e.window[e.strstart],e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+1])&e.hash_mask;else n=$a(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++;if(n&&(gs(e,!1),0===e.strm.avail_out))return us}return e.insert=e.strstart<Xa-1?e.strstart:Xa-1,t===Di?(gs(e,!0),0===e.strm.avail_out?fs:ds):e.last_lit&&(gs(e,!1),0===e.strm.avail_out)?us:hs}function Es(e,t){let r,n,i;for(;;){if(e.lookahead<es){if(Ss(e),e.lookahead<es&&t===xi)return us;if(0===e.lookahead)break}if(r=0,e.lookahead>=Xa&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Xa-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart),e.prev_length=e.match_length,e.prev_match=e.match_start,e.match_length=Xa-1,0!==r&&e.prev_length<e.max_lazy_match&&e.strstart-r<=e.w_size-es&&(e.match_length=ks(e,r),e.match_length<=5&&(e.strategy===Li||e.match_length===Xa&&e.strstart-e.match_start>4096)&&(e.match_length=Xa-1)),e.prev_length>=Xa&&e.match_length<=e.prev_length){i=e.strstart+e.lookahead-Xa,n=$a(e,e.strstart-1-e.prev_match,e.prev_length-Xa),e.lookahead-=e.prev_length-1,e.prev_length-=2;do{++e.strstart<=i&&(e.ins_h=(e.ins_h<<e.hash_shift^e.window[e.strstart+Xa-1])&e.hash_mask,r=e.prev[e.strstart&e.w_mask]=e.head[e.ins_h],e.head[e.ins_h]=e.strstart)}while(0!=--e.prev_length);if(e.match_available=0,e.match_length=Xa-1,e.strstart++,n&&(gs(e,!1),0===e.strm.avail_out))return us}else if(e.match_available){if(n=$a(e,0,e.window[e.strstart-1]),n&&gs(e,!1),e.strstart++,e.lookahead--,0===e.strm.avail_out)return us}else e.match_available=1,e.strstart++,e.lookahead--}return e.match_available&&(n=$a(e,0,e.window[e.strstart-1]),e.match_available=0),e.insert=e.strstart<Xa-1?e.strstart:Xa-1,t===Di?(gs(e,!0),0===e.strm.avail_out?fs:ds):e.last_lit&&(gs(e,!1),0===e.strm.avail_out)?us:hs}class Config{constructor(e,t,r,n,i){this.good_length=e,this.max_lazy=t,this.nice_length=r,this.max_chain=n,this.func=i}}const Ps=[new Config(0,0,0,0,(function(e,t){let r=65535;for(r>e.pending_buf_size-5&&(r=e.pending_buf_size-5);;){if(e.lookahead<=1){if(Ss(e),0===e.lookahead&&t===xi)return us;if(0===e.lookahead)break}e.strstart+=e.lookahead,e.lookahead=0;const n=e.block_start+r;if((0===e.strstart||e.strstart>=n)&&(e.lookahead=e.strstart-n,e.strstart=n,gs(e,!1),0===e.strm.avail_out))return us;if(e.strstart-e.block_start>=e.w_size-es&&(gs(e,!1),0===e.strm.avail_out))return us}return e.insert=0,t===Di?(gs(e,!0),0===e.strm.avail_out?fs:ds):(e.strstart>e.block_start&&(gs(e,!1),e.strm.avail_out),us)})),new Config(4,4,8,4,As),new Config(4,5,16,8,As),new Config(4,6,32,32,As),new Config(4,4,16,16,Es),new Config(8,16,32,32,Es),new Config(8,16,128,128,Es),new Config(8,32,128,256,Es),new Config(32,128,258,1024,Es),new Config(32,258,258,4096,Es)];class DeflateState{constructor(){this.strm=null,this.status=0,this.pending_buf=null,this.pending_buf_size=0,this.pending_out=0,this.pending=0,this.wrap=0,this.gzhead=null,this.gzindex=0,this.method=Vi,this.last_flush=-1,this.w_size=0,this.w_bits=0,this.w_mask=0,this.window=null,this.window_size=0,this.prev=null,this.head=null,this.ins_h=0,this.hash_size=0,this.hash_bits=0,this.hash_mask=0,this.hash_shift=0,this.block_start=0,this.match_length=0,this.prev_match=0,this.match_available=0,this.strstart=0,this.match_start=0,this.lookahead=0,this.prev_length=0,this.max_chain_length=0,this.max_lazy_match=0,this.level=0,this.strategy=0,this.good_match=0,this.nice_match=0,this.dyn_ltree=new Si(1146),this.dyn_dtree=new Si(122),this.bl_tree=new Si(78),bs(this.dyn_ltree),bs(this.dyn_dtree),bs(this.bl_tree),this.l_desc=null,this.d_desc=null,this.bl_desc=null,this.bl_count=new Si(16),this.heap=new Si(573),bs(this.heap),this.heap_len=0,this.heap_max=0,this.depth=new Si(573),bs(this.depth),this.l_buf=0,this.lit_bufsize=0,this.last_lit=0,this.d_buf=0,this.opt_len=0,this.static_len=0,this.matches=0,this.insert=0,this.bi_buf=0,this.bi_valid=0}}function xs(e){const t=function(e){let t;return e&&e.state?(e.total_in=e.total_out=0,e.data_type=Gi,t=e.state,t.pending=0,t.pending_out=0,t.wrap<0&&(t.wrap=-t.wrap),t.status=t.wrap?rs:os,e.adler=2===t.wrap?0:1,t.last_flush=xi,ja(t),Ui):ps(e,zi)}(e);return t===Ui&&function(e){e.window_size=2*e.w_size,bs(e.head),e.max_lazy_match=Ps[e.level].max_lazy,e.good_match=Ps[e.level].good_length,e.nice_match=Ps[e.level].nice_length,e.max_chain_length=Ps[e.level].max_chain,e.strstart=0,e.block_start=0,e.lookahead=0,e.insert=0,e.match_length=e.prev_length=Xa-1,e.match_available=0,e.ins_h=0}(e.state),t}function Ms(e,t){let r,n,i,a;if(!e||!e.state||t>Ii||t<0)return e?ps(e,zi):zi;if(n=e.state,!e.output||!e.input&&0!==e.avail_in||n.status===cs&&t!==Di)return ps(e,0===e.avail_out?Oi:zi);if(n.strm=e,r=n.last_flush,n.last_flush=t,n.status===rs)if(2===n.wrap)e.adler=0,ws(n,31),ws(n,139),ws(n,8),n.gzhead?(ws(n,(n.gzhead.text?1:0)+(n.gzhead.hcrc?2:0)+(n.gzhead.extra?4:0)+(n.gzhead.name?8:0)+(n.gzhead.comment?16:0)),ws(n,255&n.gzhead.time),ws(n,n.gzhead.time>>8&255),ws(n,n.gzhead.time>>16&255),ws(n,n.gzhead.time>>24&255),ws(n,9===n.level?2:n.strategy>=ji||n.level<2?4:0),ws(n,255&n.gzhead.os),n.gzhead.extra&&n.gzhead.extra.length&&(ws(n,255&n.gzhead.extra.length),ws(n,n.gzhead.extra.length>>8&255)),n.gzhead.hcrc&&(e.adler=Za(e.adler,n.pending_buf,n.pending,0)),n.gzindex=0,n.status=ns):(ws(n,0),ws(n,0),ws(n,0),ws(n,0),ws(n,0),ws(n,9===n.level?2:n.strategy>=ji||n.level<2?4:0),ws(n,ls),n.status=os);else{let t=Vi+(n.w_bits-8<<4)<<8,r=-1;r=n.strategy>=ji||n.level<2?0:n.level<6?1:6===n.level?2:3,t|=r<<6,0!==n.strstart&&(t|=ts),t+=31-t%31,n.status=os,vs(n,t),0!==n.strstart&&(vs(n,e.adler>>>16),vs(n,65535&e.adler)),e.adler=1}if(n.status===ns)if(n.gzhead.extra){for(i=n.pending;n.gzindex<(65535&n.gzhead.extra.length)&&(n.pending!==n.pending_buf_size||(n.gzhead.hcrc&&n.pending>i&&(e.adler=Za(e.adler,n.pending_buf,n.pending-i,i)),ms(e),i=n.pending,n.pending!==n.pending_buf_size));)ws(n,255&n.gzhead.extra[n.gzindex]),n.gzindex++;n.gzhead.hcrc&&n.pending>i&&(e.adler=Za(e.adler,n.pending_buf,n.pending-i,i)),n.gzindex===n.gzhead.extra.length&&(n.gzindex=0,n.status=is)}else n.status=is;if(n.status===is)if(n.gzhead.name){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Za(e.adler,n.pending_buf,n.pending-i,i)),ms(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.name.length?255&n.gzhead.name.charCodeAt(n.gzindex++):0,ws(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=Za(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.gzindex=0,n.status=as)}else n.status=as;if(n.status===as)if(n.gzhead.comment){i=n.pending;do{if(n.pending===n.pending_buf_size&&(n.gzhead.hcrc&&n.pending>i&&(e.adler=Za(e.adler,n.pending_buf,n.pending-i,i)),ms(e),i=n.pending,n.pending===n.pending_buf_size)){a=1;break}a=n.gzindex<n.gzhead.comment.length?255&n.gzhead.comment.charCodeAt(n.gzindex++):0,ws(n,a)}while(0!==a);n.gzhead.hcrc&&n.pending>i&&(e.adler=Za(e.adler,n.pending_buf,n.pending-i,i)),0===a&&(n.status=ss)}else n.status=ss;if(n.status===ss&&(n.gzhead.hcrc?(n.pending+2>n.pending_buf_size&&ms(e),n.pending+2<=n.pending_buf_size&&(ws(n,255&e.adler),ws(n,e.adler>>8&255),e.adler=0,n.status=os)):n.status=os),0!==n.pending){if(ms(e),0===e.avail_out)return n.last_flush=-1,Ui}else if(0===e.avail_in&&ys(t)<=ys(r)&&t!==Di)return ps(e,Oi);if(n.status===cs&&0!==e.avail_in)return ps(e,Oi);if(0!==e.avail_in||0!==n.lookahead||t!==xi&&n.status!==cs){var s=n.strategy===ji?function(e,t){let r;for(;;){if(0===e.lookahead&&(Ss(e),0===e.lookahead)){if(t===xi)return us;break}if(e.match_length=0,r=$a(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++,r&&(gs(e,!1),0===e.strm.avail_out))return us}return e.insert=0,t===Di?(gs(e,!0),0===e.strm.avail_out?fs:ds):e.last_lit&&(gs(e,!1),0===e.strm.avail_out)?us:hs}(n,t):n.strategy===Ni?function(e,t){let r,n,i,a;const s=e.window;for(;;){if(e.lookahead<=Ja){if(Ss(e),e.lookahead<=Ja&&t===xi)return us;if(0===e.lookahead)break}if(e.match_length=0,e.lookahead>=Xa&&e.strstart>0&&(i=e.strstart-1,n=s[i],n===s[++i]&&n===s[++i]&&n===s[++i])){a=e.strstart+Ja;do{}while(n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&n===s[++i]&&i<a);e.match_length=Ja-(a-i),e.match_length>e.lookahead&&(e.match_length=e.lookahead)}if(e.match_length>=Xa?(r=$a(e,1,e.match_length-Xa),e.lookahead-=e.match_length,e.strstart+=e.match_length,e.match_length=0):(r=$a(e,0,e.window[e.strstart]),e.lookahead--,e.strstart++),r&&(gs(e,!1),0===e.strm.avail_out))return us}return e.insert=0,t===Di?(gs(e,!0),0===e.strm.avail_out?fs:ds):e.last_lit&&(gs(e,!1),0===e.strm.avail_out)?us:hs}(n,t):Ps[n.level].func(n,t);if(s!==fs&&s!==ds||(n.status=cs),s===us||s===fs)return 0===e.avail_out&&(n.last_flush=-1),Ui;if(s===hs&&(t===Mi?Wa(n):t!==Ii&&(Na(n,0,0,!1),t===Ki&&(bs(n.head),0===n.lookahead&&(n.strstart=0,n.block_start=0,n.insert=0))),ms(e),0===e.avail_out))return n.last_flush=-1,Ui}return t!==Di?Ui:n.wrap<=0?Bi:(2===n.wrap?(ws(n,255&e.adler),ws(n,e.adler>>8&255),ws(n,e.adler>>16&255),ws(n,e.adler>>24&255),ws(n,255&e.total_in),ws(n,e.total_in>>8&255),ws(n,e.total_in>>16&255),ws(n,e.total_in>>24&255)):(vs(n,e.adler>>>16),vs(n,65535&e.adler)),ms(e),n.wrap>0&&(n.wrap=-n.wrap),0!==n.pending?Ui:Bi)}try{String.fromCharCode.apply(null,[0])}catch(e){}try{String.fromCharCode.apply(null,new Uint8Array(1))}catch(e){}const Cs=new ki(256);for(let e=0;e<256;e++)Cs[e]=e>=252?6:e>=248?5:e>=240?4:e>=224?3:e>=192?2:1;function Ks(e){let t,r,n,i,a=0;const s=e.length;for(n=0;n<s;n++)t=e.charCodeAt(n),55296==(64512&t)&&n+1<s&&(r=e.charCodeAt(n+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),n++)),a+=t<128?1:t<2048?2:t<65536?3:4;const o=new ki(a);for(i=0,n=0;i<a;n++)t=e.charCodeAt(n),55296==(64512&t)&&n+1<s&&(r=e.charCodeAt(n+1),56320==(64512&r)&&(t=65536+(t-55296<<10)+(r-56320),n++)),t<128?o[i++]=t:t<2048?(o[i++]=192|t>>>6,o[i++]=128|63&t):t<65536?(o[i++]=224|t>>>12,o[i++]=128|t>>>6&63,o[i++]=128|63&t):(o[i++]=240|t>>>18,o[i++]=128|t>>>12&63,o[i++]=128|t>>>6&63,o[i++]=128|63&t);return o}Cs[254]=Cs[254]=1;class ZStream{constructor(){this.input=null,this.next_in=0,this.avail_in=0,this.total_in=0,this.output=null,this.next_out=0,this.avail_out=0,this.total_out=0,this.msg="",this.state=null,this.data_type=2,this.adler=0}}class Deflate{constructor(e){this.options={level:Fi,method:Vi,chunkSize:16384,windowBits:15,memLevel:8,strategy:0,...e||{}};const t=this.options;t.raw&&t.windowBits>0?t.windowBits=-t.windowBits:t.gzip&&t.windowBits>0&&t.windowBits<16&&(t.windowBits+=16),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;var r,n,i=function(e,t,r,n,i,a){if(!e)return zi;let s=1;if(t===Fi&&(t=6),n<0?(s=0,n=-n):n>15&&(s=2,n-=16),i<1||i>Ya||r!==Vi||n<8||n>15||t<0||t>9||a<0||a>Wi)return ps(e,zi);8===n&&(n=9);const o=new DeflateState;return e.state=o,o.strm=e,o.wrap=s,o.gzhead=null,o.w_bits=n,o.w_size=1<<o.w_bits,o.w_mask=o.w_size-1,o.hash_bits=i+7,o.hash_size=1<<o.hash_bits,o.hash_mask=o.hash_size-1,o.hash_shift=~~((o.hash_bits+Xa-1)/Xa),o.window=new ki(2*o.w_size),o.head=new Si(o.hash_size),o.prev=new Si(o.w_size),o.lit_bufsize=1<<i+6,o.pending_buf_size=4*o.lit_bufsize,o.pending_buf=new ki(o.pending_buf_size),o.d_buf=1*o.lit_bufsize,o.l_buf=3*o.lit_bufsize,o.level=t,o.strategy=a,o.method=r,xs(e)}(this.strm,t.level,t.method,t.windowBits,t.memLevel,t.strategy);if(i!==Ui)throw new Error(Qa[i]);if(t.header&&(r=this.strm,n=t.header,r&&r.state&&(2!==r.state.wrap||(r.state.gzhead=n))),t.dictionary){let e;if(e="string"==typeof t.dictionary?Ks(t.dictionary):t.dictionary instanceof ArrayBuffer?new Uint8Array(t.dictionary):t.dictionary,i=function(e,t){let r,n,i,a,s,o,c,u,h=t.length;if(!e||!e.state)return zi;if(r=e.state,a=r.wrap,2===a||1===a&&r.status!==rs||r.lookahead)return zi;for(1===a&&(e.adler=Ga(e.adler,t,h,0)),r.wrap=0,h>=r.w_size&&(0===a&&(bs(r.head),r.strstart=0,r.block_start=0,r.insert=0),u=new ki(r.w_size),Pi(u,t,h-r.w_size,r.w_size,0),t=u,h=r.w_size),s=e.avail_in,o=e.next_in,c=e.input,e.avail_in=h,e.next_in=0,e.input=t,Ss(r);r.lookahead>=Xa;){n=r.strstart,i=r.lookahead-(Xa-1);do{r.ins_h=(r.ins_h<<r.hash_shift^r.window[n+Xa-1])&r.hash_mask,r.prev[n&r.w_mask]=r.head[r.ins_h],r.head[r.ins_h]=n,n++}while(--i);r.strstart=n,r.lookahead=Xa-1,Ss(r)}return r.strstart+=r.lookahead,r.block_start=r.strstart,r.insert=r.lookahead,r.lookahead=0,r.match_length=r.prev_length=Xa-1,r.match_available=0,e.next_in=o,e.input=c,e.avail_in=s,r.wrap=a,Ui}(this.strm,e),i!==Ui)throw new Error(Qa[i]);this._dict_set=!0}}push(e,t){const{strm:r,options:{chunkSize:n}}=this;var i,a;if(this.ended)return!1;a=t===~~t?t:!0===t?Di:xi,"string"==typeof e?r.input=Ks(e):e instanceof ArrayBuffer?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new ki(n),r.next_out=0,r.avail_out=n),(i=Ms(r,a))!==Bi&&i!==Ui)return this.onEnd(i),this.ended=!0,!1;0!==r.avail_out&&(0!==r.avail_in||a!==Di&&a!==Ci)||this.onData(wi(r.output,r.next_out))}while((r.avail_in>0||0===r.avail_out)&&i!==Bi);return a===Di?(i=function(e){let t;return e&&e.state?(t=e.state.status,t!==rs&&t!==ns&&t!==is&&t!==as&&t!==ss&&t!==os&&t!==cs?ps(e,zi):(e.state=null,t===os?ps(e,qi):Ui)):zi}(this.strm),this.onEnd(i),this.ended=!0,i===Ui):a!==Ci||(this.onEnd(Ui),r.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){e===Ui&&(this.result=Ei(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}const Ds=30,Is=12;function Rs(e,t){let r,n,i,a,s,o,c,u,h,f;const d=e.state;r=e.next_in;const l=e.input,p=r+(e.avail_in-5);n=e.next_out;const y=e.output,b=n-(t-e.avail_out),m=n+(e.avail_out-257),g=d.dmax,w=d.wsize,v=d.whave,_=d.wnext,k=d.window;i=d.hold,a=d.bits;const S=d.lencode,A=d.distcode,E=(1<<d.lenbits)-1,P=(1<<d.distbits)-1;e:do{a<15&&(i+=l[r++]<<a,a+=8,i+=l[r++]<<a,a+=8),s=S[i&E];t:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,0===o)y[n++]=65535&s;else{if(!(16&o)){if(0==(64&o)){s=S[(65535&s)+(i&(1<<o)-1)];continue t}if(32&o){d.mode=Is;break e}e.msg="invalid literal/length code",d.mode=Ds;break e}c=65535&s,o&=15,o&&(a<o&&(i+=l[r++]<<a,a+=8),c+=i&(1<<o)-1,i>>>=o,a-=o),a<15&&(i+=l[r++]<<a,a+=8,i+=l[r++]<<a,a+=8),s=A[i&P];r:for(;;){if(o=s>>>24,i>>>=o,a-=o,o=s>>>16&255,!(16&o)){if(0==(64&o)){s=A[(65535&s)+(i&(1<<o)-1)];continue r}e.msg="invalid distance code",d.mode=Ds;break e}if(u=65535&s,o&=15,a<o&&(i+=l[r++]<<a,a+=8,a<o&&(i+=l[r++]<<a,a+=8)),u+=i&(1<<o)-1,u>g){e.msg="invalid distance too far back",d.mode=Ds;break e}if(i>>>=o,a-=o,o=n-b,u>o){if(o=u-o,o>v&&d.sane){e.msg="invalid distance too far back",d.mode=Ds;break e}if(h=0,f=k,0===_){if(h+=w-o,o<c){c-=o;do{y[n++]=k[h++]}while(--o);h=n-u,f=y}}else if(_<o){if(h+=w+_-o,o-=_,o<c){c-=o;do{y[n++]=k[h++]}while(--o);if(h=0,_<c){o=_,c-=o;do{y[n++]=k[h++]}while(--o);h=n-u,f=y}}}else if(h+=_-o,o<c){c-=o;do{y[n++]=k[h++]}while(--o);h=n-u,f=y}for(;c>2;)y[n++]=f[h++],y[n++]=f[h++],y[n++]=f[h++],c-=3;c&&(y[n++]=f[h++],c>1&&(y[n++]=f[h++]))}else{h=n-u;do{y[n++]=y[h++],y[n++]=y[h++],y[n++]=y[h++],c-=3}while(c>2);c&&(y[n++]=y[h++],c>1&&(y[n++]=y[h++]))}break}}break}}while(r<p&&n<m);c=a>>3,r-=c,a-=c<<3,i&=(1<<a)-1,e.next_in=r,e.next_out=n,e.avail_in=r<p?p-r+5:5-(r-p),e.avail_out=n<m?m-n+257:257-(n-m),d.hold=i,d.bits=a}const Us=15,Bs=852,Ts=592,zs=0,qs=1,Os=2,Fs=[3,4,5,6,7,8,9,10,11,13,15,17,19,23,27,31,35,43,51,59,67,83,99,115,131,163,195,227,258,0,0],Ls=[16,16,16,16,16,16,16,16,17,17,17,17,18,18,18,18,19,19,19,19,20,20,20,20,21,21,21,21,16,72,78],js=[1,2,3,4,5,7,9,13,17,25,33,49,65,97,129,193,257,385,513,769,1025,1537,2049,3073,4097,6145,8193,12289,16385,24577,0,0],Ns=[16,16,16,16,17,17,18,18,19,19,20,20,21,21,22,22,23,23,24,24,25,25,26,26,27,27,28,28,29,29,64,64];function Ws(e,t,r,n,i,a,s,o){const c=o.bits;let u,h,f,d,l,p=0,y=0,b=0,m=0,g=0,w=0,v=0,_=0,k=0,S=0,A=null,E=0;const P=new Si(Us+1),x=new Si(Us+1);let M,C,K,D=null,I=0;for(p=0;p<=Us;p++)P[p]=0;for(y=0;y<n;y++)P[t[r+y]]++;for(g=c,m=Us;m>=1&&0===P[m];m--);if(g>m&&(g=m),0===m)return i[a++]=20971520,i[a++]=20971520,o.bits=1,0;for(b=1;b<m&&0===P[b];b++);for(g<b&&(g=b),_=1,p=1;p<=Us;p++)if(_<<=1,_-=P[p],_<0)return-1;if(_>0&&(e===zs||1!==m))return-1;for(x[1]=0,p=1;p<Us;p++)x[p+1]=x[p]+P[p];for(y=0;y<n;y++)0!==t[r+y]&&(s[x[t[r+y]]++]=y);e===zs?(A=D=s,l=19):e===qs?(A=Fs,E-=257,D=Ls,I-=257,l=256):(A=js,D=Ns,l=-1),S=0,y=0,p=b,d=a,w=g,v=0,f=-1,k=1<<g;const R=k-1;if(e===qs&&k>Bs||e===Os&&k>Ts)return 1;for(;;){M=p-v,s[y]<l?(C=0,K=s[y]):s[y]>l?(C=D[I+s[y]],K=A[E+s[y]]):(C=96,K=0),u=1<<p-v,h=1<<w,b=h;do{h-=u,i[d+(S>>v)+h]=M<<24|C<<16|K|0}while(0!==h);for(u=1<<p-1;S&u;)u>>=1;if(0!==u?(S&=u-1,S+=u):S=0,y++,0==--P[p]){if(p===m)break;p=t[r+s[y]]}if(p>g&&(S&R)!==f){for(0===v&&(v=g),d+=b,w=p-v,_=1<<w;w+v<m&&(_-=P[w+v],!(_<=0));)w++,_<<=1;if(k+=1<<w,e===qs&&k>Bs||e===Os&&k>Ts)return 1;f=S&R,i[f]=g<<24|w<<16|d-a|0}}return 0!==S&&(i[d+S]=p-v<<24|64<<16|0),o.bits=g,0}const Hs=0,$s=1,Gs=2,Vs=1,Zs=2,Qs=3,Ys=4,Xs=5,Js=6,eo=7,to=8,ro=9,no=10,io=11,ao=12,so=13,oo=14,co=15,uo=16,ho=17,fo=18,lo=19,po=20,yo=21,bo=22,mo=23,go=24,wo=25,vo=26,_o=27,ko=28,So=29,Ao=30,Eo=852,Po=592;function xo(e){return(e>>>24&255)+(e>>>8&65280)+((65280&e)<<8)+((255&e)<<24)}class InflateState{constructor(){this.mode=0,this.last=!1,this.wrap=0,this.havedict=!1,this.flags=0,this.dmax=0,this.check=0,this.total=0,this.head=null,this.wbits=0,this.wsize=0,this.whave=0,this.wnext=0,this.window=null,this.hold=0,this.bits=0,this.length=0,this.offset=0,this.extra=0,this.lencode=null,this.distcode=null,this.lenbits=0,this.distbits=0,this.ncode=0,this.nlen=0,this.ndist=0,this.have=0,this.next=null,this.lens=new Si(320),this.work=new Si(288),this.lendyn=null,this.distdyn=null,this.sane=0,this.back=0,this.was=0}}function Mo(e){let t;return e&&e.state?(t=e.state,t.wsize=0,t.whave=0,t.wnext=0,function(e){let t;return e&&e.state?(t=e.state,e.total_in=e.total_out=t.total=0,e.msg="",t.wrap&&(e.adler=1&t.wrap),t.mode=Vs,t.last=0,t.havedict=0,t.dmax=32768,t.head=null,t.hold=0,t.bits=0,t.lencode=t.lendyn=new Ai(Eo),t.distcode=t.distdyn=new Ai(Po),t.sane=1,t.back=-1,Ui):zi}(e)):zi}function Co(e,t){let r,n;return e?(n=new InflateState,e.state=n,n.window=null,r=function(e,t){let r,n;return e&&e.state?(n=e.state,t<0?(r=0,t=-t):(r=1+(t>>4),t<48&&(t&=15)),t&&(t<8||t>15)?zi:(null!==n.window&&n.wbits!==t&&(n.window=null),n.wrap=r,n.wbits=t,Mo(e))):zi}(e,t),r!==Ui&&(e.state=null),r):zi}let Ko,Do,Io=!0;function Ro(e){if(Io){let t;for(Ko=new Ai(512),Do=new Ai(32),t=0;t<144;)e.lens[t++]=8;for(;t<256;)e.lens[t++]=9;for(;t<280;)e.lens[t++]=7;for(;t<288;)e.lens[t++]=8;for(Ws($s,e.lens,0,288,Ko,0,e.work,{bits:9}),t=0;t<32;)e.lens[t++]=5;Ws(Gs,e.lens,0,32,Do,0,e.work,{bits:5}),Io=!1}e.lencode=Ko,e.lenbits=9,e.distcode=Do,e.distbits=5}function Uo(e,t,r,n){let i;const a=e.state;return null===a.window&&(a.wsize=1<<a.wbits,a.wnext=0,a.whave=0,a.window=new ki(a.wsize)),n>=a.wsize?(Pi(a.window,t,r-a.wsize,a.wsize,0),a.wnext=0,a.whave=a.wsize):(i=a.wsize-a.wnext,i>n&&(i=n),Pi(a.window,t,r-n,i,a.wnext),(n-=i)?(Pi(a.window,t,r-n,n,0),a.wnext=n,a.whave=a.wsize):(a.wnext+=i,a.wnext===a.wsize&&(a.wnext=0),a.whave<a.wsize&&(a.whave+=i))),0}function Bo(e,t){let r,n,i,a,s,o,c,u,h,f,d,l,p,y,b,m,g,w,v,_,k,S,A,E,P=0,x=new ki(4);const M=[16,17,18,0,8,7,9,6,10,5,11,4,12,3,13,2,14,1,15];if(!e||!e.state||!e.output||!e.input&&0!==e.avail_in)return zi;r=e.state,r.mode===ao&&(r.mode=so),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,h=r.bits,f=o,d=c,S=Ui;e:for(;;)switch(r.mode){case Vs:if(0===r.wrap){r.mode=so;break}for(;h<16;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(2&r.wrap&&35615===u){r.check=0,x[0]=255&u,x[1]=u>>>8&255,r.check=Za(r.check,x,2,0),u=0,h=0,r.mode=Zs;break}if(r.flags=0,r.head&&(r.head.done=!1),!(1&r.wrap)||(((255&u)<<8)+(u>>8))%31){e.msg="incorrect header check",r.mode=Ao;break}if((15&u)!==Vi){e.msg="unknown compression method",r.mode=Ao;break}if(u>>>=4,h-=4,k=8+(15&u),0===r.wbits)r.wbits=k;else if(k>r.wbits){e.msg="invalid window size",r.mode=Ao;break}r.dmax=1<<k,e.adler=r.check=1,r.mode=512&u?no:ao,u=0,h=0;break;case Zs:for(;h<16;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(r.flags=u,(255&r.flags)!==Vi){e.msg="unknown compression method",r.mode=Ao;break}if(57344&r.flags){e.msg="unknown header flags set",r.mode=Ao;break}r.head&&(r.head.text=u>>8&1),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Za(r.check,x,2,0)),u=0,h=0,r.mode=Qs;case Qs:for(;h<32;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.head&&(r.head.time=u),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,x[2]=u>>>16&255,x[3]=u>>>24&255,r.check=Za(r.check,x,4,0)),u=0,h=0,r.mode=Ys;case Ys:for(;h<16;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.head&&(r.head.xflags=255&u,r.head.os=u>>8),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Za(r.check,x,2,0)),u=0,h=0,r.mode=Xs;case Xs:if(1024&r.flags){for(;h<16;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.length=u,r.head&&(r.head.extra_len=u),512&r.flags&&(x[0]=255&u,x[1]=u>>>8&255,r.check=Za(r.check,x,2,0)),u=0,h=0}else r.head&&(r.head.extra=null);r.mode=Js;case Js:if(1024&r.flags&&(l=r.length,l>o&&(l=o),l&&(r.head&&(k=r.head.extra_len-r.length,r.head.extra||(r.head.extra=new Array(r.head.extra_len)),Pi(r.head.extra,n,a,l,k)),512&r.flags&&(r.check=Za(r.check,n,l,a)),o-=l,a+=l,r.length-=l),r.length))break e;r.length=0,r.mode=eo;case eo:if(2048&r.flags){if(0===o)break e;l=0;do{k=n[a+l++],r.head&&k&&r.length<65536&&(r.head.name+=String.fromCharCode(k))}while(k&&l<o);if(512&r.flags&&(r.check=Za(r.check,n,l,a)),o-=l,a+=l,k)break e}else r.head&&(r.head.name=null);r.length=0,r.mode=to;case to:if(4096&r.flags){if(0===o)break e;l=0;do{k=n[a+l++],r.head&&k&&r.length<65536&&(r.head.comment+=String.fromCharCode(k))}while(k&&l<o);if(512&r.flags&&(r.check=Za(r.check,n,l,a)),o-=l,a+=l,k)break e}else r.head&&(r.head.comment=null);r.mode=ro;case ro:if(512&r.flags){for(;h<16;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(u!==(65535&r.check)){e.msg="header crc mismatch",r.mode=Ao;break}u=0,h=0}r.head&&(r.head.hcrc=r.flags>>9&1,r.head.done=!0),e.adler=r.check=0,r.mode=ao;break;case no:for(;h<32;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}e.adler=r.check=xo(u),u=0,h=0,r.mode=io;case io:if(0===r.havedict)return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=h,Ti;e.adler=r.check=1,r.mode=ao;case ao:if(t===Ii||t===Ri)break e;case so:if(r.last){u>>>=7&h,h-=7&h,r.mode=_o;break}for(;h<3;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}switch(r.last=1&u,u>>>=1,h-=1,3&u){case 0:r.mode=oo;break;case 1:if(Ro(r),r.mode=po,t===Ri){u>>>=2,h-=2;break e}break;case 2:r.mode=ho;break;case 3:e.msg="invalid block type",r.mode=Ao}u>>>=2,h-=2;break;case oo:for(u>>>=7&h,h-=7&h;h<32;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if((65535&u)!=(u>>>16^65535)){e.msg="invalid stored block lengths",r.mode=Ao;break}if(r.length=65535&u,u=0,h=0,r.mode=co,t===Ri)break e;case co:r.mode=uo;case uo:if(l=r.length,l){if(l>o&&(l=o),l>c&&(l=c),0===l)break e;Pi(i,n,a,l,s),o-=l,a+=l,c-=l,s+=l,r.length-=l;break}r.mode=ao;break;case ho:for(;h<14;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(r.nlen=257+(31&u),u>>>=5,h-=5,r.ndist=1+(31&u),u>>>=5,h-=5,r.ncode=4+(15&u),u>>>=4,h-=4,r.nlen>286||r.ndist>30){e.msg="too many length or distance symbols",r.mode=Ao;break}r.have=0,r.mode=fo;case fo:for(;r.have<r.ncode;){for(;h<3;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.lens[M[r.have++]]=7&u,u>>>=3,h-=3}for(;r.have<19;)r.lens[M[r.have++]]=0;if(r.lencode=r.lendyn,r.lenbits=7,A={bits:r.lenbits},S=Ws(Hs,r.lens,0,19,r.lencode,0,r.work,A),r.lenbits=A.bits,S){e.msg="invalid code lengths set",r.mode=Ao;break}r.have=0,r.mode=lo;case lo:for(;r.have<r.nlen+r.ndist;){for(;P=r.lencode[u&(1<<r.lenbits)-1],b=P>>>24,m=P>>>16&255,g=65535&P,!(b<=h);){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(g<16)u>>>=b,h-=b,r.lens[r.have++]=g;else{if(16===g){for(E=b+2;h<E;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(u>>>=b,h-=b,0===r.have){e.msg="invalid bit length repeat",r.mode=Ao;break}k=r.lens[r.have-1],l=3+(3&u),u>>>=2,h-=2}else if(17===g){for(E=b+3;h<E;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}u>>>=b,h-=b,k=0,l=3+(7&u),u>>>=3,h-=3}else{for(E=b+7;h<E;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}u>>>=b,h-=b,k=0,l=11+(127&u),u>>>=7,h-=7}if(r.have+l>r.nlen+r.ndist){e.msg="invalid bit length repeat",r.mode=Ao;break}for(;l--;)r.lens[r.have++]=k}}if(r.mode===Ao)break;if(0===r.lens[256]){e.msg="invalid code -- missing end-of-block",r.mode=Ao;break}if(r.lenbits=9,A={bits:r.lenbits},S=Ws($s,r.lens,0,r.nlen,r.lencode,0,r.work,A),r.lenbits=A.bits,S){e.msg="invalid literal/lengths set",r.mode=Ao;break}if(r.distbits=6,r.distcode=r.distdyn,A={bits:r.distbits},S=Ws(Gs,r.lens,r.nlen,r.ndist,r.distcode,0,r.work,A),r.distbits=A.bits,S){e.msg="invalid distances set",r.mode=Ao;break}if(r.mode=po,t===Ri)break e;case po:r.mode=yo;case yo:if(o>=6&&c>=258){e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=h,Rs(e,d),s=e.next_out,i=e.output,c=e.avail_out,a=e.next_in,n=e.input,o=e.avail_in,u=r.hold,h=r.bits,r.mode===ao&&(r.back=-1);break}for(r.back=0;P=r.lencode[u&(1<<r.lenbits)-1],b=P>>>24,m=P>>>16&255,g=65535&P,!(b<=h);){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(m&&0==(240&m)){for(w=b,v=m,_=g;P=r.lencode[_+((u&(1<<w+v)-1)>>w)],b=P>>>24,m=P>>>16&255,g=65535&P,!(w+b<=h);){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}u>>>=w,h-=w,r.back+=w}if(u>>>=b,h-=b,r.back+=b,r.length=g,0===m){r.mode=vo;break}if(32&m){r.back=-1,r.mode=ao;break}if(64&m){e.msg="invalid literal/length code",r.mode=Ao;break}r.extra=15&m,r.mode=bo;case bo:if(r.extra){for(E=r.extra;h<E;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.length+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}r.was=r.length,r.mode=mo;case mo:for(;P=r.distcode[u&(1<<r.distbits)-1],b=P>>>24,m=P>>>16&255,g=65535&P,!(b<=h);){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(0==(240&m)){for(w=b,v=m,_=g;P=r.distcode[_+((u&(1<<w+v)-1)>>w)],b=P>>>24,m=P>>>16&255,g=65535&P,!(w+b<=h);){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}u>>>=w,h-=w,r.back+=w}if(u>>>=b,h-=b,r.back+=b,64&m){e.msg="invalid distance code",r.mode=Ao;break}r.offset=g,r.extra=15&m,r.mode=go;case go:if(r.extra){for(E=r.extra;h<E;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}r.offset+=u&(1<<r.extra)-1,u>>>=r.extra,h-=r.extra,r.back+=r.extra}if(r.offset>r.dmax){e.msg="invalid distance too far back",r.mode=Ao;break}r.mode=wo;case wo:if(0===c)break e;if(l=d-c,r.offset>l){if(l=r.offset-l,l>r.whave&&r.sane){e.msg="invalid distance too far back",r.mode=Ao;break}l>r.wnext?(l-=r.wnext,p=r.wsize-l):p=r.wnext-l,l>r.length&&(l=r.length),y=r.window}else y=i,p=s-r.offset,l=r.length;l>c&&(l=c),c-=l,r.length-=l;do{i[s++]=y[p++]}while(--l);0===r.length&&(r.mode=yo);break;case vo:if(0===c)break e;i[s++]=r.length,c--,r.mode=yo;break;case _o:if(r.wrap){for(;h<32;){if(0===o)break e;o--,u|=n[a++]<<h,h+=8}if(d-=c,e.total_out+=d,r.total+=d,d&&(e.adler=r.check=r.flags?Za(r.check,i,d,s-d):Ga(r.check,i,d,s-d)),d=c,(r.flags?u:xo(u))!==r.check){e.msg="incorrect data check",r.mode=Ao;break}u=0,h=0}r.mode=ko;case ko:if(r.wrap&&r.flags){for(;h<32;){if(0===o)break e;o--,u+=n[a++]<<h,h+=8}if(u!==(4294967295&r.total)){e.msg="incorrect length check",r.mode=Ao;break}u=0,h=0}r.mode=So;case So:S=Bi;break e;case Ao:S=qi;break e;default:return zi}return e.next_out=s,e.avail_out=c,e.next_in=a,e.avail_in=o,r.hold=u,r.bits=h,(r.wsize||d!==e.avail_out&&r.mode<Ao&&(r.mode<_o||t!==Di))&&Uo(e,e.output,e.next_out,d-e.avail_out),f-=e.avail_in,d-=e.avail_out,e.total_in+=f,e.total_out+=d,r.total+=d,r.wrap&&d&&(e.adler=r.check=r.flags?Za(r.check,i,d,e.next_out-d):Ga(r.check,i,d,e.next_out-d)),e.data_type=r.bits+(r.last?64:0)+(r.mode===ao?128:0)+(r.mode===po||r.mode===co?256:0),(0===f&&0===d||t===Di)&&S===Ui&&(S=Oi),S}function To(e,t){const r=t.length;let n,i;return e&&e.state?(n=e.state,0!==n.wrap&&n.mode!==io?zi:n.mode===io&&(i=1,i=Ga(i,t,r,0),i!==n.check)?qi:(Uo(e,t,r,r),n.havedict=1,Ui)):zi}class GZheader{constructor(){this.text=0,this.time=0,this.xflags=0,this.os=0,this.extra=null,this.extra_len=0,this.name="",this.comment="",this.hcrc=0,this.done=!1}}class Inflate{constructor(e){this.options={chunkSize:16384,windowBits:0,...e||{}};const t=this.options;t.raw&&t.windowBits>=0&&t.windowBits<16&&(t.windowBits=-t.windowBits,0===t.windowBits&&(t.windowBits=-15)),!(t.windowBits>=0&&t.windowBits<16)||e&&e.windowBits||(t.windowBits+=32),t.windowBits>15&&t.windowBits<48&&0==(15&t.windowBits)&&(t.windowBits|=15),this.err=0,this.msg="",this.ended=!1,this.chunks=[],this.strm=new ZStream,this.strm.avail_out=0;let r=Co(this.strm,t.windowBits);if(r!==Ui)throw new Error(Qa[r]);if(this.header=new GZheader,function(e,t){let r;e&&e.state&&(r=e.state,0==(2&r.wrap)||(r.head=t,t.done=!1))}(this.strm,this.header),t.dictionary&&("string"==typeof t.dictionary?t.dictionary=Ks(t.dictionary):t.dictionary instanceof ArrayBuffer&&(t.dictionary=new Uint8Array(t.dictionary)),t.raw&&(r=To(this.strm,t.dictionary),r!==Ui)))throw new Error(Qa[r])}push(e,t){const{strm:r,options:{chunkSize:n,dictionary:i}}=this;let a,s,o=!1;if(this.ended)return!1;s=t===~~t?t:!0===t?Di:xi,"string"==typeof e?r.input=function(e){const t=new ki(e.length);for(let r=0,n=t.length;r<n;r++)t[r]=e.charCodeAt(r);return t}(e):e instanceof ArrayBuffer?r.input=new Uint8Array(e):r.input=e,r.next_in=0,r.avail_in=r.input.length;do{if(0===r.avail_out&&(r.output=new ki(n),r.next_out=0,r.avail_out=n),a=Bo(r,xi),a===Ti&&i&&(a=To(this.strm,i)),a===Oi&&!0===o&&(a=Ui,o=!1),a!==Bi&&a!==Ui)return this.onEnd(a),this.ended=!0,!1;r.next_out&&(0!==r.avail_out&&a!==Bi&&(0!==r.avail_in||s!==Di&&s!==Ci)||this.onData(wi(r.output,r.next_out))),0===r.avail_in&&0===r.avail_out&&(o=!0)}while((r.avail_in>0||0===r.avail_out)&&a!==Bi);return a===Bi&&(s=Di),s===Di?(a=function(e){if(!e||!e.state)return zi;const t=e.state;return t.window&&(t.window=null),e.state=null,Ui}(this.strm),this.onEnd(a),this.ended=!0,a===Ui):s!==Ci||(this.onEnd(Ui),r.avail_out=0,!0)}onData(e){this.chunks.push(e)}onEnd(e){e===Ui&&(this.result=Ei(this.chunks)),this.chunks=[],this.err=e,this.msg=this.strm.msg}}var zo=[0,1,3,7,15,31,63,127,255],qo=function(e){this.stream=e,this.bitOffset=0,this.curByte=0,this.hasByte=!1};qo.prototype._ensureByte=function(){this.hasByte||(this.curByte=this.stream.readByte(),this.hasByte=!0)},qo.prototype.read=function(e){for(var t=0;e>0;){this._ensureByte();var r=8-this.bitOffset;if(e>=r)t<<=r,t|=zo[r]&this.curByte,this.hasByte=!1,this.bitOffset=0,e-=r;else{t<<=e;var n=r-e;t|=(this.curByte&zo[e]<<n)>>n,this.bitOffset+=e,e=0}}return t},qo.prototype.seek=function(e){var t=e%8,r=(e-t)/8;this.bitOffset=t,this.stream.seek(r),this.hasByte=!1},qo.prototype.pi=function(){var e,t=new Uint8Array(6);for(e=0;e<t.length;e++)t[e]=this.read(8);return function(e){return Array.prototype.map.call(e,(e=>("00"+e.toString(16)).slice(-2))).join("")}(t)};var Oo=qo,Fo=function(){};Fo.prototype.readByte=function(){throw new Error("abstract method readByte() not implemented")},Fo.prototype.read=function(e,t,r){for(var n=0;n<r;){var i=this.readByte();if(i<0)return 0===n?-1:n;e[t++]=i,n++}return n},Fo.prototype.seek=function(e){throw new Error("abstract method seek() not implemented")},Fo.prototype.writeByte=function(e){throw new Error("abstract method readByte() not implemented")},Fo.prototype.write=function(e,t,r){var n;for(n=0;n<r;n++)this.writeByte(e[t++]);return r},Fo.prototype.flush=function(){};var Lo,jo=Fo,No=(Lo=new Uint32Array([0,79764919,159529838,222504665,319059676,398814059,445009330,507990021,638119352,583659535,797628118,726387553,890018660,835552979,1015980042,944750013,1276238704,1221641927,1167319070,1095957929,1595256236,1540665371,1452775106,1381403509,1780037320,1859660671,1671105958,1733955601,2031960084,2111593891,1889500026,1952343757,2552477408,2632100695,2443283854,2506133561,2334638140,2414271883,2191915858,2254759653,3190512472,3135915759,3081330742,3009969537,2905550212,2850959411,2762807018,2691435357,3560074640,3505614887,3719321342,3648080713,3342211916,3287746299,3467911202,3396681109,4063920168,4143685023,4223187782,4286162673,3779000052,3858754371,3904687514,3967668269,881225847,809987520,1023691545,969234094,662832811,591600412,771767749,717299826,311336399,374308984,453813921,533576470,25881363,88864420,134795389,214552010,2023205639,2086057648,1897238633,1976864222,1804852699,1867694188,1645340341,1724971778,1587496639,1516133128,1461550545,1406951526,1302016099,1230646740,1142491917,1087903418,2896545431,2825181984,2770861561,2716262478,3215044683,3143675388,3055782693,3001194130,2326604591,2389456536,2200899649,2280525302,2578013683,2640855108,2418763421,2498394922,3769900519,3832873040,3912640137,3992402750,4088425275,4151408268,4197601365,4277358050,3334271071,3263032808,3476998961,3422541446,3585640067,3514407732,3694837229,3640369242,1762451694,1842216281,1619975040,1682949687,2047383090,2127137669,1938468188,2001449195,1325665622,1271206113,1183200824,1111960463,1543535498,1489069629,1434599652,1363369299,622672798,568075817,748617968,677256519,907627842,853037301,1067152940,995781531,51762726,131386257,177728840,240578815,269590778,349224269,429104020,491947555,4046411278,4126034873,4172115296,4234965207,3794477266,3874110821,3953728444,4016571915,3609705398,3555108353,3735388376,3664026991,3290680682,3236090077,3449943556,3378572211,3174993278,3120533705,3032266256,2961025959,2923101090,2868635157,2813903052,2742672763,2604032198,2683796849,2461293480,2524268063,2284983834,2364738477,2175806836,2238787779,1569362073,1498123566,1409854455,1355396672,1317987909,1246755826,1192025387,1137557660,2072149281,2135122070,1912620623,1992383480,1753615357,1816598090,1627664531,1707420964,295390185,358241886,404320391,483945776,43990325,106832002,186451547,266083308,932423249,861060070,1041341759,986742920,613929101,542559546,756411363,701822548,3316196985,3244833742,3425377559,3370778784,3601682597,3530312978,3744426955,3689838204,3819031489,3881883254,3928223919,4007849240,4037393693,4100235434,4180117107,4259748804,2310601993,2373574846,2151335527,2231098320,2596047829,2659030626,2470359227,2550115596,2947551409,2876312838,2788305887,2733848168,3165939309,3094707162,3040238851,2985771188]),function(){var e=4294967295;this.getCRC=function(){return~e>>>0},this.updateCRC=function(t){e=e<<8^Lo[255&(e>>>24^t)]},this.updateCRCRun=function(t,r){for(;r-- >0;)e=e<<8^Lo[255&(e>>>24^t)]}}),Wo=function(e,t){var r,n=e[t];for(r=t;r>0;r--)e[r]=e[r-1];return e[0]=n,n},Ho={OK:0,LAST_BLOCK:-1,NOT_BZIP_DATA:-2,UNEXPECTED_INPUT_EOF:-3,UNEXPECTED_OUTPUT_EOF:-4,DATA_ERROR:-5,OUT_OF_MEMORY:-6,OBSOLETE_INPUT:-7,END_OF_BLOCK:-8},$o={};$o[Ho.LAST_BLOCK]="Bad file checksum",$o[Ho.NOT_BZIP_DATA]="Not bzip data",$o[Ho.UNEXPECTED_INPUT_EOF]="Unexpected input EOF",$o[Ho.UNEXPECTED_OUTPUT_EOF]="Unexpected output EOF",$o[Ho.DATA_ERROR]="Data error",$o[Ho.OUT_OF_MEMORY]="Out of memory",$o[Ho.OBSOLETE_INPUT]="Obsolete (pre 0.9.5) bzip format not supported.";var Go=function(e,t){var r=$o[e]||"unknown error";t&&(r+=": "+t);var n=new TypeError(r);throw n.errorCode=e,n},Vo=function(e,t){this.writePos=this.writeCurrent=this.writeCount=0,this._start_bunzip(e,t)};Vo.prototype._init_block=function(){return this._get_next_block()?(this.blockCRC=new No,!0):(this.writeCount=-1,!1)},Vo.prototype._start_bunzip=function(e,t){var r=new Uint8Array(4);4===e.read(r,0,4)&&"BZh"===String.fromCharCode(r[0],r[1],r[2])||Go(Ho.NOT_BZIP_DATA,"bad magic");var n=r[3]-48;(n<1||n>9)&&Go(Ho.NOT_BZIP_DATA,"level out of range"),this.reader=new Oo(e),this.dbufSize=1e5*n,this.nextoutput=0,this.outputStream=t,this.streamCRC=0},Vo.prototype._get_next_block=function(){var e,t,r,n=this.reader,i=n.pi();if("177245385090"===i)return!1;"314159265359"!==i&&Go(Ho.NOT_BZIP_DATA),this.targetBlockCRC=n.read(32)>>>0,this.streamCRC=(this.targetBlockCRC^(this.streamCRC<<1|this.streamCRC>>>31))>>>0,n.read(1)&&Go(Ho.OBSOLETE_INPUT);var a=n.read(24);a>this.dbufSize&&Go(Ho.DATA_ERROR,"initial position out of bounds");var s=n.read(16),o=new Uint8Array(256),c=0;for(e=0;e<16;e++)if(s&1<<15-e){var u=16*e;for(r=n.read(16),t=0;t<16;t++)r&1<<15-t&&(o[c++]=u+t)}var h=n.read(3);(h<2||h>6)&&Go(Ho.DATA_ERROR);var f=n.read(15);0===f&&Go(Ho.DATA_ERROR);var d=new Uint8Array(256);for(e=0;e<h;e++)d[e]=e;var l=new Uint8Array(f);for(e=0;e<f;e++){for(t=0;n.read(1);t++)t>=h&&Go(Ho.DATA_ERROR);l[e]=Wo(d,t)}var p,y=c+2,b=[];for(t=0;t<h;t++){var m,g,w=new Uint8Array(y),v=new Uint16Array(21);for(s=n.read(5),e=0;e<y;e++){for(;(s<1||s>20)&&Go(Ho.DATA_ERROR),n.read(1);)n.read(1)?s--:s++;w[e]=s}for(m=g=w[0],e=1;e<y;e++)w[e]>g?g=w[e]:w[e]<m&&(m=w[e]);p={},b.push(p),p.permute=new Uint16Array(258),p.limit=new Uint32Array(22),p.base=new Uint32Array(21),p.minLen=m,p.maxLen=g;var _=0;for(e=m;e<=g;e++)for(v[e]=p.limit[e]=0,s=0;s<y;s++)w[s]===e&&(p.permute[_++]=s);for(e=0;e<y;e++)v[w[e]]++;for(_=s=0,e=m;e<g;e++)_+=v[e],p.limit[e]=_-1,_<<=1,s+=v[e],p.base[e+1]=_-s;p.limit[g+1]=Number.MAX_VALUE,p.limit[g]=_+v[g]-1,p.base[m]=0}var k=new Uint32Array(256);for(e=0;e<256;e++)d[e]=e;var S,A=0,E=0,P=0,x=this.dbuf=new Uint32Array(this.dbufSize);for(y=0;;){for(y--||(y=49,P>=f&&Go(Ho.DATA_ERROR),p=b[l[P++]]),e=p.minLen,t=n.read(e);e>p.maxLen&&Go(Ho.DATA_ERROR),!(t<=p.limit[e]);e++)t=t<<1|n.read(1);((t-=p.base[e])<0||t>=258)&&Go(Ho.DATA_ERROR);var M=p.permute[t];if(0!==M&&1!==M){if(A)for(A=0,E+s>this.dbufSize&&Go(Ho.DATA_ERROR),k[S=o[d[0]]]+=s;s--;)x[E++]=S;if(M>c)break;E>=this.dbufSize&&Go(Ho.DATA_ERROR),k[S=o[S=Wo(d,e=M-1)]]++,x[E++]=S}else A||(A=1,s=0),s+=0===M?A:2*A,A<<=1}for((a<0||a>=E)&&Go(Ho.DATA_ERROR),t=0,e=0;e<256;e++)r=t+k[e],k[e]=t,t=r;for(e=0;e<E;e++)x[k[S=255&x[e]]]|=e<<8,k[S]++;var C=0,K=0,D=0;return E&&(K=255&(C=x[a]),C>>=8,D=-1),this.writePos=C,this.writeCurrent=K,this.writeCount=E,this.writeRun=D,!0},Vo.prototype._read_bunzip=function(e,t){var r,n,i;if(this.writeCount<0)return 0;var a=this.dbuf,s=this.writePos,o=this.writeCurrent,c=this.writeCount;this.outputsize;for(var u=this.writeRun;c;){for(c--,n=o,o=255&(s=a[s]),s>>=8,3==u++?(r=o,i=n,o=-1):(r=1,i=o),this.blockCRC.updateCRCRun(i,r);r--;)this.outputStream.writeByte(i),this.nextoutput++;o!=n&&(u=0)}return this.writeCount=c,this.blockCRC.getCRC()!==this.targetBlockCRC&&Go(Ho.DATA_ERROR,"Bad block CRC (got "+this.blockCRC.getCRC().toString(16)+" expected "+this.targetBlockCRC.toString(16)+")"),this.nextoutput};var Zo=function(e){if("readByte"in e)return e;var t=new jo;return t.pos=0,t.readByte=function(){return e[this.pos++]},t.seek=function(e){this.pos=e},t.eof=function(){return this.pos>=e.length},t},Qo=function(e){var t=new jo,r=!0;if(e)if("number"==typeof e)t.buffer=new Uint8Array(e),r=!1;else{if("writeByte"in e)return e;t.buffer=e,r=!1}else t.buffer=new Uint8Array(16384);return t.pos=0,t.writeByte=function(e){if(r&&this.pos>=this.buffer.length){var t=new Uint8Array(2*this.buffer.length);t.set(this.buffer),this.buffer=t}this.buffer[this.pos++]=e},t.getBuffer=function(){if(this.pos!==this.buffer.length){if(!r)throw new TypeError("outputsize does not match decoded input");var e=new Uint8Array(this.pos);e.set(this.buffer.subarray(0,this.pos)),this.buffer=e}return this.buffer},t._coerced=!0,t};var Yo=function(e,t,r){for(var n=Zo(e),i=Qo(t),a=new Vo(n,i);!("eof"in n)||!n.eof();)if(a._init_block())a._read_bunzip();else{var s=a.reader.read(32)>>>0;if(s!==a.streamCRC&&Go(Ho.DATA_ERROR,"Bad stream CRC (got "+a.streamCRC.toString(16)+" expected "+s.toString(16)+")"),!r||!("eof"in n)||n.eof())break;a._start_bunzip(n,i)}if("getBuffer"in i)return i.getBuffer()};class LiteralDataPacket{static get tag(){return Q.packet.literalData}constructor(e=new Date){this.format=Q.literal.utf8,this.date=j.normalizeDate(e),this.text=null,this.data=null,this.filename=""}setText(e,t=Q.literal.utf8){this.format=t,this.text=e,this.data=null}getText(e=!1){return(null===this.text||j.isStream(this.text))&&(this.text=j.decodeUTF8(j.nativeEOL(this.getBytes(e)))),this.text}setBytes(e,t){this.format=t,this.data=e,this.text=null}getBytes(e=!1){return null===this.data&&(this.data=j.canonicalizeEOL(j.encodeUTF8(this.text))),e?T(this.data):this.data}setFilename(e){this.filename=e}getFilename(){return this.filename}async read(e){await U(e,(async e=>{const t=await e.readByte(),r=await e.readByte();this.filename=j.decodeUTF8(await e.readBytes(r)),this.date=j.readDate(await e.readBytes(4));let n=e.remainder();a(n)&&(n=await O(n)),this.setBytes(n,t)}))}writeHeader(){const e=j.encodeUTF8(this.filename),t=new Uint8Array([e.length]),r=new Uint8Array([this.format]),n=j.writeDate(this.date);return j.concatUint8Array([r,t,e,n])}write(){const e=this.writeHeader(),t=this.getBytes();return j.concat([e,t])}}const Xo=Symbol("verified"),Jo=new Set([Q.signatureSubpacket.issuer,Q.signatureSubpacket.issuerFingerprint,Q.signatureSubpacket.embeddedSignature]);class SignaturePacket{static get tag(){return Q.packet.signature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.signatureData=null,this.unhashedSubpackets=[],this.signedHashValue=null,this.created=null,this.signatureExpirationTime=null,this.signatureNeverExpires=!0,this.exportable=null,this.trustLevel=null,this.trustAmount=null,this.regularExpression=null,this.revocable=null,this.keyExpirationTime=null,this.keyNeverExpires=null,this.preferredSymmetricAlgorithms=null,this.revocationKeyClass=null,this.revocationKeyAlgorithm=null,this.revocationKeyFingerprint=null,this.issuerKeyID=new KeyID,this.rawNotations=[],this.notations={},this.preferredHashAlgorithms=null,this.preferredCompressionAlgorithms=null,this.keyServerPreferences=null,this.preferredKeyServer=null,this.isPrimaryUserID=null,this.policyURI=null,this.keyFlags=null,this.signersUserID=null,this.reasonForRevocationFlag=null,this.reasonForRevocationString=null,this.features=null,this.signatureTargetPublicKeyAlgorithm=null,this.signatureTargetHashAlgorithm=null,this.signatureTargetHash=null,this.embeddedSignature=null,this.issuerKeyVersion=null,this.issuerFingerprint=null,this.preferredAEADAlgorithms=null,this.revoked=null,this[Xo]=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version)throw new UnsupportedError(`Version ${this.version} of the signature packet is unsupported.`);if(this.signatureType=e[t++],this.publicKeyAlgorithm=e[t++],this.hashAlgorithm=e[t++],t+=this.readSubPackets(e.subarray(t,e.length),!0),!this.created)throw new Error("Missing signature creation time subpacket.");this.signatureData=e.subarray(0,t),t+=this.readSubPackets(e.subarray(t,e.length),!1),this.signedHashValue=e.subarray(t,t+2),t+=2,this.params=mi.signature.parseSignatureParams(this.publicKeyAlgorithm,e.subarray(t,e.length))}writeParams(){return this.params instanceof Promise?L((async()=>mi.serializeParams(this.publicKeyAlgorithm,await this.params))):mi.serializeParams(this.publicKeyAlgorithm,this.params)}write(){const e=[];return e.push(this.signatureData),e.push(this.writeUnhashedSubPackets()),e.push(this.signedHashValue),e.push(this.writeParams()),j.concat(e)}async sign(e,t,r=new Date,n=!1){5===e.version?this.version=5:this.version=4;const i=[new Uint8Array([this.version,this.signatureType,this.publicKeyAlgorithm,this.hashAlgorithm])];this.created=j.normalizeDate(r),this.issuerKeyVersion=e.version,this.issuerFingerprint=e.getFingerprintBytes(),this.issuerKeyID=e.getKeyID(),i.push(this.writeHashedSubPackets()),this.unhashedSubpackets=[],this.signatureData=j.concat(i);const a=this.toHash(this.signatureType,t,n),s=await this.hash(this.signatureType,t,a,n);this.signedHashValue=q(B(s),0,2);const o=async()=>mi.signature.sign(this.publicKeyAlgorithm,this.hashAlgorithm,e.publicParams,e.privateParams,a,await O(s));j.isStream(s)?this.params=o():(this.params=await o(),this[Xo]=!0)}writeHashedSubPackets(){const e=Q.signatureSubpacket,t=[];let r;if(null===this.created)throw new Error("Missing signature creation time");t.push(ec(e.signatureCreationTime,j.writeDate(this.created))),null!==this.signatureExpirationTime&&t.push(ec(e.signatureExpirationTime,j.writeNumber(this.signatureExpirationTime,4))),null!==this.exportable&&t.push(ec(e.exportableCertification,new Uint8Array([this.exportable?1:0]))),null!==this.trustLevel&&(r=new Uint8Array([this.trustLevel,this.trustAmount]),t.push(ec(e.trustSignature,r))),null!==this.regularExpression&&t.push(ec(e.regularExpression,this.regularExpression)),null!==this.revocable&&t.push(ec(e.revocable,new Uint8Array([this.revocable?1:0]))),null!==this.keyExpirationTime&&t.push(ec(e.keyExpirationTime,j.writeNumber(this.keyExpirationTime,4))),null!==this.preferredSymmetricAlgorithms&&(r=j.stringToUint8Array(j.uint8ArrayToString(this.preferredSymmetricAlgorithms)),t.push(ec(e.preferredSymmetricAlgorithms,r))),null!==this.revocationKeyClass&&(r=new Uint8Array([this.revocationKeyClass,this.revocationKeyAlgorithm]),r=j.concat([r,this.revocationKeyFingerprint]),t.push(ec(e.revocationKey,r))),this.issuerKeyID.isNull()||5===this.issuerKeyVersion||t.push(ec(e.issuer,this.issuerKeyID.write())),this.rawNotations.forEach((([{name:n,value:i,humanReadable:a}])=>{r=[new Uint8Array([a?128:0,0,0,0])],r.push(j.writeNumber(n.length,2)),r.push(j.writeNumber(i.length,2)),r.push(j.stringToUint8Array(n)),r.push(i),r=j.concat(r),t.push(ec(e.notationData,r))})),null!==this.preferredHashAlgorithms&&(r=j.stringToUint8Array(j.uint8ArrayToString(this.preferredHashAlgorithms)),t.push(ec(e.preferredHashAlgorithms,r))),null!==this.preferredCompressionAlgorithms&&(r=j.stringToUint8Array(j.uint8ArrayToString(this.preferredCompressionAlgorithms)),t.push(ec(e.preferredCompressionAlgorithms,r))),null!==this.keyServerPreferences&&(r=j.stringToUint8Array(j.uint8ArrayToString(this.keyServerPreferences)),t.push(ec(e.keyServerPreferences,r))),null!==this.preferredKeyServer&&t.push(ec(e.preferredKeyServer,j.stringToUint8Array(this.preferredKeyServer))),null!==this.isPrimaryUserID&&t.push(ec(e.primaryUserID,new Uint8Array([this.isPrimaryUserID?1:0]))),null!==this.policyURI&&t.push(ec(e.policyURI,j.stringToUint8Array(this.policyURI))),null!==this.keyFlags&&(r=j.stringToUint8Array(j.uint8ArrayToString(this.keyFlags)),t.push(ec(e.keyFlags,r))),null!==this.signersUserID&&t.push(ec(e.signersUserID,j.stringToUint8Array(this.signersUserID))),null!==this.reasonForRevocationFlag&&(r=j.stringToUint8Array(String.fromCharCode(this.reasonForRevocationFlag)+this.reasonForRevocationString),t.push(ec(e.reasonForRevocation,r))),null!==this.features&&(r=j.stringToUint8Array(j.uint8ArrayToString(this.features)),t.push(ec(e.features,r))),null!==this.signatureTargetPublicKeyAlgorithm&&(r=[new Uint8Array([this.signatureTargetPublicKeyAlgorithm,this.signatureTargetHashAlgorithm])],r.push(j.stringToUint8Array(this.signatureTargetHash)),r=j.concat(r),t.push(ec(e.signatureTarget,r))),null!==this.embeddedSignature&&t.push(ec(e.embeddedSignature,this.embeddedSignature.write())),null!==this.issuerFingerprint&&(r=[new Uint8Array([this.issuerKeyVersion]),this.issuerFingerprint],r=j.concat(r),t.push(ec(e.issuerFingerprint,r))),null!==this.preferredAEADAlgorithms&&(r=j.stringToUint8Array(j.uint8ArrayToString(this.preferredAEADAlgorithms)),t.push(ec(e.preferredAEADAlgorithms,r)));const n=j.concat(t),i=j.writeNumber(n.length,2);return j.concat([i,n])}writeUnhashedSubPackets(){const e=[];this.unhashedSubpackets.forEach((t=>{e.push(Jr(t.length)),e.push(t)}));const t=j.concat(e),r=j.writeNumber(t.length,2);return j.concat([r,t])}readSubPacket(e,t=!0){let r=0;const n=128&e[r],i=127&e[r];if(t||(this.unhashedSubpackets.push(e.subarray(r,e.length)),Jo.has(i)))switch(r++,i){case Q.signatureSubpacket.signatureCreationTime:this.created=j.readDate(e.subarray(r,e.length));break;case Q.signatureSubpacket.signatureExpirationTime:{const t=j.readNumber(e.subarray(r,e.length));this.signatureNeverExpires=0===t,this.signatureExpirationTime=t;break}case Q.signatureSubpacket.exportableCertification:this.exportable=1===e[r++];break;case Q.signatureSubpacket.trustSignature:this.trustLevel=e[r++],this.trustAmount=e[r++];break;case Q.signatureSubpacket.regularExpression:this.regularExpression=e[r];break;case Q.signatureSubpacket.revocable:this.revocable=1===e[r++];break;case Q.signatureSubpacket.keyExpirationTime:{const t=j.readNumber(e.subarray(r,e.length));this.keyExpirationTime=t,this.keyNeverExpires=0===t;break}case Q.signatureSubpacket.preferredSymmetricAlgorithms:this.preferredSymmetricAlgorithms=[...e.subarray(r,e.length)];break;case Q.signatureSubpacket.revocationKey:this.revocationKeyClass=e[r++],this.revocationKeyAlgorithm=e[r++],this.revocationKeyFingerprint=e.subarray(r,r+20);break;case Q.signatureSubpacket.issuer:this.issuerKeyID.read(e.subarray(r,e.length));break;case Q.signatureSubpacket.notationData:{const t=!!(128&e[r]);r+=4;const i=j.readNumber(e.subarray(r,r+2));r+=2;const a=j.readNumber(e.subarray(r,r+2));r+=2;const s=j.uint8ArrayToString(e.subarray(r,r+i)),o=e.subarray(r+i,r+i+a);this.rawNotations.push({name:s,humanReadable:t,value:o,critical:n}),t&&(this.notations[s]=j.uint8ArrayToString(o));break}case Q.signatureSubpacket.preferredHashAlgorithms:this.preferredHashAlgorithms=[...e.subarray(r,e.length)];break;case Q.signatureSubpacket.preferredCompressionAlgorithms:this.preferredCompressionAlgorithms=[...e.subarray(r,e.length)];break;case Q.signatureSubpacket.keyServerPreferences:this.keyServerPreferences=[...e.subarray(r,e.length)];break;case Q.signatureSubpacket.preferredKeyServer:this.preferredKeyServer=j.uint8ArrayToString(e.subarray(r,e.length));break;case Q.signatureSubpacket.primaryUserID:this.isPrimaryUserID=0!==e[r++];break;case Q.signatureSubpacket.policyURI:this.policyURI=j.uint8ArrayToString(e.subarray(r,e.length));break;case Q.signatureSubpacket.keyFlags:this.keyFlags=[...e.subarray(r,e.length)];break;case Q.signatureSubpacket.signersUserID:this.signersUserID=j.uint8ArrayToString(e.subarray(r,e.length));break;case Q.signatureSubpacket.reasonForRevocation:this.reasonForRevocationFlag=e[r++],this.reasonForRevocationString=j.uint8ArrayToString(e.subarray(r,e.length));break;case Q.signatureSubpacket.features:this.features=[...e.subarray(r,e.length)];break;case Q.signatureSubpacket.signatureTarget:{this.signatureTargetPublicKeyAlgorithm=e[r++],this.signatureTargetHashAlgorithm=e[r++];const t=mi.getHashByteLength(this.signatureTargetHashAlgorithm);this.signatureTargetHash=j.uint8ArrayToString(e.subarray(r,r+t));break}case Q.signatureSubpacket.embeddedSignature:this.embeddedSignature=new SignaturePacket,this.embeddedSignature.read(e.subarray(r,e.length));break;case Q.signatureSubpacket.issuerFingerprint:this.issuerKeyVersion=e[r++],this.issuerFingerprint=e.subarray(r,e.length),5===this.issuerKeyVersion?this.issuerKeyID.read(this.issuerFingerprint):this.issuerKeyID.read(this.issuerFingerprint.subarray(-8));break;case Q.signatureSubpacket.preferredAEADAlgorithms:this.preferredAEADAlgorithms=[...e.subarray(r,e.length)];break;default:{const e=new Error(`Unknown signature subpacket type ${i}`);if(n)throw e}}}readSubPackets(e,t=!0,r){const n=j.readNumber(e.subarray(0,2));let i=2;for(;i<2+n;){const n=Xr(e.subarray(i,e.length));i+=n.offset,this.readSubPacket(e.subarray(i,i+n.len),t,r),i+=n.len}return i}toSign(e,t){const r=Q.signature;switch(e){case r.binary:return null!==t.text?j.encodeUTF8(t.getText(!0)):t.getBytes(!0);case r.text:{const e=t.getBytes(!0);return j.canonicalizeEOL(e)}case r.standalone:return new Uint8Array(0);case r.certGeneric:case r.certPersona:case r.certCasual:case r.certPositive:case r.certRevocation:{let e,n;if(t.userID)n=180,e=t.userID;else{if(!t.userAttribute)throw new Error("Either a userID or userAttribute packet needs to be supplied for certification.");n=209,e=t.userAttribute}const i=e.write();return j.concat([this.toSign(r.key,t),new Uint8Array([n]),j.writeNumber(i.length,4),i])}case r.subkeyBinding:case r.subkeyRevocation:case r.keyBinding:return j.concat([this.toSign(r.key,t),this.toSign(r.key,{key:t.bind})]);case r.key:if(void 0===t.key)throw new Error("Key packet is required for this signature.");return t.key.writeForHash(this.version);case r.keyRevocation:return this.toSign(r.key,t);case r.timestamp:return new Uint8Array(0);case r.thirdParty:throw new Error("Not implemented");default:throw new Error("Unknown signature type.")}}calculateTrailer(e,t){let r=0;return I(B(this.signatureData),(e=>{r+=e.length}),(()=>{const n=[];return 5!==this.version||this.signatureType!==Q.signature.binary&&this.signatureType!==Q.signature.text||(t?n.push(new Uint8Array(6)):n.push(e.writeHeader())),n.push(new Uint8Array([this.version,255])),5===this.version&&n.push(new Uint8Array(4)),n.push(j.writeNumber(r,4)),j.concat(n)}))}toHash(e,t,r=!1){const n=this.toSign(e,t);return j.concat([n,this.signatureData,this.calculateTrailer(t,r)])}async hash(e,t,r,n=!1){return r||(r=this.toHash(e,t,n)),mi.hash.digest(this.hashAlgorithm,r)}async verify(e,t,r,n=new Date,i=!1,a=Y){if(!this.issuerKeyID.equals(e.getKeyID()))throw new Error("Signature was not issued by the given public key");if(this.publicKeyAlgorithm!==e.algorithm)throw new Error("Public key algorithm used to sign signature does not match issuer key algorithm.");const s=t===Q.signature.binary||t===Q.signature.text;if(!(this[Xo]&&!s)){let n,a;if(this.hashed?a=await this.hashed:(n=this.toHash(t,r,i),a=await this.hash(t,r,n)),a=await O(a),this.signedHashValue[0]!==a[0]||this.signedHashValue[1]!==a[1])throw new Error("Signed digest did not match");if(this.params=await this.params,this[Xo]=await mi.signature.verify(this.publicKeyAlgorithm,this.hashAlgorithm,this.params,e.publicParams,n,a),!this[Xo])throw new Error("Signature verification failed")}const o=j.normalizeDate(n);if(o&&this.created>o)throw new Error("Signature creation time is in the future");if(o&&o>=this.getExpirationTime())throw new Error("Signature is expired");if(a.rejectHashAlgorithms.has(this.hashAlgorithm))throw new Error("Insecure hash algorithm: "+Q.read(Q.hash,this.hashAlgorithm).toUpperCase());if(a.rejectMessageHashAlgorithms.has(this.hashAlgorithm)&&[Q.signature.binary,Q.signature.text].includes(this.signatureType))throw new Error("Insecure message hash algorithm: "+Q.read(Q.hash,this.hashAlgorithm).toUpperCase());if(this.rawNotations.forEach((({name:e,critical:t})=>{if(t&&a.knownNotations.indexOf(e)<0)throw new Error(`Unknown critical notation: ${e}`)})),null!==this.revocationKeyClass)throw new Error("This key is intended to be revoked with an authorized key, which OpenPGP.js does not support.")}isExpired(e=new Date){const t=j.normalizeDate(e);return null!==t&&!(this.created<=t&&t<this.getExpirationTime())}getExpirationTime(){return this.signatureNeverExpires?1/0:new Date(this.created.getTime()+1e3*this.signatureExpirationTime)}}function ec(e,t){const r=[];return r.push(Jr(t.length+1)),r.push(new Uint8Array([e])),r.push(t),j.concat(r)}class OnePassSignaturePacket{static get tag(){return Q.packet.onePassSignature}constructor(){this.version=null,this.signatureType=null,this.hashAlgorithm=null,this.publicKeyAlgorithm=null,this.issuerKeyID=null,this.flags=null}read(e){let t=0;if(this.version=e[t++],3!==this.version)throw new UnsupportedError(`Version ${this.version} of the one-pass signature packet is unsupported.`);return this.signatureType=e[t++],this.hashAlgorithm=e[t++],this.publicKeyAlgorithm=e[t++],this.issuerKeyID=new KeyID,this.issuerKeyID.read(e.subarray(t,t+8)),t+=8,this.flags=e[t++],this}write(){const e=new Uint8Array([3,this.signatureType,this.hashAlgorithm,this.publicKeyAlgorithm]),t=new Uint8Array([this.flags]);return j.concatUint8Array([e,this.issuerKeyID.write(),t])}calculateTrailer(...e){return L((async()=>SignaturePacket.prototype.calculateTrailer.apply(await this.correspondingSig,e)))}async verify(){const e=await this.correspondingSig;if(!e||e.constructor.tag!==Q.packet.signature)throw new Error("Corresponding signature packet missing");if(e.signatureType!==this.signatureType||e.hashAlgorithm!==this.hashAlgorithm||e.publicKeyAlgorithm!==this.publicKeyAlgorithm||!e.issuerKeyID.equals(this.issuerKeyID))throw new Error("Corresponding signature packet does not match one-pass signature packet");return e.hashed=this.hashed,e.verify.apply(e,arguments)}}function tc(e,t){if(!t[e]){let t;try{t=Q.read(Q.packet,e)}catch(t){throw new UnsupportedError(`Unknown packet type with tag: ${e}`)}throw new Error(`Packet not allowed in this context: ${t}`)}return new t[e]}OnePassSignaturePacket.prototype.hash=SignaturePacket.prototype.hash,OnePassSignaturePacket.prototype.toHash=SignaturePacket.prototype.toHash,OnePassSignaturePacket.prototype.toSign=SignaturePacket.prototype.toSign;class PacketList extends Array{static async fromBinary(e,t,r=Y){const n=new PacketList;return await n.read(e,t,r),n}async read(e,t,r=Y){this.stream=R(e,(async(e,n)=>{const i=M(n);try{for(;;){await i.ready;if(await an(e,(async e=>{try{if(e.tag===Q.packet.marker||e.tag===Q.packet.trust)return;const n=tc(e.tag,t);n.packets=new PacketList,n.fromStream=j.isStream(e.packet),await n.read(e.packet,r),await i.write(n)}catch(t){const n=!r.ignoreUnsupportedPackets&&t instanceof UnsupportedError,a=!(r.ignoreMalformedPackets||t instanceof UnsupportedError);if(n||a||nn(e.tag))await i.abort(t);else{const t=new UnparseablePacket(e.tag,e.packet);await i.write(t)}}})))return await i.ready,void await i.close()}}catch(e){await i.abort(e)}}));const n=x(this.stream);for(;;){const{done:e,value:t}=await n.read();if(e?this.stream=null:this.push(t),e||nn(t.constructor.tag))break}n.releaseLock()}write(){const e=[];for(let t=0;t<this.length;t++){const r=this[t]instanceof UnparseablePacket?this[t].tag:this[t].constructor.tag,n=this[t].write();if(j.isStream(n)&&nn(this[t].constructor.tag)){let t=[],i=0;const a=512;e.push(tn(r)),e.push(I(n,(e=>{if(t.push(e),i+=e.length,i>=a){const e=Math.min(Math.log(i)/Math.LN2|0,30),r=2**e,n=j.concat([en(e)].concat(t));return t=[n.subarray(1+r)],i=t[0].length,n.subarray(0,1+r)}}),(()=>j.concat([Jr(i)].concat(t)))))}else{if(j.isStream(n)){let t=0;e.push(I(B(n),(e=>{t+=e.length}),(()=>rn(r,t))))}else e.push(rn(r,n.length));e.push(n)}}return j.concat(e)}filterByTag(...e){const t=new PacketList,r=e=>t=>e===t;for(let n=0;n<this.length;n++)e.some(r(this[n].constructor.tag))&&t.push(this[n]);return t}findPacket(e){return this.find((t=>t.constructor.tag===e))}indexOfTag(...e){const t=[],r=this,n=e=>t=>e===t;for(let i=0;i<this.length;i++)e.some(n(r[i].constructor.tag))&&t.push(i);return t}}const rc=j.constructAllowedPackets([LiteralDataPacket,OnePassSignaturePacket,SignaturePacket]);class CompressedDataPacket{static get tag(){return Q.packet.compressedData}constructor(e=Y){this.packets=null,this.algorithm=e.preferredCompressionAlgorithm,this.compressed=null,this.deflateLevel=e.deflateLevel}async read(e,t=Y){await U(e,(async e=>{this.algorithm=await e.readByte(),this.compressed=e.remainder(),await this.decompress(t)}))}write(){return null===this.compressed&&this.compress(),j.concat([new Uint8Array([this.algorithm]),this.compressed])}async decompress(e=Y){const t=Q.read(Q.compression,this.algorithm),r=sc[t];if(!r)throw new Error(`${t} decompression not supported`);this.packets=await PacketList.fromBinary(r(this.compressed),rc,e)}compress(){const e=Q.read(Q.compression,this.algorithm),t=ac[e];if(!t)throw new Error(`${e} compression not supported`);this.compressed=t(this.packets.write(),this.deflateLevel)}}function nc(e,t={}){return function(r){const n=new e(t);return I(r,(e=>{if(e.length)return n.push(e,Ci),n.result}),(()=>{if(e===Deflate)return n.push([],Di),n.result}))}}function ic(e){return function(t){return L((async()=>e(await O(t))))}}const ac={zip:(e,t)=>nc(Deflate,{raw:!0,level:t})(e),zlib:(e,t)=>nc(Deflate,{level:t})(e)},sc={uncompressed:function(e){return e},zip:nc(Inflate,{raw:!0}),zlib:nc(Inflate),bzip2:ic(Yo)},oc=j.constructAllowedPackets([LiteralDataPacket,CompressedDataPacket,OnePassSignaturePacket,SignaturePacket]);class SymEncryptedIntegrityProtectedDataPacket{static get tag(){return Q.packet.symEncryptedIntegrityProtectedData}constructor(){this.version=1,this.encrypted=null,this.packets=null}async read(e){await U(e,(async e=>{const t=await e.readByte();if(1!==t)throw new UnsupportedError(`Version ${t} of the SEIP packet is unsupported.`);this.encrypted=e.remainder()}))}write(){return j.concat([new Uint8Array([1]),this.encrypted])}async encrypt(e,t,r=Y){const{blockSize:n}=mi.getCipher(e);let i=this.packets.write();a(i)&&(i=await O(i));const s=await mi.getPrefixRandom(e),o=new Uint8Array([211,20]),c=j.concat([s,i,o]),u=await mi.hash.sha1(T(c)),h=j.concat([c,u]);return this.encrypted=await mi.mode.cfb.encrypt(e,t,h,new Uint8Array(n),r),!0}async decrypt(e,t,r=Y){const{blockSize:n}=mi.getCipher(e);let i=B(this.encrypted);a(i)&&(i=await O(i));const s=await mi.mode.cfb.decrypt(e,t,i,new Uint8Array(n)),o=q(T(s),-20),c=q(s,0,-20),u=Promise.all([O(await mi.hash.sha1(T(c))),O(o)]).then((([e,t])=>{if(!j.equalsUint8Array(e,t))throw new Error("Modification detected.");return new Uint8Array})),h=q(c,n+2);let f=q(h,0,-2);return f=P([f,L((()=>u))]),j.isStream(i)&&r.allowUnauthenticatedStream||(f=await O(f)),this.packets=await PacketList.fromBinary(f,oc,r),!0}}const cc=j.constructAllowedPackets([LiteralDataPacket,CompressedDataPacket,OnePassSignaturePacket,SignaturePacket]);class AEADEncryptedDataPacket{static get tag(){return Q.packet.aeadEncryptedData}constructor(){this.version=1,this.cipherAlgorithm=null,this.aeadAlgorithm=Q.aead.eax,this.chunkSizeByte=null,this.iv=null,this.encrypted=null,this.packets=null}async read(e){await U(e,(async e=>{const t=await e.readByte();if(1!==t)throw new UnsupportedError(`Version ${t} of the AEAD-encrypted data packet is not supported.`);this.cipherAlgorithm=await e.readByte(),this.aeadAlgorithm=await e.readByte(),this.chunkSizeByte=await e.readByte();const r=mi.getAEADMode(this.aeadAlgorithm);this.iv=await e.readBytes(r.ivLength),this.encrypted=e.remainder()}))}write(){return j.concat([new Uint8Array([this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte]),this.iv,this.encrypted])}async decrypt(e,t,r=Y){this.packets=await PacketList.fromBinary(await this.crypt("decrypt",t,B(this.encrypted)),cc,r)}async encrypt(e,t,r=Y){this.cipherAlgorithm=e;const{ivLength:n}=mi.getAEADMode(this.aeadAlgorithm);this.iv=await mi.random.getRandomBytes(n),this.chunkSizeByte=r.aeadChunkSizeByte;const i=this.packets.write();this.encrypted=await this.crypt("encrypt",t,i)}async crypt(e,t,r){const n=mi.getAEADMode(this.aeadAlgorithm),i=await n(this.cipherAlgorithm,t),a="decrypt"===e?n.tagLength:0,s="encrypt"===e?n.tagLength:0,o=2**(this.chunkSizeByte+6)+a,c=new ArrayBuffer(21),u=new Uint8Array(c,0,13),h=new Uint8Array(c),f=new DataView(c),d=new Uint8Array(c,5,8);u.set([192|AEADEncryptedDataPacket.tag,this.version,this.cipherAlgorithm,this.aeadAlgorithm,this.chunkSizeByte],0);let l=0,p=Promise.resolve(),y=0,b=0;const m=this.iv;return R(r,(async(t,r)=>{if("array"!==j.isStream(t)){const e=new _({},{highWaterMark:j.getHardwareConcurrency()*2**(this.chunkSizeByte+6),size:e=>e.length});C(e.readable,r),r=e.writable}const c=x(t),g=M(r);try{for(;;){let t=await c.readBytes(o+a)||new Uint8Array;const r=t.subarray(t.length-a);let w,v;if(t=t.subarray(0,t.length-a),!l||t.length?(c.unshift(r),w=i[e](t,n.getNonce(m,d),u),b+=t.length-a+s):(f.setInt32(17,y),w=i[e](r,n.getNonce(m,d),h),b+=s,v=!0),y+=t.length-a,p=p.then((()=>w)).then((async e=>{await g.ready,await g.write(e),b-=e.length})).catch((e=>g.abort(e))),(v||b>g.desiredSize)&&await p,v){await g.close();break}f.setInt32(9,++l)}}catch(e){await g.abort(e)}}))}}class PublicKeyEncryptedSessionKeyPacket{static get tag(){return Q.packet.publicKeyEncryptedSessionKey}constructor(){this.version=3,this.publicKeyID=new KeyID,this.publicKeyAlgorithm=null,this.sessionKey=null,this.sessionKeyAlgorithm=null,this.encrypted={}}read(e){if(this.version=e[0],3!==this.version)throw new UnsupportedError(`Version ${this.version} of the PKESK packet is unsupported.`);this.publicKeyID.read(e.subarray(1,e.length)),this.publicKeyAlgorithm=e[9],this.encrypted=mi.parseEncSessionKeyParams(this.publicKeyAlgorithm,e.subarray(10))}write(){const e=[new Uint8Array([this.version]),this.publicKeyID.write(),new Uint8Array([this.publicKeyAlgorithm]),mi.serializeParams(this.publicKeyAlgorithm,this.encrypted)];return j.concatUint8Array(e)}async encrypt(e){const t=j.concatUint8Array([new Uint8Array([Q.write(Q.symmetric,this.sessionKeyAlgorithm)]),this.sessionKey,j.writeChecksum(this.sessionKey)]),r=Q.write(Q.publicKey,this.publicKeyAlgorithm);this.encrypted=await mi.publicKeyEncrypt(r,e.publicParams,t,e.getFingerprintBytes())}async decrypt(e,t){if(this.publicKeyAlgorithm!==e.algorithm)throw new Error("Decryption error");const r=t?j.concatUint8Array([new Uint8Array([t.sessionKeyAlgorithm]),t.sessionKey,j.writeChecksum(t.sessionKey)]):null,n=await mi.publicKeyDecrypt(this.publicKeyAlgorithm,e.publicParams,e.privateParams,this.encrypted,e.getFingerprintBytes(),r),i=n[0],a=n.subarray(1,n.length-2),s=n.subarray(n.length-2),o=j.writeChecksum(a),c=o[0]===s[0]&o[1]===s[1];if(t){const e=c&i===t.sessionKeyAlgorithm&a.length===t.sessionKey.length;this.sessionKeyAlgorithm=j.selectUint8(e,i,t.sessionKeyAlgorithm),this.sessionKey=j.selectUint8Array(e,a,t.sessionKey)}else{if(!(c&&Q.read(Q.symmetric,i)))throw new Error("Decryption error");this.sessionKey=a,this.sessionKeyAlgorithm=i}}}class S2K{constructor(e=Y){this.algorithm=Q.hash.sha256,this.type="iterated",this.c=e.s2kIterationCountByte,this.salt=null}getCount(){return 16+(15&this.c)<<6+(this.c>>4)}read(e){let t=0;switch(this.type=Q.read(Q.s2k,e[t++]),this.algorithm=e[t++],this.type){case"simple":break;case"salted":this.salt=e.subarray(t,t+8),t+=8;break;case"iterated":this.salt=e.subarray(t,t+8),t+=8,this.c=e[t++];break;case"gnu":if("GNU"!==j.uint8ArrayToString(e.subarray(t,t+3)))throw new Error("Unknown s2k type.");t+=3;if(1001!==1e3+e[t++])throw new Error("Unknown s2k gnu protection mode.");this.type="gnu-dummy";break;default:throw new Error("Unknown s2k type.")}return t}write(){if("gnu-dummy"===this.type)return new Uint8Array([101,0,...j.stringToUint8Array("GNU"),1]);const e=[new Uint8Array([Q.write(Q.s2k,this.type),this.algorithm])];switch(this.type){case"simple":break;case"salted":e.push(this.salt);break;case"iterated":e.push(this.salt),e.push(new Uint8Array([this.c]));break;case"gnu":throw new Error("GNU s2k type not supported.");default:throw new Error("Unknown s2k type.")}return j.concatUint8Array(e)}async produceKey(e,t){e=j.encodeUTF8(e);const r=[];let n=0,i=0;for(;n<t;){let t;switch(this.type){case"simple":t=j.concatUint8Array([new Uint8Array(i),e]);break;case"salted":t=j.concatUint8Array([new Uint8Array(i),this.salt,e]);break;case"iterated":{const r=j.concatUint8Array([this.salt,e]);let n=r.length;const a=Math.max(this.getCount(),n);t=new Uint8Array(i+a),t.set(r,i);for(let e=i+n;e<a;e+=n,n*=2)t.copyWithin(e,i,e);break}case"gnu":throw new Error("GNU s2k type not supported.");default:throw new Error("Unknown s2k type.")}const a=await mi.hash.digest(this.algorithm,t);r.push(a),n+=a.length,i++}return j.concatUint8Array(r).subarray(0,t)}}class SymEncryptedSessionKeyPacket{static get tag(){return Q.packet.symEncryptedSessionKey}constructor(e=Y){this.version=e.aeadProtect?5:4,this.sessionKey=null,this.sessionKeyEncryptionAlgorithm=null,this.sessionKeyAlgorithm=Q.symmetric.aes256,this.aeadAlgorithm=Q.write(Q.aead,e.preferredAEADAlgorithm),this.encrypted=null,this.s2k=null,this.iv=null}read(e){let t=0;if(this.version=e[t++],4!==this.version&&5!==this.version)throw new UnsupportedError(`Version ${this.version} of the SKESK packet is unsupported.`);const r=e[t++];if(5===this.version&&(this.aeadAlgorithm=e[t++]),this.s2k=new S2K,t+=this.s2k.read(e.subarray(t,e.length)),5===this.version){const r=mi.getAEADMode(this.aeadAlgorithm);this.iv=e.subarray(t,t+=r.ivLength)}5===this.version||t<e.length?(this.encrypted=e.subarray(t,e.length),this.sessionKeyEncryptionAlgorithm=r):this.sessionKeyAlgorithm=r}write(){const e=null===this.encrypted?this.sessionKeyAlgorithm:this.sessionKeyEncryptionAlgorithm;let t;return 5===this.version?t=j.concatUint8Array([new Uint8Array([this.version,e,this.aeadAlgorithm]),this.s2k.write(),this.iv,this.encrypted]):(t=j.concatUint8Array([new Uint8Array([this.version,e]),this.s2k.write()]),null!==this.encrypted&&(t=j.concatUint8Array([t,this.encrypted]))),t}async decrypt(e){const t=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm,{blockSize:r,keySize:n}=mi.getCipher(t),i=await this.s2k.produceKey(e,n);if(5===this.version){const e=mi.getAEADMode(this.aeadAlgorithm),r=new Uint8Array([192|SymEncryptedSessionKeyPacket.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),n=await e(t,i);this.sessionKey=await n.decrypt(this.encrypted,this.iv,r)}else if(null!==this.encrypted){const e=await mi.mode.cfb.decrypt(t,i,this.encrypted,new Uint8Array(r));this.sessionKeyAlgorithm=Q.write(Q.symmetric,e[0]),this.sessionKey=e.subarray(1,e.length)}else this.sessionKey=i}async encrypt(e,t=Y){const r=null!==this.sessionKeyEncryptionAlgorithm?this.sessionKeyEncryptionAlgorithm:this.sessionKeyAlgorithm;this.sessionKeyEncryptionAlgorithm=r,this.s2k=new S2K(t),this.s2k.salt=await mi.random.getRandomBytes(8);const{blockSize:n,keySize:i}=mi.getCipher(r),a=await this.s2k.produceKey(e,i);if(null===this.sessionKey&&(this.sessionKey=await mi.generateSessionKey(this.sessionKeyAlgorithm)),5===this.version){const e=mi.getAEADMode(this.aeadAlgorithm);this.iv=await mi.random.getRandomBytes(e.ivLength);const t=new Uint8Array([192|SymEncryptedSessionKeyPacket.tag,this.version,this.sessionKeyEncryptionAlgorithm,this.aeadAlgorithm]),n=await e(r,a);this.encrypted=await n.encrypt(this.sessionKey,this.iv,t)}else{const e=j.concatUint8Array([new Uint8Array([this.sessionKeyAlgorithm]),this.sessionKey]);this.encrypted=await mi.mode.cfb.encrypt(r,a,e,new Uint8Array(n),t)}}}class PublicKeyPacket{static get tag(){return Q.packet.publicKey}constructor(e=new Date,t=Y){this.version=t.v5Keys?5:4,this.created=j.normalizeDate(e),this.algorithm=null,this.publicParams=null,this.expirationTimeV3=0,this.fingerprint=null,this.keyID=null}static fromSecretKeyPacket(e){const t=new PublicKeyPacket,{version:r,created:n,algorithm:i,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}async read(e){let t=0;if(this.version=e[t++],4===this.version||5===this.version){this.created=j.readDate(e.subarray(t,t+4)),t+=4,this.algorithm=e[t++],5===this.version&&(t+=4);const{read:r,publicParams:n}=mi.parsePublicKeyParams(this.algorithm,e.subarray(t));return this.publicParams=n,t+=r,await this.computeFingerprintAndKeyID(),t}throw new UnsupportedError(`Version ${this.version} of the key packet is unsupported.`)}write(){const e=[];e.push(new Uint8Array([this.version])),e.push(j.writeDate(this.created)),e.push(new Uint8Array([this.algorithm]));const t=mi.serializeParams(this.algorithm,this.publicParams);return 5===this.version&&e.push(j.writeNumber(t.length,4)),e.push(t),j.concatUint8Array(e)}writeForHash(e){const t=this.writePublicKey();return 5===e?j.concatUint8Array([new Uint8Array([154]),j.writeNumber(t.length,4),t]):j.concatUint8Array([new Uint8Array([153]),j.writeNumber(t.length,2),t])}isDecrypted(){return null}getCreationTime(){return this.created}getKeyID(){return this.keyID}async computeFingerprintAndKeyID(){if(await this.computeFingerprint(),this.keyID=new KeyID,5===this.version)this.keyID.read(this.fingerprint.subarray(0,8));else{if(4!==this.version)throw new Error("Unsupported key version");this.keyID.read(this.fingerprint.subarray(12,20))}}async computeFingerprint(){const e=this.writeForHash(this.version);if(5===this.version)this.fingerprint=await mi.hash.sha256(e);else{if(4!==this.version)throw new Error("Unsupported key version");this.fingerprint=await mi.hash.sha1(e)}}getFingerprintBytes(){return this.fingerprint}getFingerprint(){return j.uint8ArrayToHex(this.getFingerprintBytes())}hasSameFingerprintAs(e){return this.version===e.version&&j.equalsUint8Array(this.writePublicKey(),e.writePublicKey())}getAlgorithmInfo(){const e={};e.algorithm=Q.read(Q.publicKey,this.algorithm);const t=this.publicParams.n||this.publicParams.p;return t?e.bits=j.uint8ArrayBitLength(t):e.curve=this.publicParams.oid.getName(),e}}PublicKeyPacket.prototype.readPublicKey=PublicKeyPacket.prototype.read,PublicKeyPacket.prototype.writePublicKey=PublicKeyPacket.prototype.write;const uc=j.constructAllowedPackets([LiteralDataPacket,CompressedDataPacket,OnePassSignaturePacket,SignaturePacket]);class SymmetricallyEncryptedDataPacket{static get tag(){return Q.packet.symmetricallyEncryptedData}constructor(){this.encrypted=null,this.packets=null}read(e){this.encrypted=e}write(){return this.encrypted}async decrypt(e,t,r=Y){if(!r.allowUnauthenticatedMessages)throw new Error("Message is not authenticated.");const{blockSize:n}=mi.getCipher(e),i=await O(B(this.encrypted)),a=await mi.mode.cfb.decrypt(e,t,i.subarray(n+2),i.subarray(2,n+2));this.packets=await PacketList.fromBinary(a,uc,r)}async encrypt(e,t,r=Y){const n=this.packets.write(),{blockSize:i}=mi.getCipher(e),a=await mi.getPrefixRandom(e),s=await mi.mode.cfb.encrypt(e,t,a,new Uint8Array(i),r),o=await mi.mode.cfb.encrypt(e,t,n,s.subarray(2),r);this.encrypted=j.concat([s,o])}}class PublicSubkeyPacket extends PublicKeyPacket{static get tag(){return Q.packet.publicSubkey}constructor(e,t){super(e,t)}static fromSecretSubkeyPacket(e){const t=new PublicSubkeyPacket,{version:r,created:n,algorithm:i,publicParams:a,keyID:s,fingerprint:o}=e;return t.version=r,t.created=n,t.algorithm=i,t.publicParams=a,t.keyID=s,t.fingerprint=o,t}}class UserAttributePacket{static get tag(){return Q.packet.userAttribute}constructor(){this.attributes=[]}read(e){let t=0;for(;t<e.length;){const r=Xr(e.subarray(t,e.length));t+=r.offset,this.attributes.push(j.uint8ArrayToString(e.subarray(t,t+r.len))),t+=r.len}}write(){const e=[];for(let t=0;t<this.attributes.length;t++)e.push(Jr(this.attributes[t].length)),e.push(j.stringToUint8Array(this.attributes[t]));return j.concatUint8Array(e)}equals(e){return!!(e&&e instanceof UserAttributePacket)&&this.attributes.every((function(t,r){return t===e.attributes[r]}))}}class SecretKeyPacket extends PublicKeyPacket{static get tag(){return Q.packet.secretKey}constructor(e=new Date,t=Y){super(e,t),this.keyMaterial=null,this.isEncrypted=null,this.s2kUsage=0,this.s2k=null,this.symmetric=null,this.aead=null,this.privateParams=null}async read(e){let t=await this.readPublicKey(e);if(this.s2kUsage=e[t++],5===this.version&&t++,255===this.s2kUsage||254===this.s2kUsage||253===this.s2kUsage){if(this.symmetric=e[t++],253===this.s2kUsage&&(this.aead=e[t++]),this.s2k=new S2K,t+=this.s2k.read(e.subarray(t,e.length)),"gnu-dummy"===this.s2k.type)return}else this.s2kUsage&&(this.symmetric=this.s2kUsage);if(this.s2kUsage&&(this.iv=e.subarray(t,t+mi.getCipher(this.symmetric).blockSize),t+=this.iv.length),5===this.version&&(t+=4),this.keyMaterial=e.subarray(t),this.isEncrypted=!!this.s2kUsage,!this.isEncrypted){const e=this.keyMaterial.subarray(0,-2);if(!j.equalsUint8Array(j.writeChecksum(e),this.keyMaterial.subarray(-2)))throw new Error("Key checksum mismatch");try{const{privateParams:t}=mi.parsePrivateKeyParams(this.algorithm,e,this.publicParams);this.privateParams=t}catch(e){if(e instanceof UnsupportedError)throw e;throw new Error("Error reading MPIs")}}}write(){const e=[this.writePublicKey()];e.push(new Uint8Array([this.s2kUsage]));const t=[];return 255!==this.s2kUsage&&254!==this.s2kUsage&&253!==this.s2kUsage||(t.push(this.symmetric),253===this.s2kUsage&&t.push(this.aead),t.push(...this.s2k.write())),this.s2kUsage&&"gnu-dummy"!==this.s2k.type&&t.push(...this.iv),5===this.version&&e.push(new Uint8Array([t.length])),e.push(new Uint8Array(t)),this.isDummy()||(this.s2kUsage||(this.keyMaterial=mi.serializeParams(this.algorithm,this.privateParams)),5===this.version&&e.push(j.writeNumber(this.keyMaterial.length,4)),e.push(this.keyMaterial),this.s2kUsage||e.push(j.writeChecksum(this.keyMaterial))),j.concatUint8Array(e)}isDecrypted(){return!1===this.isEncrypted}isDummy(){return!(!this.s2k||"gnu-dummy"!==this.s2k.type)}makeDummy(e=Y){this.isDummy()||(this.isDecrypted()&&this.clearPrivateParams(),this.isEncrypted=null,this.keyMaterial=null,this.s2k=new S2K(e),this.s2k.algorithm=0,this.s2k.c=0,this.s2k.type="gnu-dummy",this.s2kUsage=254,this.symmetric=Q.symmetric.aes256)}async encrypt(e,t=Y){if(this.isDummy())return;if(!this.isDecrypted())throw new Error("Key packet is already encrypted");if(!e)throw new Error("A non-empty passphrase is required for key encryption.");this.s2k=new S2K(t),this.s2k.salt=await mi.random.getRandomBytes(8);const r=mi.serializeParams(this.algorithm,this.privateParams);this.symmetric=Q.symmetric.aes256;const n=await hc(this.s2k,e,this.symmetric),{blockSize:i}=mi.getCipher(this.symmetric);if(this.iv=await mi.random.getRandomBytes(i),t.aeadProtect){this.s2kUsage=253,this.aead=Q.aead.eax;const e=mi.getAEADMode(this.aead),t=await e(this.symmetric,n);this.keyMaterial=await t.encrypt(r,this.iv.subarray(0,e.ivLength),new Uint8Array)}else this.s2kUsage=254,this.keyMaterial=await mi.mode.cfb.encrypt(this.symmetric,n,j.concatUint8Array([r,await mi.hash.sha1(r,t)]),this.iv,t)}async decrypt(e){if(this.isDummy())return!1;if(this.isDecrypted())throw new Error("Key packet is already decrypted.");let t,r;if(254!==this.s2kUsage&&253!==this.s2kUsage)throw 255===this.s2kUsage?new Error("Encrypted private key is authenticated using an insecure two-byte hash"):new Error("Private key is encrypted using an insecure S2K function: unsalted MD5");if(t=await hc(this.s2k,e,this.symmetric),253===this.s2kUsage){const e=mi.getAEADMode(this.aead),n=await e(this.symmetric,t);try{r=await n.decrypt(this.keyMaterial,this.iv.subarray(0,e.ivLength),new Uint8Array)}catch(e){if("Authentication tag mismatch"===e.message)throw new Error("Incorrect key passphrase: "+e.message);throw e}}else{const e=await mi.mode.cfb.decrypt(this.symmetric,t,this.keyMaterial,this.iv);r=e.subarray(0,-20);const n=await mi.hash.sha1(r);if(!j.equalsUint8Array(n,e.subarray(-20)))throw new Error("Incorrect key passphrase")}try{const{privateParams:e}=mi.parsePrivateKeyParams(this.algorithm,r,this.publicParams);this.privateParams=e}catch(e){throw new Error("Error reading MPIs")}this.isEncrypted=!1,this.keyMaterial=null,this.s2kUsage=0}async validate(){if(this.isDummy())return;if(!this.isDecrypted())throw new Error("Key is not decrypted");let e;try{e=await mi.validateParams(this.algorithm,this.publicParams,this.privateParams)}catch(t){e=!1}if(!e)throw new Error("Key is invalid")}async generate(e,t){const{privateParams:r,publicParams:n}=await mi.generateParams(this.algorithm,e,t);this.privateParams=r,this.publicParams=n,this.isEncrypted=!1}clearPrivateParams(){this.isDummy()||(Object.keys(this.privateParams).forEach((e=>{this.privateParams[e].fill(0),delete this.privateParams[e]})),this.privateParams=null,this.isEncrypted=!0)}}async function hc(e,t,r){const{keySize:n}=mi.getCipher(r);return e.produceKey(t,n)}var fc=He((function(e){!function(t){function r(e){function t(){return Se<Ae}function r(){return Se}function i(e){Se=e}function a(){Se=0,Ae=ke.length}function s(e,t){return{name:e,tokens:t||"",semantic:t||"",children:[]}}function o(e,t){var r;return null===t?null:((r=s(e)).tokens=t.tokens,r.semantic=t.semantic,r.children.push(t),r)}function c(e,t){return null!==t&&(e.tokens+=t.tokens,e.semantic+=t.semantic),e.children.push(t),e}function u(e){var r;return t()&&e(r=ke[Se])?(Se+=1,s("token",r)):null}function h(e){return function(){return o("literal",u((function(t){return t===e})))}}function f(){var e=arguments;return function(){var t,n,a,o;for(o=r(),n=s("and"),t=0;t<e.length;t+=1){if(null===(a=e[t]()))return i(o),null;c(n,a)}return n}}function d(){var e=arguments;return function(){var t,n,a;for(a=r(),t=0;t<e.length;t+=1){if(null!==(n=e[t]()))return n;i(a)}return null}}function l(e){return function(){var t,n;return n=r(),null!==(t=e())?t:(i(n),s("opt"))}}function p(e){return function(){var t=e();return null!==t&&(t.semantic=""),t}}function y(e){return function(){var t=e();return null!==t&&t.semantic.length>0&&(t.semantic=" "),t}}function b(e,t){return function(){var n,a,o,u,h;for(u=r(),n=s("star"),o=0,h=void 0===t?0:t;null!==(a=e());)o+=1,c(n,a);return o>=h?n:(i(u),null)}}function m(e){return e.charCodeAt(0)>=128}function g(){return o("cr",h("\r")())}function w(){return o("crlf",f(g,k)())}function v(){return o("dquote",h('"')())}function _(){return o("htab",h("\t")())}function k(){return o("lf",h("\n")())}function S(){return o("sp",h(" ")())}function A(){return o("vchar",u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=126;return e.rfc6532&&(n=n||m(t)),n})))}function E(){return o("wsp",d(S,_)())}function P(){var e=o("quoted-pair",d(f(h("\\"),d(A,E)),ne)());return null===e?null:(e.semantic=e.semantic[1],e)}function x(){return o("fws",d(ae,f(l(f(b(E),p(w))),b(E,1)))())}function M(){return o("ctext",d((function(){return u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=39||42<=r&&r<=91||93<=r&&r<=126;return e.rfc6532&&(n=n||m(t)),n}))}),te)())}function C(){return o("ccontent",d(M,P,K)())}function K(){return o("comment",f(h("("),b(f(l(x),C)),l(x),h(")"))())}function D(){return o("cfws",d(f(b(f(l(x),K),1),l(x)),x)())}function I(){return o("atext",u((function(t){var r="a"<=t&&t<="z"||"A"<=t&&t<="Z"||"0"<=t&&t<="9"||["!","#","$","%","&","'","*","+","-","/","=","?","^","_","`","{","|","}","~"].indexOf(t)>=0;return e.rfc6532&&(r=r||m(t)),r})))}function R(){return o("atom",f(y(l(D)),b(I,1),y(l(D)))())}function U(){var e,t;return null===(e=o("dot-atom-text",b(I,1)()))||null!==(t=b(f(h("."),b(I,1)))())&&c(e,t),e}function B(){return o("dot-atom",f(p(l(D)),U,p(l(D)))())}function T(){return o("qtext",d((function(){return u((function(t){var r=t.charCodeAt(0),n=33===r||35<=r&&r<=91||93<=r&&r<=126;return e.rfc6532&&(n=n||m(t)),n}))}),re)())}function z(){return o("qcontent",d(T,P)())}function q(){return o("quoted-string",f(p(l(D)),p(v),b(f(l(y(x)),z)),l(p(x)),p(v),p(l(D)))())}function O(){return o("word",d(R,q)())}function F(){return o("address",d(L,W)())}function L(){return o("mailbox",d(j,J)())}function j(){return o("name-addr",f(l(H),N)())}function N(){return o("angle-addr",d(f(p(l(D)),h("<"),J,h(">"),p(l(D))),se)())}function W(){return o("group",f(H,h(":"),l(V),h(";"),p(l(D)))())}function H(){return o("display-name",(null!==(e=o("phrase",d(ie,b(O,1))()))&&(e.semantic=function(e){return e.replace(/([ \t]|\r\n)+/g," ").replace(/^\s*/,"").replace(/\s*$/,"")}(e.semantic)),e));var e}function $(){return o("mailbox-list",d(f(L,b(f(h(","),L))),ue)())}function G(){return o("address-list",d(f(F,b(f(h(","),F))),he)())}function V(){return o("group-list",d($,p(D),fe)())}function Z(){return o("local-part",d(de,B,q)())}function Q(){return o("dtext",d((function(){return u((function(t){var r=t.charCodeAt(0),n=33<=r&&r<=90||94<=r&&r<=126;return e.rfc6532&&(n=n||m(t)),n}))}),pe)())}function Y(){return o("domain-literal",f(p(l(D)),h("["),b(f(l(x),Q)),l(x),h("]"),p(l(D)))())}function X(){return o("domain",(t=d(le,B,Y)(),e.rejectTLD&&t&&t.semantic&&t.semantic.indexOf(".")<0?null:(t&&(t.semantic=t.semantic.replace(/\s+/g,"")),t)));var t}function J(){return o("addr-spec",f(Z,h("@"),X)())}function ee(){return e.strict?null:o("obs-NO-WS-CTL",u((function(e){var t=e.charCodeAt(0);return 1<=t&&t<=8||11===t||12===t||14<=t&&t<=31||127===t})))}function te(){return e.strict?null:o("obs-ctext",ee())}function re(){return e.strict?null:o("obs-qtext",ee())}function ne(){return e.strict?null:o("obs-qp",f(h("\\"),d(h("\0"),ee,k,g))())}function ie(){return e.strict?null:e.atInDisplayName?o("obs-phrase",f(O,b(d(O,h("."),h("@"),y(D))))()):o("obs-phrase",f(O,b(d(O,h("."),y(D))))())}function ae(){return e.strict?null:o("obs-FWS",b(f(p(l(w)),E),1)())}function se(){return e.strict?null:o("obs-angle-addr",f(p(l(D)),h("<"),oe,J,h(">"),p(l(D)))())}function oe(){return e.strict?null:o("obs-route",f(ce,h(":"))())}function ce(){return e.strict?null:o("obs-domain-list",f(b(d(p(D),h(","))),h("@"),X,b(f(h(","),p(l(D)),l(f(h("@"),X)))))())}function ue(){return e.strict?null:o("obs-mbox-list",f(b(f(p(l(D)),h(","))),L,b(f(h(","),l(f(L,p(D))))))())}function he(){return e.strict?null:o("obs-addr-list",f(b(f(p(l(D)),h(","))),F,b(f(h(","),l(f(F,p(D))))))())}function fe(){return e.strict?null:o("obs-group-list",f(b(f(p(l(D)),h(",")),1),p(l(D)))())}function de(){return e.strict?null:o("obs-local-part",f(O,b(f(h("."),O)))())}function le(){return e.strict?null:o("obs-domain",f(R,b(f(h("."),R)))())}function pe(){return e.strict?null:o("obs-dtext",d(ee,P)())}function ye(e,t){var r,n,i;if(null==t)return null;for(n=[t];n.length>0;){if((i=n.pop()).name===e)return i;for(r=i.children.length-1;r>=0;r-=1)n.push(i.children[r])}return null}function be(e,t){var r,n,i,a,s;if(null==t)return null;for(n=[t],a=[],s={},r=0;r<e.length;r+=1)s[e[r]]=!0;for(;n.length>0;)if((i=n.pop()).name in s)a.push(i);else for(r=i.children.length-1;r>=0;r-=1)n.push(i.children[r]);return a}function me(t){var r,n,i,a,s;if(null===t)return null;for(r=[],n=be(["group","mailbox"],t),i=0;i<n.length;i+=1)"group"===(a=n[i]).name?r.push(ge(a)):"mailbox"===a.name&&r.push(we(a));return s={ast:t,addresses:r},e.simple&&(s=function(e){var t;if(e&&e.addresses)for(t=0;t<e.addresses.length;t+=1)delete e.addresses[t].node;return e}(s)),e.oneResult?function(t){if(!t)return null;if(!e.partial&&t.addresses.length>1)return null;return t.addresses&&t.addresses[0]}(s):e.simple?s&&s.addresses:s}function ge(e){var t,r=ye("display-name",e),n=[],i=be(["mailbox"],e);for(t=0;t<i.length;t+=1)n.push(we(i[t]));return{node:e,parts:{name:r},type:e.name,name:ve(r),addresses:n}}function we(e){var t=ye("display-name",e),r=ye("addr-spec",e),n=function(e,t){var r,n,i,a;if(null==t)return null;for(n=[t],a=[];n.length>0;)for((i=n.pop()).name===e&&a.push(i),r=i.children.length-1;r>=0;r-=1)n.push(i.children[r]);return a}("cfws",e),i=be(["comment"],e),a=ye("local-part",r),s=ye("domain",r);return{node:e,parts:{name:t,address:r,local:a,domain:s,comments:n},type:e.name,name:ve(t),address:ve(r),local:ve(a),domain:ve(s),comments:_e(i),groupName:ve(e.groupName)}}function ve(e){return null!=e?e.semantic:null}function _e(e){var t="";if(e)for(var r=0;r<e.length;r+=1)t+=ve(e[r]);return t}var ke,Se,Ae,Ee,Pe;if(null===(e=n(e,{})))return null;if(ke=e.input,Pe={address:F,"address-list":G,"angle-addr":N,from:function(){return o("from",d($,G)())},group:W,mailbox:L,"mailbox-list":$,"reply-to":function(){return o("reply-to",G())},sender:function(){return o("sender",d(L,F)())}}[e.startAt]||G,!e.strict){if(a(),e.strict=!0,Ee=Pe(ke),e.partial||!t())return me(Ee);e.strict=!1}return a(),Ee=Pe(ke),!e.partial&&t()?null:me(Ee)}function n(e,t){function r(e){return"[object String]"===Object.prototype.toString.call(e)}function n(e){return null==e}var i,a;if(r(e))e={input:e};else if(!function(e){return e===Object(e)}(e))return null;if(!r(e.input))return null;if(!t)return null;for(a in i={oneResult:!1,partial:!1,rejectTLD:!1,rfc6532:!1,simple:!1,startAt:"address-list",strict:!1,atInDisplayName:!1})n(e[a])&&(e[a]=n(t[a])?i[a]:t[a]);return e}r.parseOneAddress=function(e){return r(n(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseAddressList=function(e){return r(n(e,{rfc6532:!0,simple:!0,startAt:"address-list"}))},r.parseFrom=function(e){return r(n(e,{rfc6532:!0,simple:!0,startAt:"from"}))},r.parseSender=function(e){return r(n(e,{oneResult:!0,rfc6532:!0,simple:!0,startAt:"sender"}))},r.parseReplyTo=function(e){return r(n(e,{rfc6532:!0,simple:!0,startAt:"reply-to"}))},e.exports=r}()}));class UserIDPacket{static get tag(){return Q.packet.userID}constructor(){this.userID="",this.name="",this.email="",this.comment=""}static fromObject(e){if(j.isString(e)||e.name&&!j.isString(e.name)||e.email&&!j.isEmailAddress(e.email)||e.comment&&!j.isString(e.comment))throw new Error("Invalid user ID format");const t=new UserIDPacket;Object.assign(t,e);const r=[];return t.name&&r.push(t.name),t.comment&&r.push(`(${t.comment})`),t.email&&r.push(`<${t.email}>`),t.userID=r.join(" "),t}read(e,t=Y){const r=j.decodeUTF8(e);if(r.length>t.maxUserIDLength)throw new Error("User ID string is too long");try{const{name:e,address:t,comments:n}=fc.parseOneAddress({input:r,atInDisplayName:!0});this.comment=n.replace(/^\(|\)$/g,""),this.name=e,this.email=t}catch(e){}this.userID=r}write(){return j.encodeUTF8(this.userID)}equals(e){return e&&e.userID===this.userID}}class SecretSubkeyPacket extends SecretKeyPacket{static get tag(){return Q.packet.secretSubkey}constructor(e=new Date,t=Y){super(e,t)}}const dc=j.constructAllowedPackets([SignaturePacket]);class Signature$2{constructor(e){this.packets=e||new PacketList}write(){return this.packets.write()}armor(e=Y){return se(Q.armor.signature,this.write(),void 0,void 0,void 0,e)}getSigningKeyIDs(){return this.packets.map((e=>e.issuerKeyID))}}async function lc(e,t){const r=new SecretSubkeyPacket(e.date,t);return r.packets=null,r.algorithm=Q.write(Q.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve),await r.computeFingerprintAndKeyID(),r}async function pc(e,t){const r=new SecretKeyPacket(e.date,t);return r.packets=null,r.algorithm=Q.write(Q.publicKey,e.algorithm),await r.generate(e.rsaBits,e.curve,e.config),await r.computeFingerprintAndKeyID(),r}async function yc(e,t,r,n,i=new Date,a){let s,o;for(let c=e.length-1;c>=0;c--)try{(!s||e[c].created>=s.created)&&(await e[c].verify(t,r,n,i,void 0,a),s=e[c])}catch(e){o=e}if(!s)throw j.wrapError(`Could not find valid ${Q.read(Q.signature,r)} signature in key ${t.getKeyID().toHex()}`.replace("certGeneric ","self-").replace(/([a-z])([A-Z])/g,((e,t,r)=>t+" "+r.toLowerCase())),o);return s}function bc(e,t,r=new Date){const n=j.normalizeDate(r);if(null!==n){const r=Sc(e,t);return!(e.created<=n&&n<r)}return!1}async function mc(e,t,r,n){const i={};i.key=t,i.bind=e;const a=new SignaturePacket;return a.signatureType=Q.signature.subkeyBinding,a.publicKeyAlgorithm=t.algorithm,a.hashAlgorithm=await gc(null,e,void 0,void 0,n),r.sign?(a.keyFlags=[Q.keyFlags.signData],a.embeddedSignature=await vc(i,null,e,{signatureType:Q.signature.keyBinding},r.date,void 0,void 0,n)):a.keyFlags=[Q.keyFlags.encryptCommunication|Q.keyFlags.encryptStorage],r.keyExpirationTime>0&&(a.keyExpirationTime=r.keyExpirationTime,a.keyNeverExpires=!1),await a.sign(t,i,r.date),a}async function gc(e,t,r=new Date,n={},i){let a=i.preferredHashAlgorithm,s=a;if(e){const t=await e.getPrimaryUser(r,n,i);t.selfCertification.preferredHashAlgorithms&&([s]=t.selfCertification.preferredHashAlgorithms,a=mi.hash.getHashByteLength(a)<=mi.hash.getHashByteLength(s)?s:a)}switch(Object.getPrototypeOf(t)){case SecretKeyPacket.prototype:case PublicKeyPacket.prototype:case SecretSubkeyPacket.prototype:case PublicSubkeyPacket.prototype:switch(t.algorithm){case Q.publicKey.ecdh:case Q.publicKey.ecdsa:case Q.publicKey.eddsa:s=mi.publicKey.elliptic.getPreferredHashAlgo(t.publicParams.oid)}}return mi.hash.getHashByteLength(a)<=mi.hash.getHashByteLength(s)?s:a}async function wc(e,t=[],r=new Date,n=[],i=Y){const a={symmetric:Q.symmetric.aes128,aead:Q.aead.eax,compression:Q.compression.uncompressed}[e],s={symmetric:i.preferredSymmetricAlgorithm,aead:i.preferredAEADAlgorithm,compression:i.preferredCompressionAlgorithm}[e],o={symmetric:"preferredSymmetricAlgorithms",aead:"preferredAEADAlgorithms",compression:"preferredCompressionAlgorithms"}[e],c=await Promise.all(t.map((async function(e,t){const a=(await e.getPrimaryUser(r,n[t],i)).selfCertification[o];return!!a&&a.indexOf(s)>=0})));return c.every(Boolean)?s:a}async function vc(e,t,r,n,i,a,s=!1,o){if(r.isDummy())throw new Error("Cannot sign with a gnu-dummy key.");if(!r.isDecrypted())throw new Error("Signing key is not decrypted.");const c=new SignaturePacket;return Object.assign(c,n),c.publicKeyAlgorithm=r.algorithm,c.hashAlgorithm=await gc(t,r,i,a,o),await c.sign(r,e,i,s),c}async function _c(e,t,r,n=new Date,i){(e=e[r])&&(t[r].length?await Promise.all(e.map((async function(e){e.isExpired(n)||i&&!await i(e)||t[r].some((function(t){return j.equalsUint8Array(t.writeParams(),e.writeParams())}))||t[r].push(e)}))):t[r]=e)}async function kc(e,t,r,n,i,a,s=new Date,o){a=a||e;const c=[];return await Promise.all(n.map((async function(e){try{i&&!e.issuerKeyID.equals(i.issuerKeyID)||(await e.verify(a,t,r,o.revocationsExpire?s:null,!1,o),c.push(e.issuerKeyID))}catch(e){}}))),i?(i.revoked=!!c.some((e=>e.equals(i.issuerKeyID)))||(i.revoked||!1),i.revoked):c.length>0}function Sc(e,t){let r;return!1===t.keyNeverExpires&&(r=e.created.getTime()+1e3*t.keyExpirationTime),r?new Date(r):1/0}function Ac(e,t={}){switch(e.type=e.type||t.type,e.curve=e.curve||t.curve,e.rsaBits=e.rsaBits||t.rsaBits,e.keyExpirationTime=void 0!==e.keyExpirationTime?e.keyExpirationTime:t.keyExpirationTime,e.passphrase=j.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e.sign=e.sign||!1,e.type){case"ecc":try{e.curve=Q.write(Q.curve,e.curve)}catch(e){throw new Error("Unknown curve")}e.curve!==Q.curve.ed25519&&e.curve!==Q.curve.curve25519||(e.curve=e.sign?Q.curve.ed25519:Q.curve.curve25519),e.sign?e.algorithm=e.curve===Q.curve.ed25519?Q.publicKey.eddsa:Q.publicKey.ecdsa:e.algorithm=Q.publicKey.ecdh;break;case"rsa":e.algorithm=Q.publicKey.rsaEncryptSign;break;default:throw new Error(`Unsupported key type ${e.type}`)}return e}function Ec(e,t){const r=e.algorithm;return r!==Q.publicKey.rsaEncrypt&&r!==Q.publicKey.elgamal&&r!==Q.publicKey.ecdh&&(!t.keyFlags||0!=(t.keyFlags[0]&Q.keyFlags.signData))}function Pc(e,t){const r=e.algorithm;return r!==Q.publicKey.dsa&&r!==Q.publicKey.rsaSign&&r!==Q.publicKey.ecdsa&&r!==Q.publicKey.eddsa&&(!t.keyFlags||0!=(t.keyFlags[0]&Q.keyFlags.encryptCommunication)||0!=(t.keyFlags[0]&Q.keyFlags.encryptStorage))}function xc(e,t){return!!t.allowInsecureDecryptionWithSigningKeys||(!e.keyFlags||0!=(e.keyFlags[0]&Q.keyFlags.encryptCommunication)||0!=(e.keyFlags[0]&Q.keyFlags.encryptStorage))}function Mc(e,t){const r=Q.write(Q.publicKey,e.algorithm),n=e.getAlgorithmInfo();if(t.rejectPublicKeyAlgorithms.has(r))throw new Error(`${n.algorithm} keys are considered too weak.`);switch(r){case Q.publicKey.rsaEncryptSign:case Q.publicKey.rsaSign:case Q.publicKey.rsaEncrypt:if(n.bits<t.minRSABits)throw new Error(`RSA keys shorter than ${t.minRSABits} bits are considered too weak.`);break;case Q.publicKey.ecdsa:case Q.publicKey.eddsa:case Q.publicKey.ecdh:if(t.rejectCurves.has(n.curve))throw new Error(`Support for ${n.algorithm} keys using curve ${n.curve} is disabled.`)}}class User{constructor(e,t){this.userID=e.constructor.tag===Q.packet.userID?e:null,this.userAttribute=e.constructor.tag===Q.packet.userAttribute?e:null,this.selfCertifications=[],this.otherCertifications=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new PacketList;return e.push(this.userID||this.userAttribute),e.push(...this.revocationSignatures),e.push(...this.selfCertifications),e.push(...this.otherCertifications),e}clone(){const e=new User(this.userID||this.userAttribute,this.mainKey);return e.selfCertifications=[...this.selfCertifications],e.otherCertifications=[...this.otherCertifications],e.revocationSignatures=[...this.revocationSignatures],e}async certify(e,t,r){const n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n},a=new User(i.userID||i.userAttribute,this.mainKey);return a.otherCertifications=await Promise.all(e.map((async function(e){if(!e.isPrivate())throw new Error("Need private key for signing");if(e.hasSameFingerprintAs(n))throw new Error("The user's own key can only be used for self-certifications");const a=await e.getSigningKey(void 0,t,void 0,r);return vc(i,e,a.keyPacket,{signatureType:Q.signature.certGeneric,keyFlags:[Q.keyFlags.certifyKeys|Q.keyFlags.signData]},t,void 0,void 0,r)}))),await a.update(this,t,r),a}async isRevoked(e,t,r=new Date,n){const i=this.mainKey.keyPacket;return kc(i,Q.signature.certRevocation,{key:i,userID:this.userID,userAttribute:this.userAttribute},this.revocationSignatures,e,t,r,n)}async verifyCertificate(e,t,r=new Date,n){const i=this,a=this.mainKey.keyPacket,s={userID:this.userID,userAttribute:this.userAttribute,key:a},{issuerKeyID:o}=e,c=t.filter((e=>e.getKeys(o).length>0));return 0===c.length?null:(await Promise.all(c.map((async t=>{const a=await t.getSigningKey(o,e.created,void 0,n);if(e.revoked||await i.isRevoked(e,a.keyPacket,r,n))throw new Error("User certificate is revoked");try{await e.verify(a.keyPacket,Q.signature.certGeneric,s,r,void 0,n)}catch(e){throw j.wrapError("User certificate is invalid",e)}}))),!0)}async verifyAllCertifications(e,t=new Date,r){const n=this,i=this.selfCertifications.concat(this.otherCertifications);return Promise.all(i.map((async i=>({keyID:i.issuerKeyID,valid:await n.verifyCertificate(i,e,t,r).catch((()=>!1))}))))}async verify(e=new Date,t){if(!this.selfCertifications.length)throw new Error("No self-certifications found");const r=this,n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n};let a;for(let s=this.selfCertifications.length-1;s>=0;s--)try{const a=this.selfCertifications[s];if(a.revoked||await r.isRevoked(a,void 0,e,t))throw new Error("Self-certification is revoked");try{await a.verify(n,Q.signature.certGeneric,i,e,void 0,t)}catch(e){throw j.wrapError("Self-certification is invalid",e)}return!0}catch(e){a=e}throw a}async update(e,t,r){const n=this.mainKey.keyPacket,i={userID:this.userID,userAttribute:this.userAttribute,key:n};await _c(e,this,"selfCertifications",t,(async function(e){try{return await e.verify(n,Q.signature.certGeneric,i,t,!1,r),!0}catch(e){return!1}})),await _c(e,this,"otherCertifications",t),await _c(e,this,"revocationSignatures",t,(function(e){return kc(n,Q.signature.certRevocation,i,[e],void 0,void 0,t,r)}))}}class Subkey{constructor(e,t){this.keyPacket=e,this.bindingSignatures=[],this.revocationSignatures=[],this.mainKey=t}toPacketList(){const e=new PacketList;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.bindingSignatures),e}clone(){const e=new Subkey(this.keyPacket,this.mainKey);return e.bindingSignatures=[...this.bindingSignatures],e.revocationSignatures=[...this.revocationSignatures],e}async isRevoked(e,t,r=new Date,n=Y){const i=this.mainKey.keyPacket;return kc(i,Q.signature.subkeyRevocation,{key:i,bind:this.keyPacket},this.revocationSignatures,e,t,r,n)}async verify(e=new Date,t=Y){const r=this.mainKey.keyPacket,n={key:r,bind:this.keyPacket},i=await yc(this.bindingSignatures,r,Q.signature.subkeyBinding,n,e,t);if(i.revoked||await this.isRevoked(i,null,e,t))throw new Error("Subkey is revoked");if(bc(this.keyPacket,i,e))throw new Error("Subkey is expired");return i}async getExpirationTime(e=new Date,t=Y){const r=this.mainKey.keyPacket,n={key:r,bind:this.keyPacket};let i;try{i=await yc(this.bindingSignatures,r,Q.signature.subkeyBinding,n,e,t)}catch(e){return null}const a=Sc(this.keyPacket,i),s=i.getExpirationTime();return a<s?a:s}async update(e,t=new Date,r=Y){const n=this.mainKey.keyPacket;if(!this.hasSameFingerprintAs(e))throw new Error("Subkey update method: fingerprints of subkeys not equal");this.keyPacket.constructor.tag===Q.packet.publicSubkey&&e.keyPacket.constructor.tag===Q.packet.secretSubkey&&(this.keyPacket=e.keyPacket);const i=this,a={key:n,bind:i.keyPacket};await _c(e,this,"bindingSignatures",t,(async function(e){for(let t=0;t<i.bindingSignatures.length;t++)if(i.bindingSignatures[t].issuerKeyID.equals(e.issuerKeyID))return e.created>i.bindingSignatures[t].created&&(i.bindingSignatures[t]=e),!1;try{return await e.verify(n,Q.signature.subkeyBinding,a,t,void 0,r),!0}catch(e){return!1}})),await _c(e,this,"revocationSignatures",t,(function(e){return kc(n,Q.signature.subkeyRevocation,a,[e],void 0,void 0,t,r)}))}async revoke(e,{flag:t=Q.reasonForRevocation.noReason,string:r=""}={},n=new Date,i=Y){const a={key:e,bind:this.keyPacket},s=new Subkey(this.keyPacket,this.mainKey);return s.revocationSignatures.push(await vc(a,null,e,{signatureType:Q.signature.subkeyRevocation,reasonForRevocationFlag:Q.write(Q.reasonForRevocation,t),reasonForRevocationString:r},n,void 0,!1,i)),await s.update(this),s}hasSameFingerprintAs(e){return this.keyPacket.hasSameFingerprintAs(e.keyPacket||e)}}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","isDecrypted"].forEach((e=>{Subkey.prototype[e]=function(){return this.keyPacket[e]()}}));const Cc=j.constructAllowedPackets([SignaturePacket]),Kc=new Set([Q.packet.publicKey,Q.packet.privateKey]),Dc=new Set([Q.packet.publicKey,Q.packet.privateKey,Q.packet.publicSubkey,Q.packet.privateSubkey]);class Key{packetListToStructure(e,t=new Set){let r,n,i,a;for(const s of e){if(s instanceof UnparseablePacket){Dc.has(s.tag)&&!a&&(a=Kc.has(s.tag)?Kc:Dc);continue}const e=s.constructor.tag;if(a){if(!a.has(e))continue;a=null}if(t.has(e))throw new Error(`Unexpected packet type: ${e}`);switch(e){case Q.packet.publicKey:case Q.packet.secretKey:if(this.keyPacket)throw new Error("Key block contains multiple keys");if(this.keyPacket=s,n=this.getKeyID(),!n)throw new Error("Missing Key ID");break;case Q.packet.userID:case Q.packet.userAttribute:r=new User(s,this),this.users.push(r);break;case Q.packet.publicSubkey:case Q.packet.secretSubkey:r=null,i=new Subkey(s,this),this.subkeys.push(i);break;case Q.packet.signature:switch(s.signatureType){case Q.signature.certGeneric:case Q.signature.certPersona:case Q.signature.certCasual:case Q.signature.certPositive:if(!r)continue;s.issuerKeyID.equals(n)?r.selfCertifications.push(s):r.otherCertifications.push(s);break;case Q.signature.certRevocation:r?r.revocationSignatures.push(s):this.directSignatures.push(s);break;case Q.signature.key:this.directSignatures.push(s);break;case Q.signature.subkeyBinding:if(!i)continue;i.bindingSignatures.push(s);break;case Q.signature.keyRevocation:this.revocationSignatures.push(s);break;case Q.signature.subkeyRevocation:if(!i)continue;i.revocationSignatures.push(s)}}}}toPacketList(){const e=new PacketList;return e.push(this.keyPacket),e.push(...this.revocationSignatures),e.push(...this.directSignatures),this.users.map((t=>e.push(...t.toPacketList()))),this.subkeys.map((t=>e.push(...t.toPacketList()))),e}clone(e=!1){const t=new this.constructor(this.toPacketList());return e&&t.getKeys().forEach((e=>{if(e.keyPacket=Object.create(Object.getPrototypeOf(e.keyPacket),Object.getOwnPropertyDescriptors(e.keyPacket)),!e.keyPacket.isDecrypted())return;const t={};Object.keys(e.keyPacket.privateParams).forEach((r=>{t[r]=new Uint8Array(e.keyPacket.privateParams[r])})),e.keyPacket.privateParams=t})),t}getSubkeys(e=null){return this.subkeys.filter((t=>!e||t.getKeyID().equals(e,!0)))}getKeys(e=null){const t=[];return e&&!this.getKeyID().equals(e,!0)||t.push(this),t.concat(this.getSubkeys(e))}getKeyIDs(){return this.getKeys().map((e=>e.getKeyID()))}getUserIDs(){return this.users.map((e=>e.userID?e.userID.userID:null)).filter((e=>null!==e))}write(){return this.toPacketList().write()}async getSigningKey(e=null,t=new Date,r={},n=Y){await this.verifyPrimaryKey(t,r,n);const i=this.keyPacket,a=this.subkeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let s;for(const r of a)if(!e||r.getKeyID().equals(e))try{await r.verify(t,n);const e={key:i,bind:r.keyPacket},a=await yc(r.bindingSignatures,i,Q.signature.subkeyBinding,e,t,n);if(!Ec(r.keyPacket,a))continue;if(!a.embeddedSignature)throw new Error("Missing embedded signature");return await yc([a.embeddedSignature],r.keyPacket,Q.signature.keyBinding,e,t,n),Mc(r.keyPacket,n),r}catch(e){s=e}try{const a=await this.getPrimaryUser(t,r,n);if((!e||i.getKeyID().equals(e))&&Ec(i,a.selfCertification))return Mc(i,n),this}catch(e){s=e}throw j.wrapError("Could not find valid signing key packet in key "+this.getKeyID().toHex(),s)}async getEncryptionKey(e,t=new Date,r={},n=Y){await this.verifyPrimaryKey(t,r,n);const i=this.keyPacket,a=this.subkeys.slice().sort(((e,t)=>t.keyPacket.created-e.keyPacket.created));let s;for(const r of a)if(!e||r.getKeyID().equals(e))try{await r.verify(t,n);const e={key:i,bind:r.keyPacket},a=await yc(r.bindingSignatures,i,Q.signature.subkeyBinding,e,t,n);if(Pc(r.keyPacket,a))return Mc(r.keyPacket,n),r}catch(e){s=e}try{const a=await this.getPrimaryUser(t,r,n);if((!e||i.getKeyID().equals(e))&&Pc(i,a.selfCertification))return Mc(i,n),this}catch(e){s=e}throw j.wrapError("Could not find valid encryption key packet in key "+this.getKeyID().toHex(),s)}async isRevoked(e,t,r=new Date,n=Y){return kc(this.keyPacket,Q.signature.keyRevocation,{key:this.keyPacket},this.revocationSignatures,e,t,r,n)}async verifyPrimaryKey(e=new Date,t={},r=Y){const n=this.keyPacket;if(await this.isRevoked(null,null,e,r))throw new Error("Primary key is revoked");const{selfCertification:i}=await this.getPrimaryUser(e,t,r);if(bc(n,i,e))throw new Error("Primary key is expired");const a=await yc(this.directSignatures,n,Q.signature.key,{key:n},e,r).catch((()=>{}));if(a&&bc(n,a,e))throw new Error("Primary key is expired")}async getExpirationTime(e,t=Y){let r;try{const{selfCertification:n}=await this.getPrimaryUser(null,e,t),i=Sc(this.keyPacket,n),a=n.getExpirationTime(),s=await yc(this.directSignatures,this.keyPacket,Q.signature.key,{key:this.keyPacket},null,t).catch((()=>{}));if(s){const e=Sc(this.keyPacket,s);r=Math.min(i,a,e)}else r=i<a?i:a}catch(e){r=null}return j.normalizeDate(r)}async getPrimaryUser(e=new Date,t={},r=Y){const n=this.keyPacket,i=[];let a;for(let s=0;s<this.users.length;s++)try{const a=this.users[s];if(!a.userID)continue;if(void 0!==t.name&&a.userID.name!==t.name||void 0!==t.email&&a.userID.email!==t.email||void 0!==t.comment&&a.userID.comment!==t.comment)throw new Error("Could not find user that matches that user ID");const o={userID:a.userID,key:n},c=await yc(a.selfCertifications,n,Q.signature.certGeneric,o,e,r);i.push({index:s,user:a,selfCertification:c})}catch(e){a=e}if(!i.length)throw a||new Error("Could not find primary user");await Promise.all(i.map((async function(t){return t.user.revoked||t.user.isRevoked(t.selfCertification,null,e,r)})));const s=i.sort((function(e,t){const r=e.selfCertification,n=t.selfCertification;return n.revoked-r.revoked||r.isPrimaryUserID-n.isPrimaryUserID||r.created-n.created})).pop(),{user:o,selfCertification:c}=s;if(c.revoked||await o.isRevoked(c,null,e,r))throw new Error("Primary user is revoked");return s}async update(e,t=new Date,r=Y){if(!this.hasSameFingerprintAs(e))throw new Error("Primary key fingerprints must be equal to update the key");if(!this.isPrivate()&&e.isPrivate()){if(!(this.subkeys.length===e.subkeys.length&&this.subkeys.every((t=>e.subkeys.some((e=>t.hasSameFingerprintAs(e)))))))throw new Error("Cannot update public key with private key if subkeys mismatch");return e.update(this,r)}const n=this.clone();return await _c(e,n,"revocationSignatures",t,(i=>kc(n.keyPacket,Q.signature.keyRevocation,n,[i],null,e.keyPacket,t,r))),await _c(e,n,"directSignatures",t),await Promise.all(e.users.map((async e=>{const i=n.users.filter((t=>e.userID&&e.userID.equals(t.userID)||e.userAttribute&&e.userAttribute.equals(t.userAttribute)));if(i.length>0)await Promise.all(i.map((n=>n.update(e,t,r))));else{const t=e.clone();t.mainKey=n,n.users.push(t)}}))),await Promise.all(e.subkeys.map((async e=>{const i=n.subkeys.filter((t=>t.hasSameFingerprintAs(e)));if(i.length>0)await Promise.all(i.map((n=>n.update(e,t,r))));else{const t=e.clone();t.mainKey=n,n.subkeys.push(t)}}))),n}async getRevocationCertificate(e=new Date,t=Y){const r={key:this.keyPacket},n=await yc(this.revocationSignatures,this.keyPacket,Q.signature.keyRevocation,r,e,t),i=new PacketList;return i.push(n),se(Q.armor.publicKey,i.write(),null,null,"This is a revocation certificate")}async applyRevocationCertificate(e,t=new Date,r=Y){const n=await ae(e,r),i=(await PacketList.fromBinary(n.data,Cc,r)).findPacket(Q.packet.signature);if(!i||i.signatureType!==Q.signature.keyRevocation)throw new Error("Could not find revocation signature packet");if(!i.issuerKeyID.equals(this.getKeyID()))throw new Error("Revocation signature does not match key");try{await i.verify(this.keyPacket,Q.signature.keyRevocation,{key:this.keyPacket},t,void 0,r)}catch(e){throw j.wrapError("Could not verify revocation signature",e)}const a=this.clone();return a.revocationSignatures.push(i),a}async signPrimaryUser(e,t,r,n=Y){const{index:i,user:a}=await this.getPrimaryUser(t,r,n),s=await a.certify(e,t,n),o=this.clone();return o.users[i]=s,o}async signAllUsers(e,t=new Date,r=Y){const n=this.clone();return n.users=await Promise.all(this.users.map((function(n){return n.certify(e,t,r)}))),n}async verifyPrimaryUser(e,t=new Date,r,n=Y){const i=this.keyPacket,{user:a}=await this.getPrimaryUser(t,r,n);return e?await a.verifyAllCertifications(e,t,n):[{keyID:i.getKeyID(),valid:await a.verify(t,n).catch((()=>!1))}]}async verifyAllUsers(e,t=new Date,r=Y){const n=this.keyPacket,i=[];return await Promise.all(this.users.map((async a=>{const s=e?await a.verifyAllCertifications(e,t,r):[{keyID:n.getKeyID(),valid:await a.verify(t,r).catch((()=>!1))}];i.push(...s.map((e=>({userID:a.userID.userID,keyID:e.keyID,valid:e.valid}))))}))),i}}function Ic(e){for(const t of e)switch(t.constructor.tag){case Q.packet.secretKey:return new PrivateKey(e);case Q.packet.publicKey:return new PublicKey(e)}throw new Error("No key packet found")}["getKeyID","getFingerprint","getAlgorithmInfo","getCreationTime","hasSameFingerprintAs"].forEach((e=>{Key.prototype[e]=Subkey.prototype[e]}));class PublicKey extends Key{constructor(e){if(super(),this.keyPacket=null,this.revocationSignatures=[],this.directSignatures=[],this.users=[],this.subkeys=[],e&&(this.packetListToStructure(e,new Set([Q.packet.secretKey,Q.packet.secretSubkey])),!this.keyPacket))throw new Error("Invalid key: missing public-key packet")}isPrivate(){return!1}toPublic(){return this}armor(e=Y){return se(Q.armor.publicKey,this.toPacketList().write(),void 0,void 0,void 0,e)}}class PrivateKey extends PublicKey{constructor(e){if(super(),this.packetListToStructure(e,new Set([Q.packet.publicKey,Q.packet.publicSubkey])),!this.keyPacket)throw new Error("Invalid key: missing private-key packet")}isPrivate(){return!0}toPublic(){const e=new PacketList,t=this.toPacketList();for(const r of t)switch(r.constructor.tag){case Q.packet.secretKey:{const t=PublicKeyPacket.fromSecretKeyPacket(r);e.push(t);break}case Q.packet.secretSubkey:{const t=PublicSubkeyPacket.fromSecretSubkeyPacket(r);e.push(t);break}default:e.push(r)}return new PublicKey(e)}armor(e=Y){return se(Q.armor.privateKey,this.toPacketList().write(),void 0,void 0,void 0,e)}async getDecryptionKeys(e,t=new Date,r={},n=Y){const i=this.keyPacket,a=[];for(let r=0;r<this.subkeys.length;r++)if(!e||this.subkeys[r].getKeyID().equals(e,!0))try{const e={key:i,bind:this.subkeys[r].keyPacket};xc(await yc(this.subkeys[r].bindingSignatures,i,Q.signature.subkeyBinding,e,t,n),n)&&a.push(this.subkeys[r])}catch(e){}const s=await this.getPrimaryUser(t,r,n);return e&&!i.getKeyID().equals(e,!0)||!xc(s.selfCertification,n)||a.push(this),a}isDecrypted(){return this.getKeys().some((({keyPacket:e})=>e.isDecrypted()))}async validate(e=Y){if(!this.isPrivate())throw new Error("Cannot validate a public key");let t;if(this.keyPacket.isDummy()){const r=await this.getSigningKey(null,null,void 0,{...e,rejectPublicKeyAlgorithms:new Set,minRSABits:0});r&&!r.keyPacket.isDummy()&&(t=r.keyPacket)}else t=this.keyPacket;if(t)return t.validate();{const e=this.getKeys(),t=e.map((e=>e.keyPacket.isDummy())).every(Boolean);if(t)throw new Error("Cannot validate an all-gnu-dummy key");return Promise.all(e.map((async e=>e.keyPacket.validate())))}}clearPrivateParams(){this.getKeys().forEach((({keyPacket:e})=>{e.isDecrypted()&&e.clearPrivateParams()}))}async revoke({flag:e=Q.reasonForRevocation.noReason,string:t=""}={},r=new Date,n=Y){if(!this.isPrivate())throw new Error("Need private key for revoking");const i={key:this.keyPacket},a=this.clone();return a.revocationSignatures.push(await vc(i,null,this.keyPacket,{signatureType:Q.signature.keyRevocation,reasonForRevocationFlag:Q.write(Q.reasonForRevocation,e),reasonForRevocationString:t},r,void 0,void 0,n)),a}async addSubkey(e={}){const t={...Y,...e.config};if(e.passphrase)throw new Error("Subkey could not be encrypted here, please encrypt whole key");if(e.rsaBits<t.minRSABits)throw new Error(`rsaBits should be at least ${t.minRSABits}, got: ${e.rsaBits}`);const r=this.keyPacket;if(r.isDummy())throw new Error("Cannot add subkey to gnu-dummy primary key");if(!r.isDecrypted())throw new Error("Key is not decrypted");const n=r.getAlgorithmInfo();n.type=n.curve?"ecc":"rsa",n.rsaBits=n.bits||4096,n.curve=n.curve||"curve25519",e=Ac(e,n);const i=await lc(e);Mc(i,t);const a=await mc(i,r,e,t),s=this.toPacketList();return s.push(i,a),new PrivateKey(s)}}const Rc=j.constructAllowedPackets([PublicKeyPacket,PublicSubkeyPacket,SecretKeyPacket,SecretSubkeyPacket,UserIDPacket,UserAttributePacket,SignaturePacket]);async function Uc(e,t,r,n){r.passphrase&&await e.encrypt(r.passphrase,n),await Promise.all(t.map((async function(e,t){const i=r.subkeys[t].passphrase;i&&await e.encrypt(i,n)})));const i=new PacketList;i.push(e),await Promise.all(r.userIDs.map((async function(t,i){function a(e,t){return[t,...e.filter((e=>e!==t))]}const s=UserIDPacket.fromObject(t),o={};o.userID=s,o.key=e;const c=new SignaturePacket;return c.signatureType=Q.signature.certGeneric,c.publicKeyAlgorithm=e.algorithm,c.hashAlgorithm=await gc(null,e,void 0,void 0,n),c.keyFlags=[Q.keyFlags.certifyKeys|Q.keyFlags.signData],c.preferredSymmetricAlgorithms=a([Q.symmetric.aes256,Q.symmetric.aes128,Q.symmetric.aes192],n.preferredSymmetricAlgorithm),n.aeadProtect&&(c.preferredAEADAlgorithms=a([Q.aead.eax,Q.aead.ocb],n.preferredAEADAlgorithm)),c.preferredHashAlgorithms=a([Q.hash.sha256,Q.hash.sha512],n.preferredHashAlgorithm),c.preferredCompressionAlgorithms=a([Q.compression.zlib,Q.compression.zip,Q.compression.uncompressed],n.preferredCompressionAlgorithm),0===i&&(c.isPrimaryUserID=!0),c.features=[0],c.features[0]|=Q.features.modificationDetection,n.aeadProtect&&(c.features[0]|=Q.features.aead),n.v5Keys&&(c.features[0]|=Q.features.v5Keys),r.keyExpirationTime>0&&(c.keyExpirationTime=r.keyExpirationTime,c.keyNeverExpires=!1),await c.sign(e,o,r.date),{userIDPacket:s,signaturePacket:c}}))).then((e=>{e.forEach((({userIDPacket:e,signaturePacket:t})=>{i.push(e),i.push(t)}))})),await Promise.all(t.map((async function(t,i){const a=r.subkeys[i];return{secretSubkeyPacket:t,subkeySignaturePacket:await mc(t,e,a,n)}}))).then((e=>{e.forEach((({secretSubkeyPacket:e,subkeySignaturePacket:t})=>{i.push(e),i.push(t)}))}));const a={key:e};return i.push(await vc(a,null,e,{signatureType:Q.signature.keyRevocation,reasonForRevocationFlag:Q.reasonForRevocation.noReason,reasonForRevocationString:""},r.date,void 0,void 0,n)),r.passphrase&&e.clearPrivateParams(),await Promise.all(t.map((async function(e,t){r.subkeys[t].passphrase&&e.clearPrivateParams()}))),new PrivateKey(i)}const Bc=j.constructAllowedPackets([LiteralDataPacket,CompressedDataPacket,AEADEncryptedDataPacket,SymEncryptedIntegrityProtectedDataPacket,SymmetricallyEncryptedDataPacket,PublicKeyEncryptedSessionKeyPacket,SymEncryptedSessionKeyPacket,OnePassSignaturePacket,SignaturePacket]),Tc=j.constructAllowedPackets([SymEncryptedSessionKeyPacket]),zc=j.constructAllowedPackets([SignaturePacket]);class Message{constructor(e){this.packets=e||new PacketList}getEncryptionKeyIDs(){const e=[];return this.packets.filterByTag(Q.packet.publicKeyEncryptedSessionKey).forEach((function(t){e.push(t.publicKeyID)})),e}getSigningKeyIDs(){const e=this.unwrapCompressed(),t=e.packets.filterByTag(Q.packet.onePassSignature);if(t.length>0)return t.map((e=>e.issuerKeyID));return e.packets.filterByTag(Q.packet.signature).map((e=>e.issuerKeyID))}async decrypt(e,t,r,n=new Date,i=Y){const a=r||await this.decryptSessionKeys(e,t,n,i),s=this.packets.filterByTag(Q.packet.symmetricallyEncryptedData,Q.packet.symEncryptedIntegrityProtectedData,Q.packet.aeadEncryptedData);if(0===s.length)throw new Error("No encrypted data found");const o=s[0];let c=null;const u=Promise.all(a.map((async({algorithm:e,data:t})=>{if(!j.isUint8Array(t)||!j.isString(e))throw new Error("Invalid session key for decryption.");try{const r=Q.write(Q.symmetric,e);await o.decrypt(r,t,i)}catch(e){c=e}})));if(F(o.encrypted),o.encrypted=null,await u,!o.packets||!o.packets.length)throw c||new Error("Decryption failed.");const h=new Message(o.packets);return o.packets=new PacketList,h}async decryptSessionKeys(e,t,r=new Date,n=Y){let i,a=[];if(t){const e=this.packets.filterByTag(Q.packet.symEncryptedSessionKey);if(0===e.length)throw new Error("No symmetrically encrypted session key packet found.");await Promise.all(t.map((async function(t,r){let i;i=r?await PacketList.fromBinary(e.write(),Tc,n):e,await Promise.all(i.map((async function(e){try{await e.decrypt(t),a.push(e)}catch(e){}})))})))}else{if(!e)throw new Error("No key or password specified.");{const t=this.packets.filterByTag(Q.packet.publicKeyEncryptedSessionKey);if(0===t.length)throw new Error("No public key encrypted session key packet found.");await Promise.all(t.map((async function(t){await Promise.all(e.map((async function(e){let s=[Q.symmetric.aes256,Q.symmetric.aes128,Q.symmetric.tripledes,Q.symmetric.cast5];try{const t=await e.getPrimaryUser(r,void 0,n);t.selfCertification.preferredSymmetricAlgorithms&&(s=s.concat(t.selfCertification.preferredSymmetricAlgorithms))}catch(e){}const o=(await e.getDecryptionKeys(t.publicKeyID,null,void 0,n)).map((e=>e.keyPacket));await Promise.all(o.map((async function(e){if(!e||e.isDummy())return;if(!e.isDecrypted())throw new Error("Decryption key is not decrypted.");if(n.constantTimePKCS1Decryption&&(t.publicKeyAlgorithm===Q.publicKey.rsaEncrypt||t.publicKeyAlgorithm===Q.publicKey.rsaEncryptSign||t.publicKeyAlgorithm===Q.publicKey.rsaSign||t.publicKeyAlgorithm===Q.publicKey.elgamal)){const r=t.write();await Promise.all(Array.from(n.constantTimePKCS1DecryptionSupportedSymmetricAlgorithms).map((async t=>{const n=new PublicKeyEncryptedSessionKeyPacket;n.read(r);const s={sessionKeyAlgorithm:t,sessionKey:await mi.generateSessionKey(t)};try{await n.decrypt(e,s),a.push(n)}catch(e){i=e}})))}else try{if(await t.decrypt(e),!s.includes(Q.write(Q.symmetric,t.sessionKeyAlgorithm)))throw new Error("A non-preferred symmetric algorithm was used.");a.push(t)}catch(e){i=e}})))}))),F(t.encrypted),t.encrypted=null})))}}if(a.length>0){if(a.length>1){const e=new Set;a=a.filter((t=>{const r=t.sessionKeyAlgorithm+j.uint8ArrayToString(t.sessionKey);return!e.has(r)&&(e.add(r),!0)}))}return a.map((e=>({data:e.sessionKey,algorithm:Q.read(Q.symmetric,e.sessionKeyAlgorithm)})))}throw i||new Error("Session key decryption failed.")}getLiteralData(){const e=this.unwrapCompressed().packets.findPacket(Q.packet.literalData);return e&&e.getBytes()||null}getFilename(){const e=this.unwrapCompressed().packets.findPacket(Q.packet.literalData);return e&&e.getFilename()||null}getText(){const e=this.unwrapCompressed().packets.findPacket(Q.packet.literalData);return e?e.getText():null}static async generateSessionKey(e=[],t=new Date,r=[],n=Y){const i=await wc("symmetric",e,t,r,n),a=Q.read(Q.symmetric,i),s=n.aeadProtect&&await async function(e,t=new Date,r=[],n=Y){let i=!0;return await Promise.all(e.map((async function(e,a){const s=await e.getPrimaryUser(t,r[a],n);s.selfCertification.features&&s.selfCertification.features[0]&Q.features.aead||(i=!1)}))),i}(e,t,r,n)?Q.read(Q.aead,await wc("aead",e,t,r,n)):void 0;return{data:await mi.generateSessionKey(i),algorithm:a,aeadAlgorithm:s}}async encrypt(e,t,r,n=!1,i=[],a=new Date,s=[],o=Y){if(r){if(!j.isUint8Array(r.data)||!j.isString(r.algorithm))throw new Error("Invalid session key for encryption.")}else if(e&&e.length)r=await Message.generateSessionKey(e,a,s,o);else{if(!t||!t.length)throw new Error("No keys, passwords, or session key provided.");r=await Message.generateSessionKey(void 0,void 0,void 0,o)}const{data:c,algorithm:u,aeadAlgorithm:h}=r,f=await Message.encryptSessionKey(c,u,h,e,t,n,i,a,s,o);let d;h?(d=new AEADEncryptedDataPacket,d.aeadAlgorithm=Q.write(Q.aead,h)):d=new SymEncryptedIntegrityProtectedDataPacket,d.packets=this.packets;const l=Q.write(Q.symmetric,u);return await d.encrypt(l,c,o),f.packets.push(d),d.packets=new PacketList,f}static async encryptSessionKey(e,t,r,n,i,a=!1,s=[],o=new Date,c=[],u=Y){const h=new PacketList,f=Q.write(Q.symmetric,t),d=r&&Q.write(Q.aead,r);if(n){const t=await Promise.all(n.map((async function(t,r){const n=await t.getEncryptionKey(s[r],o,c,u),i=new PublicKeyEncryptedSessionKeyPacket;return i.publicKeyID=a?KeyID.wildcard():n.getKeyID(),i.publicKeyAlgorithm=n.keyPacket.algorithm,i.sessionKey=e,i.sessionKeyAlgorithm=f,await i.encrypt(n.keyPacket),delete i.sessionKey,i})));h.push(...t)}if(i){const t=async function(e,t){try{return await e.decrypt(t),1}catch(e){return 0}},r=(e,t)=>e+t,n=async function(e,a,s,o){const c=new SymEncryptedSessionKeyPacket(u);if(c.sessionKey=e,c.sessionKeyAlgorithm=a,s&&(c.aeadAlgorithm=s),await c.encrypt(o,u),u.passwordCollisionCheck){if(1!==(await Promise.all(i.map((e=>t(c,e))))).reduce(r))return n(e,a,o)}return delete c.sessionKey,c},a=await Promise.all(i.map((t=>n(e,f,d,t))));h.push(...a)}return new Message(h)}async sign(e=[],t=null,r=[],n=new Date,i=[],a=Y){const s=new PacketList,o=this.packets.findPacket(Q.packet.literalData);if(!o)throw new Error("No literal data packet to sign.");let c,u;const h=null===o.text?Q.signature.binary:Q.signature.text;if(t)for(u=t.packets.filterByTag(Q.packet.signature),c=u.length-1;c>=0;c--){const t=u[c],r=new OnePassSignaturePacket;r.signatureType=t.signatureType,r.hashAlgorithm=t.hashAlgorithm,r.publicKeyAlgorithm=t.publicKeyAlgorithm,r.issuerKeyID=t.issuerKeyID,e.length||0!==c||(r.flags=1),s.push(r)}return await Promise.all(Array.from(e).reverse().map((async function(t,s){if(!t.isPrivate())throw new Error("Need private key for signing");const o=r[e.length-1-s],c=await t.getSigningKey(o,n,i,a),u=new OnePassSignaturePacket;return u.signatureType=h,u.hashAlgorithm=await gc(t,c.keyPacket,n,i,a),u.publicKeyAlgorithm=c.keyPacket.algorithm,u.issuerKeyID=c.getKeyID(),s===e.length-1&&(u.flags=1),u}))).then((e=>{e.forEach((e=>s.push(e)))})),s.push(o),s.push(...await qc(o,e,t,r,n,i,!1,a)),new Message(s)}compress(e,t=Y){if(e===Q.compression.uncompressed)return this;const r=new CompressedDataPacket(t);r.algorithm=e,r.packets=this.packets;const n=new PacketList;return n.push(r),new Message(n)}async signDetached(e=[],t=null,r=[],n=new Date,i=[],a=Y){const s=this.packets.findPacket(Q.packet.literalData);if(!s)throw new Error("No literal data packet to sign.");return new Signature$2(await qc(s,e,t,r,n,i,!0,a))}async verify(e,t=new Date,r=Y){const n=this.unwrapCompressed(),i=n.packets.filterByTag(Q.packet.literalData);if(1!==i.length)throw new Error("Can only verify message with one literal data packet.");a(n.packets.stream)&&n.packets.push(...await O(n.packets.stream,(e=>e||[])));const s=n.packets.filterByTag(Q.packet.onePassSignature).reverse(),o=n.packets.filterByTag(Q.packet.signature);return s.length&&!o.length&&j.isStream(n.packets.stream)&&!a(n.packets.stream)?(await Promise.all(s.map((async e=>{e.correspondingSig=new Promise(((t,r)=>{e.correspondingSigResolve=t,e.correspondingSigReject=r})),e.signatureData=L((async()=>(await e.correspondingSig).signatureData)),e.hashed=O(await e.hash(e.signatureType,i[0],void 0,!1)),e.hashed.catch((()=>{}))}))),n.packets.stream=R(n.packets.stream,(async(e,t)=>{const r=x(e),n=M(t);try{for(let e=0;e<s.length;e++){const{value:t}=await r.read();s[e].correspondingSigResolve(t)}await r.readToEnd(),await n.ready,await n.close()}catch(e){s.forEach((t=>{t.correspondingSigReject(e)})),await n.abort(e)}})),Oc(s,i,e,t,!1,r)):Oc(o,i,e,t,!1,r)}verifyDetached(e,t,r=new Date,n=Y){const i=this.unwrapCompressed().packets.filterByTag(Q.packet.literalData);if(1!==i.length)throw new Error("Can only verify message with one literal data packet.");return Oc(e.packets,i,t,r,!0,n)}unwrapCompressed(){const e=this.packets.filterByTag(Q.packet.compressedData);return e.length?new Message(e[0].packets):this}async appendSignature(e,t=Y){await this.packets.read(j.isUint8Array(e)?e:(await ae(e)).data,zc,t)}write(){return this.packets.write()}armor(e=Y){return se(Q.armor.message,this.write(),null,null,null,e)}}async function qc(e,t,r=null,n=[],i=new Date,a=[],s=!1,o=Y){const c=new PacketList,u=null===e.text?Q.signature.binary:Q.signature.text;if(await Promise.all(t.map((async(t,r)=>{const c=a[r];if(!t.isPrivate())throw new Error("Need private key for signing");const h=await t.getSigningKey(n[r],i,c,o);return vc(e,t,h.keyPacket,{signatureType:u},i,c,s,o)}))).then((e=>{c.push(...e)})),r){const e=r.packets.filterByTag(Q.packet.signature);c.push(...e)}return c}async function Oc(e,t,r,n=new Date,i=!1,a=Y){return Promise.all(e.filter((function(e){return["text","binary"].includes(Q.read(Q.signature,e.signatureType))})).map((async function(e){return async function(e,t,r,n=new Date,i=!1,a=Y){let s,o;for(const t of r){const r=t.getKeys(e.issuerKeyID);if(r.length>0){s=t,o=r[0];break}}const c=e instanceof OnePassSignaturePacket?e.correspondingSig:e,u={keyID:e.issuerKeyID,verified:(async()=>{if(!o)throw new Error(`Could not find signing key with key ID ${e.issuerKeyID.toHex()}`);await e.verify(o.keyPacket,e.signatureType,t[0],n,i,a);const r=await c;if(o.getCreationTime()>r.created)throw new Error("Key is newer than the signature");try{await s.getSigningKey(o.getKeyID(),r.created,void 0,a)}catch(e){if(!a.allowInsecureVerificationWithReformattedKeys||!e.message.match(/Signature creation time is in the future/))throw e;await s.getSigningKey(o.getKeyID(),n,void 0,a)}return!0})(),signature:(async()=>{const e=await c,t=new PacketList;return e&&t.push(e),new Signature$2(t)})()};return u.signature.catch((()=>{})),u.verified.catch((()=>{})),u}(e,t,r,n,i,a)})))}const Fc=j.constructAllowedPackets([SignaturePacket]);class CleartextMessage{constructor(e,t){if(this.text=j.removeTrailingSpaces(e).replace(/\r?\n/g,"\r\n"),t&&!(t instanceof Signature$2))throw new Error("Invalid signature input");this.signature=t||new Signature$2(new PacketList)}getSigningKeyIDs(){const e=[];return this.signature.packets.forEach((function(t){e.push(t.issuerKeyID)})),e}async sign(e,t=null,r=[],n=new Date,i=[],a=Y){const s=new LiteralDataPacket;s.setText(this.text);const o=new Signature$2(await qc(s,e,t,r,n,i,!0,a));return new CleartextMessage(this.text,o)}verify(e,t=new Date,r=Y){const n=this.signature.packets,i=new LiteralDataPacket;return i.setText(this.text),Oc(n,[i],e,t,!0,r)}getText(){return this.text.replace(/\r\n/g,"\n")}armor(e=Y){let t=this.signature.packets.map((function(e){return Q.read(Q.hash,e.hashAlgorithm).toUpperCase()}));t=t.filter((function(e,t,r){return r.indexOf(e)===t}));const r={hash:t.join(),text:this.text,data:this.signature.packets.write()};return se(Q.armor.signed,r,void 0,void 0,void 0,e)}}function Lc(e){if(!(e instanceof Message))throw new Error("Parameter [message] needs to be of type Message")}function jc(e){if(!(e instanceof CleartextMessage||e instanceof Message))throw new Error("Parameter [message] needs to be of type Message or CleartextMessage")}function Nc(e){if("armored"!==e&&"binary"!==e&&"object"!==e)throw new Error(`Unsupported format ${e}`)}const Wc=Object.keys(Y).length;function Hc(e){const t=Object.keys(e);if(t.length!==Wc)for(const e of t)if(void 0===Y[e])throw new Error(`Unknown config property: ${e}`)}function $c(e){return e&&!j.isArray(e)&&(e=[e]),e}async function Gc(e,t,r="utf8"){const n=j.isStream(e);return"array"===n?O(e):"web"===t&&"ponyfill"===n?g(e):e}function Vc(e,t){e.data=R(t.packets.stream,(async(t,r)=>{await C(e.data,r,{preventClose:!0});const n=M(r);try{await O(t,(e=>e)),await n.close()}catch(e){await n.abort(e)}}))}function Zc(e,t,r){switch(t){case"object":return e;case"armored":return e.armor(r);case"binary":return e.write();default:throw new Error(`Unsupported format ${t}`)}}const Qc="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?Symbol:e=>`Symbol(${e})`;function Yc(){}const Xc="undefined"!=typeof self?self:"undefined"!=typeof window?window:"undefined"!=typeof global?global:void 0;function Jc(e){return"object"==typeof e&&null!==e||"function"==typeof e}const eu=Yc,tu=Promise,ru=Promise.prototype.then,nu=Promise.resolve.bind(tu),iu=Promise.reject.bind(tu);function au(e){return new tu(e)}function su(e){return nu(e)}function ou(e){return iu(e)}function cu(e,t,r){return ru.call(e,t,r)}function uu(e,t,r){cu(cu(e,t,r),void 0,eu)}function hu(e,t){uu(e,t)}function fu(e,t){uu(e,void 0,t)}function du(e,t,r){return cu(e,t,r)}function lu(e){cu(e,void 0,eu)}const pu=(()=>{const e=Xc&&Xc.queueMicrotask;if("function"==typeof e)return e;const t=su(void 0);return e=>cu(t,e)})();function yu(e,t,r){if("function"!=typeof e)throw new TypeError("Argument is not a function");return Function.prototype.apply.call(e,t,r)}function bu(e,t,r){try{return su(yu(e,t,r))}catch(e){return ou(e)}}class SimpleQueue{constructor(){this._cursor=0,this._size=0,this._front={_elements:[],_next:void 0},this._back=this._front,this._cursor=0,this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;16383===t._elements.length&&(r={_elements:[],_next:void 0}),t._elements.push(e),r!==t&&(this._back=r,t._next=r),++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const i=e._elements,a=i[r];return 16384===n&&(t=e._next,n=0),--this._size,this._cursor=n,e!==t&&(this._front=t),i[r]=void 0,a}forEach(e){let t=this._cursor,r=this._front,n=r._elements;for(;!(t===n.length&&void 0===r._next||t===n.length&&(r=r._next,n=r._elements,t=0,0===n.length));)e(n[t]),++t}peek(){const e=this._front,t=this._cursor;return e._elements[t]}}function mu(e,t){e._ownerReadableStream=t,t._reader=e,"readable"===t._state?_u(e):"closed"===t._state?function(e){_u(e),Au(e)}(e):ku(e,t._storedError)}function gu(e,t){return $f(e._ownerReadableStream,t)}function wu(e){"readable"===e._ownerReadableStream._state?Su(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")):function(e,t){ku(e,t)}(e,new TypeError("Reader was released and can no longer be used to monitor the stream's closedness")),e._ownerReadableStream._reader=void 0,e._ownerReadableStream=void 0}function vu(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function _u(e){e._closedPromise=au(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r}))}function ku(e,t){_u(e),Su(e,t)}function Su(e,t){void 0!==e._closedPromise_reject&&(lu(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}function Au(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0)}const Eu=Qc("[[AbortSteps]]"),Pu=Qc("[[ErrorSteps]]"),xu=Qc("[[CancelSteps]]"),Mu=Qc("[[PullSteps]]"),Cu=Number.isFinite||function(e){return"number"==typeof e&&isFinite(e)},Ku=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function Du(e,t){if(void 0!==e&&("object"!=typeof(r=e)&&"function"!=typeof r))throw new TypeError(`${t} is not an object.`);var r}function Iu(e,t){if("function"!=typeof e)throw new TypeError(`${t} is not a function.`)}function Ru(e,t){if(!function(e){return"object"==typeof e&&null!==e||"function"==typeof e}(e))throw new TypeError(`${t} is not an object.`)}function Uu(e,t,r){if(void 0===e)throw new TypeError(`Parameter ${t} is required in '${r}'.`)}function Bu(e,t,r){if(void 0===e)throw new TypeError(`${t} is required in '${r}'.`)}function Tu(e){return Number(e)}function zu(e){return 0===e?0:e}function qu(e,t){const r=Number.MAX_SAFE_INTEGER;let n=Number(e);if(n=zu(n),!Cu(n))throw new TypeError(`${t} is not a finite number`);if(n=function(e){return zu(Ku(e))}(n),n<0||n>r)throw new TypeError(`${t} is outside the accepted range of 0 to ${r}, inclusive`);return Cu(n)&&0!==n?n:0}function Ou(e,t){if(!Wf(e))throw new TypeError(`${t} is not a ReadableStream.`)}function Fu(e){return new ReadableStreamDefaultReader(e)}function Lu(e,t){e._reader._readRequests.push(t)}function ju(e,t,r){const n=e._reader._readRequests.shift();r?n._closeSteps():n._chunkSteps(t)}function Nu(e){return e._reader._readRequests.length}function Wu(e){const t=e._reader;return void 0!==t&&!!Hu(t)}class ReadableStreamDefaultReader{constructor(e){if(Uu(e,1,"ReadableStreamDefaultReader"),Ou(e,"First parameter"),Hf(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");mu(this,e),this._readRequests=new SimpleQueue}get closed(){return Hu(this)?this._closedPromise:ou(Gu("closed"))}cancel(e=undefined){return Hu(this)?void 0===this._ownerReadableStream?ou(vu("cancel")):gu(this,e):ou(Gu("cancel"))}read(){if(!Hu(this))return ou(Gu("read"));if(void 0===this._ownerReadableStream)return ou(vu("read from"));let e,t;const r=au(((r,n)=>{e=r,t=n}));return $u(this,{_chunkSteps:t=>e({value:t,done:!1}),_closeSteps:()=>e({value:void 0,done:!0}),_errorSteps:e=>t(e)}),r}releaseLock(){if(!Hu(this))throw Gu("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");wu(this)}}}function Hu(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readRequests")}function $u(e,t){const r=e._ownerReadableStream;r._disturbed=!0,"closed"===r._state?t._closeSteps():"errored"===r._state?t._errorSteps(r._storedError):r._readableStreamController[Mu](t)}function Gu(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}let Vu;Object.defineProperties(ReadableStreamDefaultReader.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(ReadableStreamDefaultReader.prototype,Qc.toStringTag,{value:"ReadableStreamDefaultReader",configurable:!0}),"symbol"==typeof Qc.asyncIterator&&(Vu={[Qc.asyncIterator](){return this}},Object.defineProperty(Vu,Qc.asyncIterator,{enumerable:!1}));class ReadableStreamAsyncIteratorImpl{constructor(e,t){this._ongoingPromise=void 0,this._isFinished=!1,this._reader=e,this._preventCancel=t}next(){const e=()=>this._nextSteps();return this._ongoingPromise=this._ongoingPromise?du(this._ongoingPromise,e,e):e(),this._ongoingPromise}return(e){const t=()=>this._returnSteps(e);return this._ongoingPromise?du(this._ongoingPromise,t,t):t()}_nextSteps(){if(this._isFinished)return Promise.resolve({value:void 0,done:!0});const e=this._reader;if(void 0===e._ownerReadableStream)return ou(vu("iterate"));let t,r;const n=au(((e,n)=>{t=e,r=n}));return $u(e,{_chunkSteps:e=>{this._ongoingPromise=void 0,pu((()=>t({value:e,done:!1})))},_closeSteps:()=>{this._ongoingPromise=void 0,this._isFinished=!0,wu(e),t({value:void 0,done:!0})},_errorSteps:t=>{this._ongoingPromise=void 0,this._isFinished=!0,wu(e),r(t)}}),n}_returnSteps(e){if(this._isFinished)return Promise.resolve({value:e,done:!0});this._isFinished=!0;const t=this._reader;if(void 0===t._ownerReadableStream)return ou(vu("finish iterating"));if(!this._preventCancel){const r=gu(t,e);return wu(t),du(r,(()=>({value:e,done:!0})))}return wu(t),su({value:e,done:!0})}}const Zu={next(){return Qu(this)?this._asyncIteratorImpl.next():ou(Yu("next"))},return(e){return Qu(this)?this._asyncIteratorImpl.return(e):ou(Yu("return"))}};function Qu(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")}function Yu(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}void 0!==Vu&&Object.setPrototypeOf(Zu,Vu);const Xu=Number.isNaN||function(e){return e!=e};function Ju(e){return!!function(e){if("number"!=typeof e)return!1;if(Xu(e))return!1;if(e<0)return!1;return!0}(e)&&e!==1/0}function eh(e){const t=e._queue.shift();return e._queueTotalSize-=t.size,e._queueTotalSize<0&&(e._queueTotalSize=0),t.value}function th(e,t,r){if(!Ju(r=Number(r)))throw new RangeError("Size must be a finite, non-NaN, non-negative number.");e._queue.push({value:t,size:r}),e._queueTotalSize+=r}function rh(e){e._queue=new SimpleQueue,e._queueTotalSize=0}function nh(e){return e.slice()}class ReadableStreamBYOBRequest{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!ah(this))throw _h("view");return this._view}respond(e){if(!ah(this))throw _h("respond");if(Uu(e,1,"respond"),e=qu(e,"First parameter"),void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");this._view.buffer,function(e,t){if(t=Number(t),!Ju(t))throw new RangeError("bytesWritten must be a finite");yh(e,t)}(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!ah(this))throw _h("respondWithNewView");if(Uu(e,1,"respondWithNewView"),!ArrayBuffer.isView(e))throw new TypeError("You can only respond with array buffer views");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(void 0===this._associatedReadableByteStreamController)throw new TypeError("This BYOB request has been invalidated");!function(e,t){const r=e._pendingPullIntos.peek();if(r.byteOffset+r.bytesFilled!==t.byteOffset)throw new RangeError("The region specified by view does not match byobRequest");if(r.byteLength!==t.byteLength)throw new RangeError("The buffer of view has different capacity than byobRequest");r.buffer=t.buffer,yh(e,t.byteLength)}(this._associatedReadableByteStreamController,e)}}Object.defineProperties(ReadableStreamBYOBRequest.prototype,{respond:{enumerable:!0},respondWithNewView:{enumerable:!0},view:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(ReadableStreamBYOBRequest.prototype,Qc.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:!0});class ReadableByteStreamController{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!ih(this))throw kh("byobRequest");if(null===this._byobRequest&&this._pendingPullIntos.length>0){const e=this._pendingPullIntos.peek(),t=new Uint8Array(e.buffer,e.byteOffset+e.bytesFilled,e.byteLength-e.bytesFilled),r=Object.create(ReadableStreamBYOBRequest.prototype);!function(e,t,r){e._associatedReadableByteStreamController=t,e._view=r}(r,this,t),this._byobRequest=r}return this._byobRequest}get desiredSize(){if(!ih(this))throw kh("desiredSize");return wh(this)}close(){if(!ih(this))throw kh("close");if(this._closeRequested)throw new TypeError("The stream has already been closed; do not close it again!");const e=this._controlledReadableByteStream._state;if("readable"!==e)throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`);!function(e){const t=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==t._state)return;if(e._queueTotalSize>0)return void(e._closeRequested=!0);if(e._pendingPullIntos.length>0){if(e._pendingPullIntos.peek().bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");throw gh(e,t),t}}mh(e),Gf(t)}(this)}enqueue(e){if(!ih(this))throw kh("enqueue");if(Uu(e,1,"enqueue"),!ArrayBuffer.isView(e))throw new TypeError("chunk must be an array buffer view");if(0===e.byteLength)throw new TypeError("chunk must have non-zero byteLength");if(0===e.buffer.byteLength)throw new TypeError("chunk's buffer must have non-zero byteLength");if(this._closeRequested)throw new TypeError("stream is closed or draining");const t=this._controlledReadableByteStream._state;if("readable"!==t)throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`);!function(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||"readable"!==r._state)return;const n=t.buffer,i=t.byteOffset,a=t.byteLength,s=n;if(Wu(r))if(0===Nu(r))uh(e,s,i,a);else{ju(r,new Uint8Array(s,i,a),!1)}else Eh(r)?(uh(e,s,i,a),ph(e)):uh(e,s,i,a);sh(e)}(this,e)}error(e=undefined){if(!ih(this))throw kh("error");gh(this,e)}[xu](e){if(this._pendingPullIntos.length>0){this._pendingPullIntos.peek().bytesFilled=0}rh(this);const t=this._cancelAlgorithm(e);return mh(this),t}[Mu](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength,dh(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);return void e._chunkSteps(r)}const r=this._autoAllocateChunkSize;if(void 0!==r){let t;try{t=new ArrayBuffer(r)}catch(t){return void e._errorSteps(t)}const n={buffer:t,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}Lu(t,e),sh(this)}}function ih(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")}function ah(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")}function sh(e){const t=function(e){const t=e._controlledReadableByteStream;if("readable"!==t._state)return!1;if(e._closeRequested)return!1;if(!e._started)return!1;if(Wu(t)&&Nu(t)>0)return!0;if(Eh(t)&&Ah(t)>0)return!0;const r=wh(e);if(r>0)return!0;return!1}(e);if(!t)return;if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0;uu(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,sh(e))}),(t=>{gh(e,t)}))}function oh(e,t){let r=!1;"closed"===e._state&&(r=!0);const n=ch(t);"default"===t.readerType?ju(e,n,r):function(e,t,r){const n=e._reader,i=n._readIntoRequests.shift();r?i._closeSteps(t):i._chunkSteps(t)}(e,n,r)}function ch(e){const t=e.bytesFilled,r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function uh(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n}),e._queueTotalSize+=n}function hh(e,t){const r=t.elementSize,n=t.bytesFilled-t.bytesFilled%r,i=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled),a=t.bytesFilled+i,s=a-a%r;let o=i,c=!1;s>n&&(o=s-t.bytesFilled,c=!0);const u=e._queue;for(;o>0;){const r=u.peek(),n=Math.min(o,r.byteLength),i=t.byteOffset+t.bytesFilled;h=t.buffer,f=i,d=r.buffer,l=r.byteOffset,p=n,new Uint8Array(h).set(new Uint8Array(d,l,p),f),r.byteLength===n?u.shift():(r.byteOffset+=n,r.byteLength-=n),e._queueTotalSize-=n,fh(e,n,t),o-=n}var h,f,d,l,p;return c}function fh(e,t,r){lh(e),r.bytesFilled+=t}function dh(e){0===e._queueTotalSize&&e._closeRequested?(mh(e),Gf(e._controlledReadableByteStream)):sh(e)}function lh(e){null!==e._byobRequest&&(e._byobRequest._associatedReadableByteStreamController=void 0,e._byobRequest._view=null,e._byobRequest=null)}function ph(e){for(;e._pendingPullIntos.length>0;){if(0===e._queueTotalSize)return;const t=e._pendingPullIntos.peek();hh(e,t)&&(bh(e),oh(e._controlledReadableByteStream,t))}}function yh(e,t){const r=e._pendingPullIntos.peek();if("closed"===e._controlledReadableByteStream._state){if(0!==t)throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream");!function(e,t){t.buffer=t.buffer;const r=e._controlledReadableByteStream;if(Eh(r))for(;Ah(r)>0;)oh(r,bh(e))}(e,r)}else!function(e,t,r){if(r.bytesFilled+t>r.byteLength)throw new RangeError("bytesWritten out of range");if(fh(e,t,r),r.bytesFilled<r.elementSize)return;bh(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled,i=r.buffer.slice(t-n,t);uh(e,i,0,i.byteLength)}r.buffer=r.buffer,r.bytesFilled-=n,oh(e._controlledReadableByteStream,r),ph(e)}(e,t,r);sh(e)}function bh(e){const t=e._pendingPullIntos.shift();return lh(e),t}function mh(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0}function gh(e,t){const r=e._controlledReadableByteStream;"readable"===r._state&&(!function(e){lh(e),e._pendingPullIntos=new SimpleQueue}(e),rh(e),mh(e),Vf(r,t))}function wh(e){const t=e._controlledReadableByteStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function vh(e,t,r){const n=Object.create(ReadableByteStreamController.prototype);let i=()=>{},a=()=>su(void 0),s=()=>su(void 0);void 0!==t.start&&(i=()=>t.start(n)),void 0!==t.pull&&(a=()=>t.pull(n)),void 0!==t.cancel&&(s=e=>t.cancel(e));const o=t.autoAllocateChunkSize;if(0===o)throw new TypeError("autoAllocateChunkSize must be greater than 0");!function(e,t,r,n,i,a,s){t._controlledReadableByteStream=e,t._pullAgain=!1,t._pulling=!1,t._byobRequest=null,t._queue=t._queueTotalSize=void 0,rh(t),t._closeRequested=!1,t._started=!1,t._strategyHWM=a,t._pullAlgorithm=n,t._cancelAlgorithm=i,t._autoAllocateChunkSize=s,t._pendingPullIntos=new SimpleQueue,e._readableStreamController=t,uu(su(r()),(()=>{t._started=!0,sh(t)}),(e=>{gh(t,e)}))}(e,n,i,a,s,r,o)}function _h(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function kh(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function Sh(e,t){e._reader._readIntoRequests.push(t)}function Ah(e){return e._reader._readIntoRequests.length}function Eh(e){const t=e._reader;return void 0!==t&&!!Ph(t)}Object.defineProperties(ReadableByteStreamController.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},byobRequest:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(ReadableByteStreamController.prototype,Qc.toStringTag,{value:"ReadableByteStreamController",configurable:!0});class ReadableStreamBYOBReader{constructor(e){if(Uu(e,1,"ReadableStreamBYOBReader"),Ou(e,"First parameter"),Hf(e))throw new TypeError("This stream has already been locked for exclusive reading by another reader");if(!ih(e._readableStreamController))throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte source");mu(this,e),this._readIntoRequests=new SimpleQueue}get closed(){return Ph(this)?this._closedPromise:ou(xh("closed"))}cancel(e=undefined){return Ph(this)?void 0===this._ownerReadableStream?ou(vu("cancel")):gu(this,e):ou(xh("cancel"))}read(e){if(!Ph(this))return ou(xh("read"));if(!ArrayBuffer.isView(e))return ou(new TypeError("view must be an array buffer view"));if(0===e.byteLength)return ou(new TypeError("view must have non-zero byteLength"));if(0===e.buffer.byteLength)return ou(new TypeError("view's buffer must have non-zero byteLength"));if(void 0===this._ownerReadableStream)return ou(vu("read from"));let t,r;const n=au(((e,n)=>{t=e,r=n}));return function(e,t,r){const n=e._ownerReadableStream;n._disturbed=!0,"errored"===n._state?r._errorSteps(n._storedError):function(e,t,r){const n=e._controlledReadableByteStream;let i=1;t.constructor!==DataView&&(i=t.constructor.BYTES_PER_ELEMENT);const a=t.constructor,s={buffer:t.buffer,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:i,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0)return e._pendingPullIntos.push(s),void Sh(n,r);if("closed"!==n._state){if(e._queueTotalSize>0){if(hh(e,s)){const t=ch(s);return dh(e),void r._chunkSteps(t)}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");return gh(e,t),void r._errorSteps(t)}}e._pendingPullIntos.push(s),Sh(n,r),sh(e)}else{const e=new a(s.buffer,s.byteOffset,0);r._closeSteps(e)}}(n._readableStreamController,t,r)}(this,e,{_chunkSteps:e=>t({value:e,done:!1}),_closeSteps:e=>t({value:e,done:!0}),_errorSteps:e=>r(e)}),n}releaseLock(){if(!Ph(this))throw xh("releaseLock");if(void 0!==this._ownerReadableStream){if(this._readIntoRequests.length>0)throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled");wu(this)}}}function Ph(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")}function xh(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function Mh(e,t){const{highWaterMark:r}=e;if(void 0===r)return t;if(Xu(r)||r<0)throw new RangeError("Invalid highWaterMark");return r}function Ch(e){const{size:t}=e;return t||(()=>1)}function Kh(e,t){Du(e,t);const r=null==e?void 0:e.highWaterMark,n=null==e?void 0:e.size;return{highWaterMark:void 0===r?void 0:Tu(r),size:void 0===n?void 0:Dh(n,`${t} has member 'size' that`)}}function Dh(e,t){return Iu(e,t),t=>Tu(e(t))}function Ih(e,t,r){return Iu(e,r),r=>bu(e,t,[r])}function Rh(e,t,r){return Iu(e,r),()=>bu(e,t,[])}function Uh(e,t,r){return Iu(e,r),r=>yu(e,t,[r])}function Bh(e,t,r){return Iu(e,r),(r,n)=>bu(e,t,[r,n])}function Th(e,t){if(!Oh(e))throw new TypeError(`${t} is not a WritableStream.`)}Object.defineProperties(ReadableStreamBYOBReader.prototype,{cancel:{enumerable:!0},read:{enumerable:!0},releaseLock:{enumerable:!0},closed:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(ReadableStreamBYOBReader.prototype,Qc.toStringTag,{value:"ReadableStreamBYOBReader",configurable:!0});class WritableStream{constructor(e={},t={}){void 0===e?e=null:Ru(e,"First parameter");const r=Kh(t,"Second parameter"),n=function(e,t){Du(e,t);const r=null==e?void 0:e.abort,n=null==e?void 0:e.close,i=null==e?void 0:e.start,a=null==e?void 0:e.type,s=null==e?void 0:e.write;return{abort:void 0===r?void 0:Ih(r,e,`${t} has member 'abort' that`),close:void 0===n?void 0:Rh(n,e,`${t} has member 'close' that`),start:void 0===i?void 0:Uh(i,e,`${t} has member 'start' that`),write:void 0===s?void 0:Bh(s,e,`${t} has member 'write' that`),type:a}}(e,"First parameter");qh(this);if(void 0!==n.type)throw new RangeError("Invalid type is specified");const i=Ch(r);!function(e,t,r,n){const i=Object.create(WritableStreamDefaultController.prototype);let a=()=>{},s=()=>su(void 0),o=()=>su(void 0),c=()=>su(void 0);void 0!==t.start&&(a=()=>t.start(i));void 0!==t.write&&(s=e=>t.write(e,i));void 0!==t.close&&(o=()=>t.close());void 0!==t.abort&&(c=e=>t.abort(e));rf(e,i,a,s,o,c,r,n)}(this,n,Mh(r,1),i)}get locked(){if(!Oh(this))throw hf("locked");return Fh(this)}abort(e=undefined){return Oh(this)?Fh(this)?ou(new TypeError("Cannot abort a stream that already has a writer")):Lh(this,e):ou(hf("abort"))}close(){return Oh(this)?Fh(this)?ou(new TypeError("Cannot close a stream that already has a writer")):$h(this)?ou(new TypeError("Cannot close an already-closing stream")):jh(this):ou(hf("close"))}getWriter(){if(!Oh(this))throw hf("getWriter");return zh(this)}}function zh(e){return new WritableStreamDefaultWriter(e)}function qh(e){e._state="writable",e._storedError=void 0,e._writer=void 0,e._writableStreamController=void 0,e._writeRequests=new SimpleQueue,e._inFlightWriteRequest=void 0,e._closeRequest=void 0,e._inFlightCloseRequest=void 0,e._pendingAbortRequest=void 0,e._backpressure=!1}function Oh(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")}function Fh(e){return void 0!==e._writer}function Lh(e,t){const r=e._state;if("closed"===r||"errored"===r)return su(void 0);if(void 0!==e._pendingAbortRequest)return e._pendingAbortRequest._promise;let n=!1;"erroring"===r&&(n=!0,t=void 0);const i=au(((r,i)=>{e._pendingAbortRequest={_promise:void 0,_resolve:r,_reject:i,_reason:t,_wasAlreadyErroring:n}}));return e._pendingAbortRequest._promise=i,n||Wh(e,t),i}function jh(e){const t=e._state;if("closed"===t||"errored"===t)return ou(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`));const r=au(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n})),n=e._writer;var i;return void 0!==n&&e._backpressure&&"writable"===t&&_f(n),th(i=e._writableStreamController,tf,0),sf(i),r}function Nh(e,t){"writable"!==e._state?Hh(e):Wh(e,t)}function Wh(e,t){const r=e._writableStreamController;e._state="erroring",e._storedError=t;const n=e._writer;void 0!==n&&Xh(n,t),!function(e){if(void 0===e._inFlightWriteRequest&&void 0===e._inFlightCloseRequest)return!1;return!0}(e)&&r._started&&Hh(e)}function Hh(e){e._state="errored",e._writableStreamController[Pu]();const t=e._storedError;if(e._writeRequests.forEach((e=>{e._reject(t)})),e._writeRequests=new SimpleQueue,void 0===e._pendingAbortRequest)return void Gh(e);const r=e._pendingAbortRequest;if(e._pendingAbortRequest=void 0,r._wasAlreadyErroring)return r._reject(t),void Gh(e);uu(e._writableStreamController[Eu](r._reason),(()=>{r._resolve(),Gh(e)}),(t=>{r._reject(t),Gh(e)}))}function $h(e){return void 0!==e._closeRequest||void 0!==e._inFlightCloseRequest}function Gh(e){void 0!==e._closeRequest&&(e._closeRequest._reject(e._storedError),e._closeRequest=void 0);const t=e._writer;void 0!==t&&yf(t,e._storedError)}function Vh(e,t){const r=e._writer;void 0!==r&&t!==e._backpressure&&(t?function(e){mf(e)}(r):_f(r)),e._backpressure=t}Object.defineProperties(WritableStream.prototype,{abort:{enumerable:!0},close:{enumerable:!0},getWriter:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(WritableStream.prototype,Qc.toStringTag,{value:"WritableStream",configurable:!0});class WritableStreamDefaultWriter{constructor(e){if(Uu(e,1,"WritableStreamDefaultWriter"),Th(e,"First parameter"),Fh(e))throw new TypeError("This stream has already been locked for exclusive writing by another writer");this._ownerWritableStream=e,e._writer=this;const t=e._state;if("writable"===t)!$h(e)&&e._backpressure?mf(this):wf(this),lf(this);else if("erroring"===t)gf(this,e._storedError),lf(this);else if("closed"===t)wf(this),lf(r=this),bf(r);else{const t=e._storedError;gf(this,t),pf(this,t)}var r}get closed(){return Zh(this)?this._closedPromise:ou(ff("closed"))}get desiredSize(){if(!Zh(this))throw ff("desiredSize");if(void 0===this._ownerWritableStream)throw df("desiredSize");return function(e){const t=e._ownerWritableStream,r=t._state;if("errored"===r||"erroring"===r)return null;if("closed"===r)return 0;return af(t._writableStreamController)}(this)}get ready(){return Zh(this)?this._readyPromise:ou(ff("ready"))}abort(e=undefined){return Zh(this)?void 0===this._ownerWritableStream?ou(df("abort")):function(e,t){const r=e._ownerWritableStream;return Lh(r,t)}(this,e):ou(ff("abort"))}close(){if(!Zh(this))return ou(ff("close"));const e=this._ownerWritableStream;return void 0===e?ou(df("close")):$h(e)?ou(new TypeError("Cannot close an already-closing stream")):Qh(this)}releaseLock(){if(!Zh(this))throw ff("releaseLock");void 0!==this._ownerWritableStream&&Jh(this)}write(e=undefined){return Zh(this)?void 0===this._ownerWritableStream?ou(df("write to")):ef(this,e):ou(ff("write"))}}function Zh(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")}function Qh(e){return jh(e._ownerWritableStream)}function Yh(e,t){"pending"===e._closedPromiseState?yf(e,t):function(e,t){pf(e,t)}(e,t)}function Xh(e,t){"pending"===e._readyPromiseState?vf(e,t):function(e,t){gf(e,t)}(e,t)}function Jh(e){const t=e._ownerWritableStream,r=new TypeError("Writer was released and can no longer be used to monitor the stream's closedness");Xh(e,r),Yh(e,r),t._writer=void 0,e._ownerWritableStream=void 0}function ef(e,t){const r=e._ownerWritableStream,n=r._writableStreamController,i=function(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){return of(e,t),1}}(n,t);if(r!==e._ownerWritableStream)return ou(df("write to"));const a=r._state;if("errored"===a)return ou(r._storedError);if($h(r)||"closed"===a)return ou(new TypeError("The stream is closing or closed and cannot be written to"));if("erroring"===a)return ou(r._storedError);const s=function(e){return au(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}))}(r);return function(e,t,r){try{th(e,t,r)}catch(t){return void of(e,t)}const n=e._controlledWritableStream;if(!$h(n)&&"writable"===n._state){Vh(n,cf(e))}sf(e)}(n,t,i),s}Object.defineProperties(WritableStreamDefaultWriter.prototype,{abort:{enumerable:!0},close:{enumerable:!0},releaseLock:{enumerable:!0},write:{enumerable:!0},closed:{enumerable:!0},desiredSize:{enumerable:!0},ready:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(WritableStreamDefaultWriter.prototype,Qc.toStringTag,{value:"WritableStreamDefaultWriter",configurable:!0});const tf={};class WritableStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}error(e=undefined){if(!function(e){if(!Jc(e))return!1;if(!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream"))return!1;return!0}(this))throw new TypeError("WritableStreamDefaultController.prototype.error can only be used on a WritableStreamDefaultController");"writable"===this._controlledWritableStream._state&&uf(this,e)}[Eu](e){const t=this._abortAlgorithm(e);return nf(this),t}[Pu](){rh(this)}}function rf(e,t,r,n,i,a,s,o){t._controlledWritableStream=e,e._writableStreamController=t,t._queue=void 0,t._queueTotalSize=void 0,rh(t),t._started=!1,t._strategySizeAlgorithm=o,t._strategyHWM=s,t._writeAlgorithm=n,t._closeAlgorithm=i,t._abortAlgorithm=a;const c=cf(t);Vh(e,c);uu(su(r()),(()=>{t._started=!0,sf(t)}),(r=>{t._started=!0,Nh(e,r)}))}function nf(e){e._writeAlgorithm=void 0,e._closeAlgorithm=void 0,e._abortAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function af(e){return e._strategyHWM-e._queueTotalSize}function sf(e){const t=e._controlledWritableStream;if(!e._started)return;if(void 0!==t._inFlightWriteRequest)return;if("erroring"===t._state)return void Hh(t);if(0===e._queue.length)return;const r=e._queue.peek().value;r===tf?function(e){const t=e._controlledWritableStream;(function(e){e._inFlightCloseRequest=e._closeRequest,e._closeRequest=void 0})(t),eh(e);const r=e._closeAlgorithm();nf(e),uu(r,(()=>{!function(e){e._inFlightCloseRequest._resolve(void 0),e._inFlightCloseRequest=void 0,"erroring"===e._state&&(e._storedError=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._resolve(),e._pendingAbortRequest=void 0)),e._state="closed";const t=e._writer;void 0!==t&&bf(t)}(t)}),(e=>{!function(e,t){e._inFlightCloseRequest._reject(t),e._inFlightCloseRequest=void 0,void 0!==e._pendingAbortRequest&&(e._pendingAbortRequest._reject(t),e._pendingAbortRequest=void 0),Nh(e,t)}(t,e)}))}(e):function(e,t){const r=e._controlledWritableStream;!function(e){e._inFlightWriteRequest=e._writeRequests.shift()}(r);const n=e._writeAlgorithm(t);uu(n,(()=>{!function(e){e._inFlightWriteRequest._resolve(void 0),e._inFlightWriteRequest=void 0}(r);const t=r._state;if(eh(e),!$h(r)&&"writable"===t){const t=cf(e);Vh(r,t)}sf(e)}),(t=>{"writable"===r._state&&nf(e),function(e,t){e._inFlightWriteRequest._reject(t),e._inFlightWriteRequest=void 0,Nh(e,t)}(r,t)}))}(e,r)}function of(e,t){"writable"===e._controlledWritableStream._state&&uf(e,t)}function cf(e){return af(e)<=0}function uf(e,t){const r=e._controlledWritableStream;nf(e),Wh(r,t)}function hf(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function ff(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function df(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function lf(e){e._closedPromise=au(((t,r)=>{e._closedPromise_resolve=t,e._closedPromise_reject=r,e._closedPromiseState="pending"}))}function pf(e,t){lf(e),yf(e,t)}function yf(e,t){void 0!==e._closedPromise_reject&&(lu(e._closedPromise),e._closedPromise_reject(t),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="rejected")}function bf(e){void 0!==e._closedPromise_resolve&&(e._closedPromise_resolve(void 0),e._closedPromise_resolve=void 0,e._closedPromise_reject=void 0,e._closedPromiseState="resolved")}function mf(e){e._readyPromise=au(((t,r)=>{e._readyPromise_resolve=t,e._readyPromise_reject=r})),e._readyPromiseState="pending"}function gf(e,t){mf(e),vf(e,t)}function wf(e){mf(e),_f(e)}function vf(e,t){void 0!==e._readyPromise_reject&&(lu(e._readyPromise),e._readyPromise_reject(t),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="rejected")}function _f(e){void 0!==e._readyPromise_resolve&&(e._readyPromise_resolve(void 0),e._readyPromise_resolve=void 0,e._readyPromise_reject=void 0,e._readyPromiseState="fulfilled")}Object.defineProperties(WritableStreamDefaultController.prototype,{error:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(WritableStreamDefaultController.prototype,Qc.toStringTag,{value:"WritableStreamDefaultController",configurable:!0});const kf="undefined"!=typeof DOMException?DOMException:void 0;const Sf=function(e){if("function"!=typeof e&&"object"!=typeof e)return!1;try{return new e,!0}catch(e){return!1}}(kf)?kf:function(){const e=function(e,t){this.message=e||"",this.name=t||"Error",Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor)};return e.prototype=Object.create(Error.prototype),Object.defineProperty(e.prototype,"constructor",{value:e,writable:!0,configurable:!0}),e}();function Af(e,t,r,n,i,a){const s=Fu(e),o=zh(t);e._disturbed=!0;let c=!1,u=su(void 0);return au(((h,f)=>{let d;if(void 0!==a){if(d=()=>{const r=new Sf("Aborted","AbortError"),a=[];n||a.push((()=>"writable"===t._state?Lh(t,r):su(void 0))),i||a.push((()=>"readable"===e._state?$f(e,r):su(void 0))),y((()=>Promise.all(a.map((e=>e())))),!0,r)},a.aborted)return void d();a.addEventListener("abort",d)}if(p(e,s._closedPromise,(e=>{n?b(!0,e):y((()=>Lh(t,e)),!0,e)})),p(t,o._closedPromise,(t=>{i?b(!0,t):y((()=>$f(e,t)),!0,t)})),function(e,t,r){"closed"===e._state?r():hu(t,r)}(e,s._closedPromise,(()=>{r?b():y((()=>function(e){const t=e._ownerWritableStream,r=t._state;return $h(t)||"closed"===r?su(void 0):"errored"===r?ou(t._storedError):Qh(e)}(o)))})),$h(t)||"closed"===t._state){const t=new TypeError("the destination writable stream closed before all data could be piped to it");i?b(!0,t):y((()=>$f(e,t)),!0,t)}function l(){const e=u;return cu(u,(()=>e!==u?l():void 0))}function p(e,t,r){"errored"===e._state?r(e._storedError):fu(t,r)}function y(e,r,n){function i(){uu(e(),(()=>m(r,n)),(e=>m(!0,e)))}c||(c=!0,"writable"!==t._state||$h(t)?i():hu(l(),i))}function b(e,r){c||(c=!0,"writable"!==t._state||$h(t)?m(e,r):hu(l(),(()=>m(e,r))))}function m(e,t){Jh(o),wu(s),void 0!==a&&a.removeEventListener("abort",d),e?f(t):h(void 0)}lu(au(((e,t)=>{!function r(n){n?e():cu(c?su(!0):cu(o._readyPromise,(()=>au(((e,t)=>{$u(s,{_chunkSteps:t=>{u=cu(ef(o,t),void 0,Yc),e(!1)},_closeSteps:()=>e(!0),_errorSteps:t})})))),r,t)}(!1)})))}))}class ReadableStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!Ef(this))throw Bf("desiredSize");return If(this)}close(){if(!Ef(this))throw Bf("close");if(!Rf(this))throw new TypeError("The stream is not in a state that permits close");Cf(this)}enqueue(e=undefined){if(!Ef(this))throw Bf("enqueue");if(!Rf(this))throw new TypeError("The stream is not in a state that permits enqueue");return Kf(this,e)}error(e=undefined){if(!Ef(this))throw Bf("error");Df(this,e)}[xu](e){rh(this);const t=this._cancelAlgorithm(e);return Mf(this),t}[Mu](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=eh(this);this._closeRequested&&0===this._queue.length?(Mf(this),Gf(t)):Pf(this),e._chunkSteps(r)}else Lu(t,e),Pf(this)}}function Ef(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")}function Pf(e){if(!xf(e))return;if(e._pulling)return void(e._pullAgain=!0);e._pulling=!0;uu(e._pullAlgorithm(),(()=>{e._pulling=!1,e._pullAgain&&(e._pullAgain=!1,Pf(e))}),(t=>{Df(e,t)}))}function xf(e){const t=e._controlledReadableStream;if(!Rf(e))return!1;if(!e._started)return!1;if(Hf(t)&&Nu(t)>0)return!0;return If(e)>0}function Mf(e){e._pullAlgorithm=void 0,e._cancelAlgorithm=void 0,e._strategySizeAlgorithm=void 0}function Cf(e){if(!Rf(e))return;const t=e._controlledReadableStream;e._closeRequested=!0,0===e._queue.length&&(Mf(e),Gf(t))}function Kf(e,t){if(!Rf(e))return;const r=e._controlledReadableStream;if(Hf(r)&&Nu(r)>0)ju(r,t,!1);else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){throw Df(e,t),t}try{th(e,t,r)}catch(t){throw Df(e,t),t}}Pf(e)}function Df(e,t){const r=e._controlledReadableStream;"readable"===r._state&&(rh(e),Mf(e),Vf(r,t))}function If(e){const t=e._controlledReadableStream._state;return"errored"===t?null:"closed"===t?0:e._strategyHWM-e._queueTotalSize}function Rf(e){const t=e._controlledReadableStream._state;return!e._closeRequested&&"readable"===t}function Uf(e,t,r,n,i,a,s){t._controlledReadableStream=e,t._queue=void 0,t._queueTotalSize=void 0,rh(t),t._started=!1,t._closeRequested=!1,t._pullAgain=!1,t._pulling=!1,t._strategySizeAlgorithm=s,t._strategyHWM=a,t._pullAlgorithm=n,t._cancelAlgorithm=i,e._readableStreamController=t;uu(su(r()),(()=>{t._started=!0,Pf(t)}),(e=>{Df(t,e)}))}function Bf(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function Tf(e,t,r){return Iu(e,r),r=>bu(e,t,[r])}function zf(e,t,r){return Iu(e,r),r=>bu(e,t,[r])}function qf(e,t,r){return Iu(e,r),r=>yu(e,t,[r])}function Of(e,t){if("bytes"!==(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`);return e}function Ff(e,t){if("byob"!==(e=`${e}`))throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`);return e}function Lf(e,t){Du(e,t);const r=null==e?void 0:e.preventAbort,n=null==e?void 0:e.preventCancel,i=null==e?void 0:e.preventClose,a=null==e?void 0:e.signal;return void 0!==a&&function(e,t){if(!function(e){if("object"!=typeof e||null===e)return!1;try{return"boolean"==typeof e.aborted}catch(e){return!1}}(e))throw new TypeError(`${t} is not an AbortSignal.`)}(a,`${t} has member 'signal' that`),{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(i),signal:a}}Object.defineProperties(ReadableStreamDefaultController.prototype,{close:{enumerable:!0},enqueue:{enumerable:!0},error:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(ReadableStreamDefaultController.prototype,Qc.toStringTag,{value:"ReadableStreamDefaultController",configurable:!0});class ReadableStream{constructor(e={},t={}){void 0===e?e=null:Ru(e,"First parameter");const r=Kh(t,"Second parameter"),n=function(e,t){Du(e,t);const r=e,n=null==r?void 0:r.autoAllocateChunkSize,i=null==r?void 0:r.cancel,a=null==r?void 0:r.pull,s=null==r?void 0:r.start,o=null==r?void 0:r.type;return{autoAllocateChunkSize:void 0===n?void 0:qu(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:void 0===i?void 0:Tf(i,r,`${t} has member 'cancel' that`),pull:void 0===a?void 0:zf(a,r,`${t} has member 'pull' that`),start:void 0===s?void 0:qf(s,r,`${t} has member 'start' that`),type:void 0===o?void 0:Of(o,`${t} has member 'type' that`)}}(e,"First parameter");if(Nf(this),"bytes"===n.type){if(void 0!==r.size)throw new RangeError("The strategy for a byte stream cannot have a size function");vh(this,n,Mh(r,0))}else{const e=Ch(r);!function(e,t,r,n){const i=Object.create(ReadableStreamDefaultController.prototype);let a=()=>{},s=()=>su(void 0),o=()=>su(void 0);void 0!==t.start&&(a=()=>t.start(i)),void 0!==t.pull&&(s=()=>t.pull(i)),void 0!==t.cancel&&(o=e=>t.cancel(e)),Uf(e,i,a,s,o,r,n)}(this,n,Mh(r,1),e)}}get locked(){if(!Wf(this))throw Zf("locked");return Hf(this)}cancel(e=undefined){return Wf(this)?Hf(this)?ou(new TypeError("Cannot cancel a stream that already has a reader")):$f(this,e):ou(Zf("cancel"))}getReader(e=undefined){if(!Wf(this))throw Zf("getReader");const t=function(e,t){Du(e,t);const r=null==e?void 0:e.mode;return{mode:void 0===r?void 0:Ff(r,`${t} has member 'mode' that`)}}(e,"First parameter");return void 0===t.mode?Fu(this):function(e){return new ReadableStreamBYOBReader(e)}(this)}pipeThrough(e,t={}){if(!Wf(this))throw Zf("pipeThrough");Uu(e,1,"pipeThrough");const r=function(e,t){Du(e,t);const r=null==e?void 0:e.readable;Bu(r,"readable","ReadableWritablePair"),Ou(r,`${t} has member 'readable' that`);const n=null==e?void 0:e.writable;return Bu(n,"writable","ReadableWritablePair"),Th(n,`${t} has member 'writable' that`),{readable:r,writable:n}}(e,"First parameter"),n=Lf(t,"Second parameter");if(Hf(this))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream");if(Fh(r.writable))throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream");return lu(Af(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal)),r.readable}pipeTo(e,t={}){if(!Wf(this))return ou(Zf("pipeTo"));if(void 0===e)return ou("Parameter 1 is required in 'pipeTo'.");if(!Oh(e))return ou(new TypeError("ReadableStream.prototype.pipeTo's first argument must be a WritableStream"));let r;try{r=Lf(t,"Second parameter")}catch(e){return ou(e)}return Hf(this)?ou(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream")):Fh(e)?ou(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream")):Af(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!Wf(this))throw Zf("tee");const e=function(e,t){const r=Fu(e);let n,i,a,s,o,c=!1,u=!1,h=!1;const f=au((e=>{o=e}));function d(){return c||(c=!0,$u(r,{_chunkSteps:e=>{pu((()=>{c=!1;const t=e,r=e;u||Kf(a._readableStreamController,t),h||Kf(s._readableStreamController,r)}))},_closeSteps:()=>{c=!1,u||Cf(a._readableStreamController),h||Cf(s._readableStreamController),u&&h||o(void 0)},_errorSteps:()=>{c=!1}})),su(void 0)}function l(){}return a=jf(l,d,(function(t){if(u=!0,n=t,h){const t=nh([n,i]),r=$f(e,t);o(r)}return f})),s=jf(l,d,(function(t){if(h=!0,i=t,u){const t=nh([n,i]),r=$f(e,t);o(r)}return f})),fu(r._closedPromise,(e=>{Df(a._readableStreamController,e),Df(s._readableStreamController,e),u&&h||o(void 0)})),[a,s]}(this);return nh(e)}values(e=undefined){if(!Wf(this))throw Zf("values");return function(e,t){const r=Fu(e),n=new ReadableStreamAsyncIteratorImpl(r,t),i=Object.create(Zu);return i._asyncIteratorImpl=n,i}(this,function(e,t){Du(e,t);const r=null==e?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}(e,"First parameter").preventCancel)}}function jf(e,t,r,n=1,i=(()=>1)){const a=Object.create(ReadableStream.prototype);Nf(a);return Uf(a,Object.create(ReadableStreamDefaultController.prototype),e,t,r,n,i),a}function Nf(e){e._state="readable",e._reader=void 0,e._storedError=void 0,e._disturbed=!1}function Wf(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")}function Hf(e){return void 0!==e._reader}function $f(e,t){if(e._disturbed=!0,"closed"===e._state)return su(void 0);if("errored"===e._state)return ou(e._storedError);Gf(e);return du(e._readableStreamController[xu](t),Yc)}function Gf(e){e._state="closed";const t=e._reader;void 0!==t&&(Au(t),Hu(t)&&(t._readRequests.forEach((e=>{e._closeSteps()})),t._readRequests=new SimpleQueue))}function Vf(e,t){e._state="errored",e._storedError=t;const r=e._reader;void 0!==r&&(Su(r,t),Hu(r)?(r._readRequests.forEach((e=>{e._errorSteps(t)})),r._readRequests=new SimpleQueue):(r._readIntoRequests.forEach((e=>{e._errorSteps(t)})),r._readIntoRequests=new SimpleQueue))}function Zf(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function Qf(e,t){Du(e,t);const r=null==e?void 0:e.highWaterMark;return Bu(r,"highWaterMark","QueuingStrategyInit"),{highWaterMark:Tu(r)}}Object.defineProperties(ReadableStream.prototype,{cancel:{enumerable:!0},getReader:{enumerable:!0},pipeThrough:{enumerable:!0},pipeTo:{enumerable:!0},tee:{enumerable:!0},values:{enumerable:!0},locked:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(ReadableStream.prototype,Qc.toStringTag,{value:"ReadableStream",configurable:!0}),"symbol"==typeof Qc.asyncIterator&&Object.defineProperty(ReadableStream.prototype,Qc.asyncIterator,{value:ReadableStream.prototype.values,writable:!0,configurable:!0});const Yf=function(e){return e.byteLength};class ByteLengthQueuingStrategy{constructor(e){Uu(e,1,"ByteLengthQueuingStrategy"),e=Qf(e,"First parameter"),this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!Jf(this))throw Xf("highWaterMark");return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!Jf(this))throw Xf("size");return Yf}}function Xf(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function Jf(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")}Object.defineProperties(ByteLengthQueuingStrategy.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(ByteLengthQueuingStrategy.prototype,Qc.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:!0});const ed=function(){return 1};class CountQueuingStrategy{constructor(e){Uu(e,1,"CountQueuingStrategy"),e=Qf(e,"First parameter"),this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!rd(this))throw td("highWaterMark");return this._countQueuingStrategyHighWaterMark}get size(){if(!rd(this))throw td("size");return ed}}function td(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function rd(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")}function nd(e,t,r){return Iu(e,r),r=>bu(e,t,[r])}function id(e,t,r){return Iu(e,r),r=>yu(e,t,[r])}function ad(e,t,r){return Iu(e,r),(r,n)=>bu(e,t,[r,n])}Object.defineProperties(CountQueuingStrategy.prototype,{highWaterMark:{enumerable:!0},size:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(CountQueuingStrategy.prototype,Qc.toStringTag,{value:"CountQueuingStrategy",configurable:!0});class TransformStream{constructor(e={},t={},r={}){void 0===e&&(e=null);const n=Kh(t,"Second parameter"),i=Kh(r,"Third parameter"),a=function(e,t){Du(e,t);const r=null==e?void 0:e.flush,n=null==e?void 0:e.readableType,i=null==e?void 0:e.start,a=null==e?void 0:e.transform,s=null==e?void 0:e.writableType;return{flush:void 0===r?void 0:nd(r,e,`${t} has member 'flush' that`),readableType:n,start:void 0===i?void 0:id(i,e,`${t} has member 'start' that`),transform:void 0===a?void 0:ad(a,e,`${t} has member 'transform' that`),writableType:s}}(e,"First parameter");if(void 0!==a.readableType)throw new RangeError("Invalid readableType specified");if(void 0!==a.writableType)throw new RangeError("Invalid writableType specified");const s=Mh(i,0),o=Ch(i),c=Mh(n,1),u=Ch(n);let h;!function(e,t,r,n,i,a){function s(){return t}function o(t){return function(e,t){const r=e._transformStreamController;if(e._backpressure){return du(e._backpressureChangePromise,(()=>{const n=e._writable;if("erroring"===n._state)throw n._storedError;return ld(r,t)}))}return ld(r,t)}(e,t)}function c(t){return function(e,t){return od(e,t),su(void 0)}(e,t)}function u(){return function(e){const t=e._readable,r=e._transformStreamController,n=r._flushAlgorithm();return fd(r),du(n,(()=>{if("errored"===t._state)throw t._storedError;Cf(t._readableStreamController)}),(r=>{throw od(e,r),t._storedError}))}(e)}function h(){return function(e){return ud(e,!1),e._backpressureChangePromise}(e)}function f(t){return cd(e,t),su(void 0)}e._writable=function(e,t,r,n,i=1,a=(()=>1)){const s=Object.create(WritableStream.prototype);return qh(s),rf(s,Object.create(WritableStreamDefaultController.prototype),e,t,r,n,i,a),s}(s,o,u,c,r,n),e._readable=jf(s,h,f,i,a),e._backpressure=void 0,e._backpressureChangePromise=void 0,e._backpressureChangePromise_resolve=void 0,ud(e,!0),e._transformStreamController=void 0}(this,au((e=>{h=e})),c,u,s,o),function(e,t){const r=Object.create(TransformStreamDefaultController.prototype);let n=e=>{try{return dd(r,e),su(void 0)}catch(e){return ou(e)}},i=()=>su(void 0);void 0!==t.transform&&(n=e=>t.transform(e,r));void 0!==t.flush&&(i=()=>t.flush(r));!function(e,t,r,n){t._controlledTransformStream=e,e._transformStreamController=t,t._transformAlgorithm=r,t._flushAlgorithm=n}(e,r,n,i)}(this,a),void 0!==a.start?h(a.start(this._transformStreamController)):h(void 0)}get readable(){if(!sd(this))throw yd("readable");return this._readable}get writable(){if(!sd(this))throw yd("writable");return this._writable}}function sd(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")}function od(e,t){Df(e._readable._readableStreamController,t),cd(e,t)}function cd(e,t){fd(e._transformStreamController),of(e._writable._writableStreamController,t),e._backpressure&&ud(e,!1)}function ud(e,t){void 0!==e._backpressureChangePromise&&e._backpressureChangePromise_resolve(),e._backpressureChangePromise=au((t=>{e._backpressureChangePromise_resolve=t})),e._backpressure=t}Object.defineProperties(TransformStream.prototype,{readable:{enumerable:!0},writable:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(TransformStream.prototype,Qc.toStringTag,{value:"TransformStream",configurable:!0});class TransformStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!hd(this))throw pd("desiredSize");return If(this._controlledTransformStream._readable._readableStreamController)}enqueue(e=undefined){if(!hd(this))throw pd("enqueue");dd(this,e)}error(e=undefined){if(!hd(this))throw pd("error");var t;t=e,od(this._controlledTransformStream,t)}terminate(){if(!hd(this))throw pd("terminate");!function(e){const t=e._controlledTransformStream,r=t._readable._readableStreamController;Cf(r);const n=new TypeError("TransformStream terminated");cd(t,n)}(this)}}function hd(e){return!!Jc(e)&&!!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")}function fd(e){e._transformAlgorithm=void 0,e._flushAlgorithm=void 0}function dd(e,t){const r=e._controlledTransformStream,n=r._readable._readableStreamController;if(!Rf(n))throw new TypeError("Readable side is not in a state that permits enqueue");try{Kf(n,t)}catch(e){throw cd(r,e),r._readable._storedError}const i=function(e){return!xf(e)}(n);i!==r._backpressure&&ud(r,!0)}function ld(e,t){return du(e._transformAlgorithm(t),void 0,(t=>{throw od(e._controlledTransformStream,t),t}))}function pd(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function yd(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}Object.defineProperties(TransformStreamDefaultController.prototype,{enqueue:{enumerable:!0},error:{enumerable:!0},terminate:{enumerable:!0},desiredSize:{enumerable:!0}}),"symbol"==typeof Qc.toStringTag&&Object.defineProperty(TransformStreamDefaultController.prototype,Qc.toStringTag,{value:"TransformStreamDefaultController",configurable:!0});var bd=Object.freeze({__proto__:null,ByteLengthQueuingStrategy:ByteLengthQueuingStrategy,CountQueuingStrategy:CountQueuingStrategy,ReadableByteStreamController:ReadableByteStreamController,ReadableStream:ReadableStream,ReadableStreamBYOBReader:ReadableStreamBYOBReader,ReadableStreamBYOBRequest:ReadableStreamBYOBRequest,ReadableStreamDefaultController:ReadableStreamDefaultController,ReadableStreamDefaultReader:ReadableStreamDefaultReader,TransformStream:TransformStream,TransformStreamDefaultController:TransformStreamDefaultController,WritableStream:WritableStream,WritableStreamDefaultController:WritableStreamDefaultController,WritableStreamDefaultWriter:WritableStreamDefaultWriter}),md=function(e,t){return md=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(e,t){e.__proto__=t}||function(e,t){for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&(e[r]=t[r])},md(e,t)};function gd(e,t){if("function"!=typeof t&&null!==t)throw new TypeError("Class extends value "+String(t)+" is not a constructor or null");function r(){this.constructor=e}md(e,t),e.prototype=null===t?Object.create(t):(r.prototype=t.prototype,new r)}function wd(e){if(!e)throw new TypeError("Assertion failed")}function vd(){}function _d(e){return"object"==typeof e&&null!==e||"function"==typeof e}function kd(e){if("function"!=typeof e)return!1;var t=!1;try{new e({start:function(){t=!0}})}catch(e){}return t}function Sd(e){return!!_d(e)&&"function"==typeof e.getReader}function Ad(e){return!!_d(e)&&"function"==typeof e.getWriter}function Ed(e){return!!_d(e)&&(!!Sd(e.readable)&&!!Ad(e.writable))}function Pd(e){try{return e.getReader({mode:"byob"}).releaseLock(),!0}catch(e){return!1}}function xd(e,t){var r=(void 0===t?{}:t).type;return wd(Sd(e)),wd(!1===e.locked),"bytes"===(r=Md(r))?new Id(e):new Kd(e)}function Md(e){var t=String(e);if("bytes"===t)return t;if(void 0===e)return e;throw new RangeError("Invalid type is specified")}var Cd=function(){function e(e){this._underlyingReader=void 0,this._readerMode=void 0,this._readableStreamController=void 0,this._pendingRead=void 0,this._underlyingStream=e,this._attachDefaultReader()}return e.prototype.start=function(e){this._readableStreamController=e},e.prototype.cancel=function(e){return wd(void 0!==this._underlyingReader),this._underlyingReader.cancel(e)},e.prototype._attachDefaultReader=function(){if("default"!==this._readerMode){this._detachReader();var e=this._underlyingStream.getReader();this._readerMode="default",this._attachReader(e)}},e.prototype._attachReader=function(e){var t=this;wd(void 0===this._underlyingReader),this._underlyingReader=e;var r=this._underlyingReader.closed;r&&r.then((function(){return t._finishPendingRead()})).then((function(){e===t._underlyingReader&&t._readableStreamController.close()}),(function(r){e===t._underlyingReader&&t._readableStreamController.error(r)})).catch(vd)},e.prototype._detachReader=function(){void 0!==this._underlyingReader&&(this._underlyingReader.releaseLock(),this._underlyingReader=void 0,this._readerMode=void 0)},e.prototype._pullWithDefaultReader=function(){var e=this;this._attachDefaultReader();var t=this._underlyingReader.read().then((function(t){var r=e._readableStreamController;t.done?e._tryClose():r.enqueue(t.value)}));return this._setPendingRead(t),t},e.prototype._tryClose=function(){try{this._readableStreamController.close()}catch(e){}},e.prototype._setPendingRead=function(e){var t,r=this,n=function(){r._pendingRead===t&&(r._pendingRead=void 0)};this._pendingRead=t=e.then(n,n)},e.prototype._finishPendingRead=function(){var e=this;if(this._pendingRead){var t=function(){return e._finishPendingRead()};return this._pendingRead.then(t,t)}},e}(),Kd=function(e){function t(){return null!==e&&e.apply(this,arguments)||this}return gd(t,e),t.prototype.pull=function(){return this._pullWithDefaultReader()},t}(Cd);function Dd(e){return new Uint8Array(e.buffer,e.byteOffset,e.byteLength)}var Id=function(e){function t(t){var r=this,n=Pd(t);return(r=e.call(this,t)||this)._supportsByob=n,r}return gd(t,e),Object.defineProperty(t.prototype,"type",{get:function(){return"bytes"},enumerable:!1,configurable:!0}),t.prototype._attachByobReader=function(){if("byob"!==this._readerMode){wd(this._supportsByob),this._detachReader();var e=this._underlyingStream.getReader({mode:"byob"});this._readerMode="byob",this._attachReader(e)}},t.prototype.pull=function(){if(this._supportsByob){var e=this._readableStreamController.byobRequest;if(e)return this._pullWithByobRequest(e)}return this._pullWithDefaultReader()},t.prototype._pullWithByobRequest=function(e){var t=this;this._attachByobReader();var r=new Uint8Array(e.view.byteLength),n=this._underlyingReader.read(r).then((function(r){var n,i,a;t._readableStreamController,r.done?(t._tryClose(),e.respond(0)):(n=r.value,i=e.view,a=Dd(n),Dd(i).set(a,0),e.respond(r.value.byteLength))}));return this._setPendingRead(n),n},t}(Cd);function Rd(e){wd(Ad(e)),wd(!1===e.locked);var t=e.getWriter();return new Ud(t)}var Ud=function(){function e(e){var t=this;this._writableStreamController=void 0,this._pendingWrite=void 0,this._state="writable",this._storedError=void 0,this._underlyingWriter=e,this._errorPromise=new Promise((function(e,r){t._errorPromiseReject=r})),this._errorPromise.catch(vd)}return e.prototype.start=function(e){var t=this;this._writableStreamController=e,this._underlyingWriter.closed.then((function(){t._state="closed"})).catch((function(e){return t._finishErroring(e)}))},e.prototype.write=function(e){var t=this,r=this._underlyingWriter;if(null===r.desiredSize)return r.ready;var n=r.write(e);n.catch((function(e){return t._finishErroring(e)})),r.ready.catch((function(e){return t._startErroring(e)}));var i=Promise.race([n,this._errorPromise]);return this._setPendingWrite(i),i},e.prototype.close=function(){var e=this;return void 0===this._pendingWrite?this._underlyingWriter.close():this._finishPendingWrite().then((function(){return e.close()}))},e.prototype.abort=function(e){if("errored"!==this._state)return this._underlyingWriter.abort(e)},e.prototype._setPendingWrite=function(e){var t,r=this,n=function(){r._pendingWrite===t&&(r._pendingWrite=void 0)};this._pendingWrite=t=e.then(n,n)},e.prototype._finishPendingWrite=function(){var e=this;if(void 0===this._pendingWrite)return Promise.resolve();var t=function(){return e._finishPendingWrite()};return this._pendingWrite.then(t,t)},e.prototype._startErroring=function(e){var t=this;if("writable"===this._state){this._state="erroring",this._storedError=e;var r=function(){return t._finishErroring(e)};void 0===this._pendingWrite?r():this._finishPendingWrite().then(r,r),this._writableStreamController.error(e)}},e.prototype._finishErroring=function(e){"writable"===this._state&&this._startErroring(e),"erroring"===this._state&&(this._state="errored",this._errorPromiseReject(this._storedError))},e}();function Bd(e){wd(Ed(e));var t=e.readable,r=e.writable;wd(!1===t.locked),wd(!1===r.locked);var n,i=t.getReader();try{n=r.getWriter()}catch(e){throw i.releaseLock(),e}return new Td(i,n)}var Td=function(){function e(e,t){var r=this;this._transformStreamController=void 0,this._onRead=function(e){if(!e.done)return r._transformStreamController.enqueue(e.value),r._reader.read().then(r._onRead)},this._onError=function(e){r._flushReject(e),r._transformStreamController.error(e),r._reader.cancel(e).catch(vd),r._writer.abort(e).catch(vd)},this._onTerminate=function(){r._flushResolve(),r._transformStreamController.terminate();var e=new TypeError("TransformStream terminated");r._writer.abort(e).catch(vd)},this._reader=e,this._writer=t,this._flushPromise=new Promise((function(e,t){r._flushResolve=e,r._flushReject=t}))}return e.prototype.start=function(e){this._transformStreamController=e,this._reader.read().then(this._onRead).then(this._onTerminate,this._onError);var t=this._reader.closed;t&&t.then(this._onTerminate,this._onError)},e.prototype.transform=function(e){return this._writer.write(e)},e.prototype.flush=function(){var e=this;return this._writer.close().then((function(){return e._flushPromise}))},e}(),zd=Object.freeze({__proto__:null,createReadableStreamWrapper:function(e){wd(function(e){return!!kd(e)&&!!Sd(new e)}(e));var t=function(e){try{return new e({type:"bytes"}),!0}catch(e){return!1}}(e);return function(r,n){var i=(void 0===n?{}:n).type;if("bytes"!==(i=Md(i))||t||(i=void 0),r.constructor===e&&("bytes"!==i||Pd(r)))return r;if("bytes"===i){var a=xd(r,{type:i});return new e(a)}a=xd(r);return new e(a)}},createTransformStreamWrapper:function(e){return wd(function(e){return!!kd(e)&&!!Ed(new e)}(e)),function(t){if(t.constructor===e)return t;var r=Bd(t);return new e(r)}},createWrappingReadableSource:xd,createWrappingTransformer:Bd,createWrappingWritableSink:Rd,createWritableStreamWrapper:function(e){return wd(function(e){return!!kd(e)&&!!Ad(new e)}(e)),function(t){if(t.constructor===e)return t;var r=Rd(t);return new e(r)}}}),qd=He((function(e){!function(e,t){function r(e,t){if(!e)throw new Error(t||"Assertion failed")}function n(e,t){e.super_=t;var r=function(){};r.prototype=t.prototype,e.prototype=new r,e.prototype.constructor=e}function i(e,t,r){if(i.isBN(e))return e;this.negative=0,this.words=null,this.length=0,this.red=null,null!==e&&("le"!==t&&"be"!==t||(r=t,t=10),this._init(e||0,t||10,r||"be"))}var a;"object"==typeof e?e.exports=i:t.BN=i,i.BN=i,i.wordSize=26;try{a="undefined"!=typeof window&&void 0!==window.Buffer?window.Buffer:void 0}catch(e){}function s(e,t){var r=e.charCodeAt(t);return r>=65&&r<=70?r-55:r>=97&&r<=102?r-87:r-48&15}function o(e,t,r){var n=s(e,r);return r-1>=t&&(n|=s(e,r-1)<<4),n}function c(e,t,r,n){for(var i=0,a=Math.min(e.length,r),s=t;s<a;s++){var o=e.charCodeAt(s)-48;i*=n,i+=o>=49?o-49+10:o>=17?o-17+10:o}return i}i.isBN=function(e){return e instanceof i||null!==e&&"object"==typeof e&&e.constructor.wordSize===i.wordSize&&Array.isArray(e.words)},i.max=function(e,t){return e.cmp(t)>0?e:t},i.min=function(e,t){return e.cmp(t)<0?e:t},i.prototype._init=function(e,t,n){if("number"==typeof e)return this._initNumber(e,t,n);if("object"==typeof e)return this._initArray(e,t,n);"hex"===t&&(t=16),r(t===(0|t)&&t>=2&&t<=36);var i=0;"-"===(e=e.toString().replace(/\s+/g,""))[0]&&(i++,this.negative=1),i<e.length&&(16===t?this._parseHex(e,i,n):(this._parseBase(e,t,i),"le"===n&&this._initArray(this.toArray(),t,n)))},i.prototype._initNumber=function(e,t,n){e<0&&(this.negative=1,e=-e),e<67108864?(this.words=[67108863&e],this.length=1):e<4503599627370496?(this.words=[67108863&e,e/67108864&67108863],this.length=2):(r(e<9007199254740992),this.words=[67108863&e,e/67108864&67108863,1],this.length=3),"le"===n&&this._initArray(this.toArray(),t,n)},i.prototype._initArray=function(e,t,n){if(r("number"==typeof e.length),e.length<=0)return this.words=[0],this.length=1,this;this.length=Math.ceil(e.length/3),this.words=new Array(this.length);for(var i=0;i<this.length;i++)this.words[i]=0;var a,s,o=0;if("be"===n)for(i=e.length-1,a=0;i>=0;i-=3)s=e[i]|e[i-1]<<8|e[i-2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);else if("le"===n)for(i=0,a=0;i<e.length;i+=3)s=e[i]|e[i+1]<<8|e[i+2]<<16,this.words[a]|=s<<o&67108863,this.words[a+1]=s>>>26-o&67108863,(o+=24)>=26&&(o-=26,a++);return this.strip()},i.prototype._parseHex=function(e,t,r){this.length=Math.ceil((e.length-t)/6),this.words=new Array(this.length);for(var n=0;n<this.length;n++)this.words[n]=0;var i,a=0,s=0;if("be"===r)for(n=e.length-1;n>=t;n-=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;else for(n=(e.length-t)%2==0?t+1:t;n<e.length;n+=2)i=o(e,t,n)<<a,this.words[s]|=67108863&i,a>=18?(a-=18,s+=1,this.words[s]|=i>>>26):a+=8;this.strip()},i.prototype._parseBase=function(e,t,r){this.words=[0],this.length=1;for(var n=0,i=1;i<=67108863;i*=t)n++;n--,i=i/t|0;for(var a=e.length-r,s=a%n,o=Math.min(a,a-s)+r,u=0,h=r;h<o;h+=n)u=c(e,h,h+n,t),this.imuln(i),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u);if(0!==s){var f=1;for(u=c(e,h,e.length,t),h=0;h<s;h++)f*=t;this.imuln(f),this.words[0]+u<67108864?this.words[0]+=u:this._iaddn(u)}this.strip()},i.prototype.copy=function(e){e.words=new Array(this.length);for(var t=0;t<this.length;t++)e.words[t]=this.words[t];e.length=this.length,e.negative=this.negative,e.red=this.red},i.prototype.clone=function(){var e=new i(null);return this.copy(e),e},i.prototype._expand=function(e){for(;this.length<e;)this.words[this.length++]=0;return this},i.prototype.strip=function(){for(;this.length>1&&0===this.words[this.length-1];)this.length--;return this._normSign()},i.prototype._normSign=function(){return 1===this.length&&0===this.words[0]&&(this.negative=0),this},i.prototype.inspect=function(){return(this.red?"<BN-R: ":"<BN: ")+this.toString(16)+">"};var u=["","0","00","000","0000","00000","000000","0000000","00000000","000000000","0000000000","00000000000","000000000000","0000000000000","00000000000000","000000000000000","0000000000000000","00000000000000000","000000000000000000","0000000000000000000","00000000000000000000","000000000000000000000","0000000000000000000000","00000000000000000000000","000000000000000000000000","0000000000000000000000000"],h=[0,0,25,16,12,11,10,9,8,8,7,7,7,7,6,6,6,6,6,6,6,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5,5],f=[0,0,33554432,43046721,16777216,48828125,60466176,40353607,16777216,43046721,1e7,19487171,35831808,62748517,7529536,11390625,16777216,24137569,34012224,47045881,64e6,4084101,5153632,6436343,7962624,9765625,11881376,14348907,17210368,20511149,243e5,28629151,33554432,39135393,45435424,52521875,60466176];function d(e,t,r){r.negative=t.negative^e.negative;var n=e.length+t.length|0;r.length=n,n=n-1|0;var i=0|e.words[0],a=0|t.words[0],s=i*a,o=67108863&s,c=s/67108864|0;r.words[0]=o;for(var u=1;u<n;u++){for(var h=c>>>26,f=67108863&c,d=Math.min(u,t.length-1),l=Math.max(0,u-e.length+1);l<=d;l++){var p=u-l|0;h+=(s=(i=0|e.words[p])*(a=0|t.words[l])+f)/67108864|0,f=67108863&s}r.words[u]=0|f,c=0|h}return 0!==c?r.words[u]=0|c:r.length--,r.strip()}i.prototype.toString=function(e,t){var n;if(t=0|t||1,16===(e=e||10)||"hex"===e){n="";for(var i=0,a=0,s=0;s<this.length;s++){var o=this.words[s],c=(16777215&(o<<i|a)).toString(16);n=0!==(a=o>>>24-i&16777215)||s!==this.length-1?u[6-c.length]+c+n:c+n,(i+=2)>=26&&(i-=26,s--)}for(0!==a&&(n=a.toString(16)+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}if(e===(0|e)&&e>=2&&e<=36){var d=h[e],l=f[e];n="";var p=this.clone();for(p.negative=0;!p.isZero();){var y=p.modn(l).toString(e);n=(p=p.idivn(l)).isZero()?y+n:u[d-y.length]+y+n}for(this.isZero()&&(n="0"+n);n.length%t!=0;)n="0"+n;return 0!==this.negative&&(n="-"+n),n}r(!1,"Base should be between 2 and 36")},i.prototype.toNumber=function(){var e=this.words[0];return 2===this.length?e+=67108864*this.words[1]:3===this.length&&1===this.words[2]?e+=4503599627370496+67108864*this.words[1]:this.length>2&&r(!1,"Number can only safely store up to 53 bits"),0!==this.negative?-e:e},i.prototype.toJSON=function(){return this.toString(16)},i.prototype.toBuffer=function(e,t){return r(void 0!==a),this.toArrayLike(a,e,t)},i.prototype.toArray=function(e,t){return this.toArrayLike(Array,e,t)},i.prototype.toArrayLike=function(e,t,n){var i=this.byteLength(),a=n||Math.max(1,i);r(i<=a,"byte array longer than desired length"),r(a>0,"Requested array length <= 0"),this.strip();var s,o,c="le"===t,u=new e(a),h=this.clone();if(c){for(o=0;!h.isZero();o++)s=h.andln(255),h.iushrn(8),u[o]=s;for(;o<a;o++)u[o]=0}else{for(o=0;o<a-i;o++)u[o]=0;for(o=0;!h.isZero();o++)s=h.andln(255),h.iushrn(8),u[a-o-1]=s}return u},Math.clz32?i.prototype._countBits=function(e){return 32-Math.clz32(e)}:i.prototype._countBits=function(e){var t=e,r=0;return t>=4096&&(r+=13,t>>>=13),t>=64&&(r+=7,t>>>=7),t>=8&&(r+=4,t>>>=4),t>=2&&(r+=2,t>>>=2),r+t},i.prototype._zeroBits=function(e){if(0===e)return 26;var t=e,r=0;return 0==(8191&t)&&(r+=13,t>>>=13),0==(127&t)&&(r+=7,t>>>=7),0==(15&t)&&(r+=4,t>>>=4),0==(3&t)&&(r+=2,t>>>=2),0==(1&t)&&r++,r},i.prototype.bitLength=function(){var e=this.words[this.length-1],t=this._countBits(e);return 26*(this.length-1)+t},i.prototype.zeroBits=function(){if(this.isZero())return 0;for(var e=0,t=0;t<this.length;t++){var r=this._zeroBits(this.words[t]);if(e+=r,26!==r)break}return e},i.prototype.byteLength=function(){return Math.ceil(this.bitLength()/8)},i.prototype.toTwos=function(e){return 0!==this.negative?this.abs().inotn(e).iaddn(1):this.clone()},i.prototype.fromTwos=function(e){return this.testn(e-1)?this.notn(e).iaddn(1).ineg():this.clone()},i.prototype.isNeg=function(){return 0!==this.negative},i.prototype.neg=function(){return this.clone().ineg()},i.prototype.ineg=function(){return this.isZero()||(this.negative^=1),this},i.prototype.iuor=function(e){for(;this.length<e.length;)this.words[this.length++]=0;for(var t=0;t<e.length;t++)this.words[t]=this.words[t]|e.words[t];return this.strip()},i.prototype.ior=function(e){return r(0==(this.negative|e.negative)),this.iuor(e)},i.prototype.or=function(e){return this.length>e.length?this.clone().ior(e):e.clone().ior(this)},i.prototype.uor=function(e){return this.length>e.length?this.clone().iuor(e):e.clone().iuor(this)},i.prototype.iuand=function(e){var t;t=this.length>e.length?e:this;for(var r=0;r<t.length;r++)this.words[r]=this.words[r]&e.words[r];return this.length=t.length,this.strip()},i.prototype.iand=function(e){return r(0==(this.negative|e.negative)),this.iuand(e)},i.prototype.and=function(e){return this.length>e.length?this.clone().iand(e):e.clone().iand(this)},i.prototype.uand=function(e){return this.length>e.length?this.clone().iuand(e):e.clone().iuand(this)},i.prototype.iuxor=function(e){var t,r;this.length>e.length?(t=this,r=e):(t=e,r=this);for(var n=0;n<r.length;n++)this.words[n]=t.words[n]^r.words[n];if(this!==t)for(;n<t.length;n++)this.words[n]=t.words[n];return this.length=t.length,this.strip()},i.prototype.ixor=function(e){return r(0==(this.negative|e.negative)),this.iuxor(e)},i.prototype.xor=function(e){return this.length>e.length?this.clone().ixor(e):e.clone().ixor(this)},i.prototype.uxor=function(e){return this.length>e.length?this.clone().iuxor(e):e.clone().iuxor(this)},i.prototype.inotn=function(e){r("number"==typeof e&&e>=0);var t=0|Math.ceil(e/26),n=e%26;this._expand(t),n>0&&t--;for(var i=0;i<t;i++)this.words[i]=67108863&~this.words[i];return n>0&&(this.words[i]=~this.words[i]&67108863>>26-n),this.strip()},i.prototype.notn=function(e){return this.clone().inotn(e)},i.prototype.setn=function(e,t){r("number"==typeof e&&e>=0);var n=e/26|0,i=e%26;return this._expand(n+1),this.words[n]=t?this.words[n]|1<<i:this.words[n]&~(1<<i),this.strip()},i.prototype.iadd=function(e){var t,r,n;if(0!==this.negative&&0===e.negative)return this.negative=0,t=this.isub(e),this.negative^=1,this._normSign();if(0===this.negative&&0!==e.negative)return e.negative=0,t=this.isub(e),e.negative=1,t._normSign();this.length>e.length?(r=this,n=e):(r=e,n=this);for(var i=0,a=0;a<n.length;a++)t=(0|r.words[a])+(0|n.words[a])+i,this.words[a]=67108863&t,i=t>>>26;for(;0!==i&&a<r.length;a++)t=(0|r.words[a])+i,this.words[a]=67108863&t,i=t>>>26;if(this.length=r.length,0!==i)this.words[this.length]=i,this.length++;else if(r!==this)for(;a<r.length;a++)this.words[a]=r.words[a];return this},i.prototype.add=function(e){var t;return 0!==e.negative&&0===this.negative?(e.negative=0,t=this.sub(e),e.negative^=1,t):0===e.negative&&0!==this.negative?(this.negative=0,t=e.sub(this),this.negative=1,t):this.length>e.length?this.clone().iadd(e):e.clone().iadd(this)},i.prototype.isub=function(e){if(0!==e.negative){e.negative=0;var t=this.iadd(e);return e.negative=1,t._normSign()}if(0!==this.negative)return this.negative=0,this.iadd(e),this.negative=1,this._normSign();var r,n,i=this.cmp(e);if(0===i)return this.negative=0,this.length=1,this.words[0]=0,this;i>0?(r=this,n=e):(r=e,n=this);for(var a=0,s=0;s<n.length;s++)a=(t=(0|r.words[s])-(0|n.words[s])+a)>>26,this.words[s]=67108863&t;for(;0!==a&&s<r.length;s++)a=(t=(0|r.words[s])+a)>>26,this.words[s]=67108863&t;if(0===a&&s<r.length&&r!==this)for(;s<r.length;s++)this.words[s]=r.words[s];return this.length=Math.max(this.length,s),r!==this&&(this.negative=1),this.strip()},i.prototype.sub=function(e){return this.clone().isub(e)};var l=function(e,t,r){var n,i,a,s=e.words,o=t.words,c=r.words,u=0,h=0|s[0],f=8191&h,d=h>>>13,l=0|s[1],p=8191&l,y=l>>>13,b=0|s[2],m=8191&b,g=b>>>13,w=0|s[3],v=8191&w,_=w>>>13,k=0|s[4],S=8191&k,A=k>>>13,E=0|s[5],P=8191&E,x=E>>>13,M=0|s[6],C=8191&M,K=M>>>13,D=0|s[7],I=8191&D,R=D>>>13,U=0|s[8],B=8191&U,T=U>>>13,z=0|s[9],q=8191&z,O=z>>>13,F=0|o[0],L=8191&F,j=F>>>13,N=0|o[1],W=8191&N,H=N>>>13,$=0|o[2],G=8191&$,V=$>>>13,Z=0|o[3],Q=8191&Z,Y=Z>>>13,X=0|o[4],J=8191&X,ee=X>>>13,te=0|o[5],re=8191&te,ne=te>>>13,ie=0|o[6],ae=8191&ie,se=ie>>>13,oe=0|o[7],ce=8191&oe,ue=oe>>>13,he=0|o[8],fe=8191&he,de=he>>>13,le=0|o[9],pe=8191&le,ye=le>>>13;r.negative=e.negative^t.negative,r.length=19;var be=(u+(n=Math.imul(f,L))|0)+((8191&(i=(i=Math.imul(f,j))+Math.imul(d,L)|0))<<13)|0;u=((a=Math.imul(d,j))+(i>>>13)|0)+(be>>>26)|0,be&=67108863,n=Math.imul(p,L),i=(i=Math.imul(p,j))+Math.imul(y,L)|0,a=Math.imul(y,j);var me=(u+(n=n+Math.imul(f,W)|0)|0)+((8191&(i=(i=i+Math.imul(f,H)|0)+Math.imul(d,W)|0))<<13)|0;u=((a=a+Math.imul(d,H)|0)+(i>>>13)|0)+(me>>>26)|0,me&=67108863,n=Math.imul(m,L),i=(i=Math.imul(m,j))+Math.imul(g,L)|0,a=Math.imul(g,j),n=n+Math.imul(p,W)|0,i=(i=i+Math.imul(p,H)|0)+Math.imul(y,W)|0,a=a+Math.imul(y,H)|0;var ge=(u+(n=n+Math.imul(f,G)|0)|0)+((8191&(i=(i=i+Math.imul(f,V)|0)+Math.imul(d,G)|0))<<13)|0;u=((a=a+Math.imul(d,V)|0)+(i>>>13)|0)+(ge>>>26)|0,ge&=67108863,n=Math.imul(v,L),i=(i=Math.imul(v,j))+Math.imul(_,L)|0,a=Math.imul(_,j),n=n+Math.imul(m,W)|0,i=(i=i+Math.imul(m,H)|0)+Math.imul(g,W)|0,a=a+Math.imul(g,H)|0,n=n+Math.imul(p,G)|0,i=(i=i+Math.imul(p,V)|0)+Math.imul(y,G)|0,a=a+Math.imul(y,V)|0;var we=(u+(n=n+Math.imul(f,Q)|0)|0)+((8191&(i=(i=i+Math.imul(f,Y)|0)+Math.imul(d,Q)|0))<<13)|0;u=((a=a+Math.imul(d,Y)|0)+(i>>>13)|0)+(we>>>26)|0,we&=67108863,n=Math.imul(S,L),i=(i=Math.imul(S,j))+Math.imul(A,L)|0,a=Math.imul(A,j),n=n+Math.imul(v,W)|0,i=(i=i+Math.imul(v,H)|0)+Math.imul(_,W)|0,a=a+Math.imul(_,H)|0,n=n+Math.imul(m,G)|0,i=(i=i+Math.imul(m,V)|0)+Math.imul(g,G)|0,a=a+Math.imul(g,V)|0,n=n+Math.imul(p,Q)|0,i=(i=i+Math.imul(p,Y)|0)+Math.imul(y,Q)|0,a=a+Math.imul(y,Y)|0;var ve=(u+(n=n+Math.imul(f,J)|0)|0)+((8191&(i=(i=i+Math.imul(f,ee)|0)+Math.imul(d,J)|0))<<13)|0;u=((a=a+Math.imul(d,ee)|0)+(i>>>13)|0)+(ve>>>26)|0,ve&=67108863,n=Math.imul(P,L),i=(i=Math.imul(P,j))+Math.imul(x,L)|0,a=Math.imul(x,j),n=n+Math.imul(S,W)|0,i=(i=i+Math.imul(S,H)|0)+Math.imul(A,W)|0,a=a+Math.imul(A,H)|0,n=n+Math.imul(v,G)|0,i=(i=i+Math.imul(v,V)|0)+Math.imul(_,G)|0,a=a+Math.imul(_,V)|0,n=n+Math.imul(m,Q)|0,i=(i=i+Math.imul(m,Y)|0)+Math.imul(g,Q)|0,a=a+Math.imul(g,Y)|0,n=n+Math.imul(p,J)|0,i=(i=i+Math.imul(p,ee)|0)+Math.imul(y,J)|0,a=a+Math.imul(y,ee)|0;var _e=(u+(n=n+Math.imul(f,re)|0)|0)+((8191&(i=(i=i+Math.imul(f,ne)|0)+Math.imul(d,re)|0))<<13)|0;u=((a=a+Math.imul(d,ne)|0)+(i>>>13)|0)+(_e>>>26)|0,_e&=67108863,n=Math.imul(C,L),i=(i=Math.imul(C,j))+Math.imul(K,L)|0,a=Math.imul(K,j),n=n+Math.imul(P,W)|0,i=(i=i+Math.imul(P,H)|0)+Math.imul(x,W)|0,a=a+Math.imul(x,H)|0,n=n+Math.imul(S,G)|0,i=(i=i+Math.imul(S,V)|0)+Math.imul(A,G)|0,a=a+Math.imul(A,V)|0,n=n+Math.imul(v,Q)|0,i=(i=i+Math.imul(v,Y)|0)+Math.imul(_,Q)|0,a=a+Math.imul(_,Y)|0,n=n+Math.imul(m,J)|0,i=(i=i+Math.imul(m,ee)|0)+Math.imul(g,J)|0,a=a+Math.imul(g,ee)|0,n=n+Math.imul(p,re)|0,i=(i=i+Math.imul(p,ne)|0)+Math.imul(y,re)|0,a=a+Math.imul(y,ne)|0;var ke=(u+(n=n+Math.imul(f,ae)|0)|0)+((8191&(i=(i=i+Math.imul(f,se)|0)+Math.imul(d,ae)|0))<<13)|0;u=((a=a+Math.imul(d,se)|0)+(i>>>13)|0)+(ke>>>26)|0,ke&=67108863,n=Math.imul(I,L),i=(i=Math.imul(I,j))+Math.imul(R,L)|0,a=Math.imul(R,j),n=n+Math.imul(C,W)|0,i=(i=i+Math.imul(C,H)|0)+Math.imul(K,W)|0,a=a+Math.imul(K,H)|0,n=n+Math.imul(P,G)|0,i=(i=i+Math.imul(P,V)|0)+Math.imul(x,G)|0,a=a+Math.imul(x,V)|0,n=n+Math.imul(S,Q)|0,i=(i=i+Math.imul(S,Y)|0)+Math.imul(A,Q)|0,a=a+Math.imul(A,Y)|0,n=n+Math.imul(v,J)|0,i=(i=i+Math.imul(v,ee)|0)+Math.imul(_,J)|0,a=a+Math.imul(_,ee)|0,n=n+Math.imul(m,re)|0,i=(i=i+Math.imul(m,ne)|0)+Math.imul(g,re)|0,a=a+Math.imul(g,ne)|0,n=n+Math.imul(p,ae)|0,i=(i=i+Math.imul(p,se)|0)+Math.imul(y,ae)|0,a=a+Math.imul(y,se)|0;var Se=(u+(n=n+Math.imul(f,ce)|0)|0)+((8191&(i=(i=i+Math.imul(f,ue)|0)+Math.imul(d,ce)|0))<<13)|0;u=((a=a+Math.imul(d,ue)|0)+(i>>>13)|0)+(Se>>>26)|0,Se&=67108863,n=Math.imul(B,L),i=(i=Math.imul(B,j))+Math.imul(T,L)|0,a=Math.imul(T,j),n=n+Math.imul(I,W)|0,i=(i=i+Math.imul(I,H)|0)+Math.imul(R,W)|0,a=a+Math.imul(R,H)|0,n=n+Math.imul(C,G)|0,i=(i=i+Math.imul(C,V)|0)+Math.imul(K,G)|0,a=a+Math.imul(K,V)|0,n=n+Math.imul(P,Q)|0,i=(i=i+Math.imul(P,Y)|0)+Math.imul(x,Q)|0,a=a+Math.imul(x,Y)|0,n=n+Math.imul(S,J)|0,i=(i=i+Math.imul(S,ee)|0)+Math.imul(A,J)|0,a=a+Math.imul(A,ee)|0,n=n+Math.imul(v,re)|0,i=(i=i+Math.imul(v,ne)|0)+Math.imul(_,re)|0,a=a+Math.imul(_,ne)|0,n=n+Math.imul(m,ae)|0,i=(i=i+Math.imul(m,se)|0)+Math.imul(g,ae)|0,a=a+Math.imul(g,se)|0,n=n+Math.imul(p,ce)|0,i=(i=i+Math.imul(p,ue)|0)+Math.imul(y,ce)|0,a=a+Math.imul(y,ue)|0;var Ae=(u+(n=n+Math.imul(f,fe)|0)|0)+((8191&(i=(i=i+Math.imul(f,de)|0)+Math.imul(d,fe)|0))<<13)|0;u=((a=a+Math.imul(d,de)|0)+(i>>>13)|0)+(Ae>>>26)|0,Ae&=67108863,n=Math.imul(q,L),i=(i=Math.imul(q,j))+Math.imul(O,L)|0,a=Math.imul(O,j),n=n+Math.imul(B,W)|0,i=(i=i+Math.imul(B,H)|0)+Math.imul(T,W)|0,a=a+Math.imul(T,H)|0,n=n+Math.imul(I,G)|0,i=(i=i+Math.imul(I,V)|0)+Math.imul(R,G)|0,a=a+Math.imul(R,V)|0,n=n+Math.imul(C,Q)|0,i=(i=i+Math.imul(C,Y)|0)+Math.imul(K,Q)|0,a=a+Math.imul(K,Y)|0,n=n+Math.imul(P,J)|0,i=(i=i+Math.imul(P,ee)|0)+Math.imul(x,J)|0,a=a+Math.imul(x,ee)|0,n=n+Math.imul(S,re)|0,i=(i=i+Math.imul(S,ne)|0)+Math.imul(A,re)|0,a=a+Math.imul(A,ne)|0,n=n+Math.imul(v,ae)|0,i=(i=i+Math.imul(v,se)|0)+Math.imul(_,ae)|0,a=a+Math.imul(_,se)|0,n=n+Math.imul(m,ce)|0,i=(i=i+Math.imul(m,ue)|0)+Math.imul(g,ce)|0,a=a+Math.imul(g,ue)|0,n=n+Math.imul(p,fe)|0,i=(i=i+Math.imul(p,de)|0)+Math.imul(y,fe)|0,a=a+Math.imul(y,de)|0;var Ee=(u+(n=n+Math.imul(f,pe)|0)|0)+((8191&(i=(i=i+Math.imul(f,ye)|0)+Math.imul(d,pe)|0))<<13)|0;u=((a=a+Math.imul(d,ye)|0)+(i>>>13)|0)+(Ee>>>26)|0,Ee&=67108863,n=Math.imul(q,W),i=(i=Math.imul(q,H))+Math.imul(O,W)|0,a=Math.imul(O,H),n=n+Math.imul(B,G)|0,i=(i=i+Math.imul(B,V)|0)+Math.imul(T,G)|0,a=a+Math.imul(T,V)|0,n=n+Math.imul(I,Q)|0,i=(i=i+Math.imul(I,Y)|0)+Math.imul(R,Q)|0,a=a+Math.imul(R,Y)|0,n=n+Math.imul(C,J)|0,i=(i=i+Math.imul(C,ee)|0)+Math.imul(K,J)|0,a=a+Math.imul(K,ee)|0,n=n+Math.imul(P,re)|0,i=(i=i+Math.imul(P,ne)|0)+Math.imul(x,re)|0,a=a+Math.imul(x,ne)|0,n=n+Math.imul(S,ae)|0,i=(i=i+Math.imul(S,se)|0)+Math.imul(A,ae)|0,a=a+Math.imul(A,se)|0,n=n+Math.imul(v,ce)|0,i=(i=i+Math.imul(v,ue)|0)+Math.imul(_,ce)|0,a=a+Math.imul(_,ue)|0,n=n+Math.imul(m,fe)|0,i=(i=i+Math.imul(m,de)|0)+Math.imul(g,fe)|0,a=a+Math.imul(g,de)|0;var Pe=(u+(n=n+Math.imul(p,pe)|0)|0)+((8191&(i=(i=i+Math.imul(p,ye)|0)+Math.imul(y,pe)|0))<<13)|0;u=((a=a+Math.imul(y,ye)|0)+(i>>>13)|0)+(Pe>>>26)|0,Pe&=67108863,n=Math.imul(q,G),i=(i=Math.imul(q,V))+Math.imul(O,G)|0,a=Math.imul(O,V),n=n+Math.imul(B,Q)|0,i=(i=i+Math.imul(B,Y)|0)+Math.imul(T,Q)|0,a=a+Math.imul(T,Y)|0,n=n+Math.imul(I,J)|0,i=(i=i+Math.imul(I,ee)|0)+Math.imul(R,J)|0,a=a+Math.imul(R,ee)|0,n=n+Math.imul(C,re)|0,i=(i=i+Math.imul(C,ne)|0)+Math.imul(K,re)|0,a=a+Math.imul(K,ne)|0,n=n+Math.imul(P,ae)|0,i=(i=i+Math.imul(P,se)|0)+Math.imul(x,ae)|0,a=a+Math.imul(x,se)|0,n=n+Math.imul(S,ce)|0,i=(i=i+Math.imul(S,ue)|0)+Math.imul(A,ce)|0,a=a+Math.imul(A,ue)|0,n=n+Math.imul(v,fe)|0,i=(i=i+Math.imul(v,de)|0)+Math.imul(_,fe)|0,a=a+Math.imul(_,de)|0;var xe=(u+(n=n+Math.imul(m,pe)|0)|0)+((8191&(i=(i=i+Math.imul(m,ye)|0)+Math.imul(g,pe)|0))<<13)|0;u=((a=a+Math.imul(g,ye)|0)+(i>>>13)|0)+(xe>>>26)|0,xe&=67108863,n=Math.imul(q,Q),i=(i=Math.imul(q,Y))+Math.imul(O,Q)|0,a=Math.imul(O,Y),n=n+Math.imul(B,J)|0,i=(i=i+Math.imul(B,ee)|0)+Math.imul(T,J)|0,a=a+Math.imul(T,ee)|0,n=n+Math.imul(I,re)|0,i=(i=i+Math.imul(I,ne)|0)+Math.imul(R,re)|0,a=a+Math.imul(R,ne)|0,n=n+Math.imul(C,ae)|0,i=(i=i+Math.imul(C,se)|0)+Math.imul(K,ae)|0,a=a+Math.imul(K,se)|0,n=n+Math.imul(P,ce)|0,i=(i=i+Math.imul(P,ue)|0)+Math.imul(x,ce)|0,a=a+Math.imul(x,ue)|0,n=n+Math.imul(S,fe)|0,i=(i=i+Math.imul(S,de)|0)+Math.imul(A,fe)|0,a=a+Math.imul(A,de)|0;var Me=(u+(n=n+Math.imul(v,pe)|0)|0)+((8191&(i=(i=i+Math.imul(v,ye)|0)+Math.imul(_,pe)|0))<<13)|0;u=((a=a+Math.imul(_,ye)|0)+(i>>>13)|0)+(Me>>>26)|0,Me&=67108863,n=Math.imul(q,J),i=(i=Math.imul(q,ee))+Math.imul(O,J)|0,a=Math.imul(O,ee),n=n+Math.imul(B,re)|0,i=(i=i+Math.imul(B,ne)|0)+Math.imul(T,re)|0,a=a+Math.imul(T,ne)|0,n=n+Math.imul(I,ae)|0,i=(i=i+Math.imul(I,se)|0)+Math.imul(R,ae)|0,a=a+Math.imul(R,se)|0,n=n+Math.imul(C,ce)|0,i=(i=i+Math.imul(C,ue)|0)+Math.imul(K,ce)|0,a=a+Math.imul(K,ue)|0,n=n+Math.imul(P,fe)|0,i=(i=i+Math.imul(P,de)|0)+Math.imul(x,fe)|0,a=a+Math.imul(x,de)|0;var Ce=(u+(n=n+Math.imul(S,pe)|0)|0)+((8191&(i=(i=i+Math.imul(S,ye)|0)+Math.imul(A,pe)|0))<<13)|0;u=((a=a+Math.imul(A,ye)|0)+(i>>>13)|0)+(Ce>>>26)|0,Ce&=67108863,n=Math.imul(q,re),i=(i=Math.imul(q,ne))+Math.imul(O,re)|0,a=Math.imul(O,ne),n=n+Math.imul(B,ae)|0,i=(i=i+Math.imul(B,se)|0)+Math.imul(T,ae)|0,a=a+Math.imul(T,se)|0,n=n+Math.imul(I,ce)|0,i=(i=i+Math.imul(I,ue)|0)+Math.imul(R,ce)|0,a=a+Math.imul(R,ue)|0,n=n+Math.imul(C,fe)|0,i=(i=i+Math.imul(C,de)|0)+Math.imul(K,fe)|0,a=a+Math.imul(K,de)|0;var Ke=(u+(n=n+Math.imul(P,pe)|0)|0)+((8191&(i=(i=i+Math.imul(P,ye)|0)+Math.imul(x,pe)|0))<<13)|0;u=((a=a+Math.imul(x,ye)|0)+(i>>>13)|0)+(Ke>>>26)|0,Ke&=67108863,n=Math.imul(q,ae),i=(i=Math.imul(q,se))+Math.imul(O,ae)|0,a=Math.imul(O,se),n=n+Math.imul(B,ce)|0,i=(i=i+Math.imul(B,ue)|0)+Math.imul(T,ce)|0,a=a+Math.imul(T,ue)|0,n=n+Math.imul(I,fe)|0,i=(i=i+Math.imul(I,de)|0)+Math.imul(R,fe)|0,a=a+Math.imul(R,de)|0;var De=(u+(n=n+Math.imul(C,pe)|0)|0)+((8191&(i=(i=i+Math.imul(C,ye)|0)+Math.imul(K,pe)|0))<<13)|0;u=((a=a+Math.imul(K,ye)|0)+(i>>>13)|0)+(De>>>26)|0,De&=67108863,n=Math.imul(q,ce),i=(i=Math.imul(q,ue))+Math.imul(O,ce)|0,a=Math.imul(O,ue),n=n+Math.imul(B,fe)|0,i=(i=i+Math.imul(B,de)|0)+Math.imul(T,fe)|0,a=a+Math.imul(T,de)|0;var Ie=(u+(n=n+Math.imul(I,pe)|0)|0)+((8191&(i=(i=i+Math.imul(I,ye)|0)+Math.imul(R,pe)|0))<<13)|0;u=((a=a+Math.imul(R,ye)|0)+(i>>>13)|0)+(Ie>>>26)|0,Ie&=67108863,n=Math.imul(q,fe),i=(i=Math.imul(q,de))+Math.imul(O,fe)|0,a=Math.imul(O,de);var Re=(u+(n=n+Math.imul(B,pe)|0)|0)+((8191&(i=(i=i+Math.imul(B,ye)|0)+Math.imul(T,pe)|0))<<13)|0;u=((a=a+Math.imul(T,ye)|0)+(i>>>13)|0)+(Re>>>26)|0,Re&=67108863;var Ue=(u+(n=Math.imul(q,pe))|0)+((8191&(i=(i=Math.imul(q,ye))+Math.imul(O,pe)|0))<<13)|0;return u=((a=Math.imul(O,ye))+(i>>>13)|0)+(Ue>>>26)|0,Ue&=67108863,c[0]=be,c[1]=me,c[2]=ge,c[3]=we,c[4]=ve,c[5]=_e,c[6]=ke,c[7]=Se,c[8]=Ae,c[9]=Ee,c[10]=Pe,c[11]=xe,c[12]=Me,c[13]=Ce,c[14]=Ke,c[15]=De,c[16]=Ie,c[17]=Re,c[18]=Ue,0!==u&&(c[19]=u,r.length++),r};function p(e,t,r){return(new y).mulp(e,t,r)}function y(e,t){this.x=e,this.y=t}Math.imul||(l=d),i.prototype.mulTo=function(e,t){var r,n=this.length+e.length;return r=10===this.length&&10===e.length?l(this,e,t):n<63?d(this,e,t):n<1024?function(e,t,r){r.negative=t.negative^e.negative,r.length=e.length+t.length;for(var n=0,i=0,a=0;a<r.length-1;a++){var s=i;i=0;for(var o=67108863&n,c=Math.min(a,t.length-1),u=Math.max(0,a-e.length+1);u<=c;u++){var h=a-u,f=(0|e.words[h])*(0|t.words[u]),d=67108863&f;o=67108863&(d=d+o|0),i+=(s=(s=s+(f/67108864|0)|0)+(d>>>26)|0)>>>26,s&=67108863}r.words[a]=o,n=s,s=i}return 0!==n?r.words[a]=n:r.length--,r.strip()}(this,e,t):p(this,e,t),r},y.prototype.makeRBT=function(e){for(var t=new Array(e),r=i.prototype._countBits(e)-1,n=0;n<e;n++)t[n]=this.revBin(n,r,e);return t},y.prototype.revBin=function(e,t,r){if(0===e||e===r-1)return e;for(var n=0,i=0;i<t;i++)n|=(1&e)<<t-i-1,e>>=1;return n},y.prototype.permute=function(e,t,r,n,i,a){for(var s=0;s<a;s++)n[s]=t[e[s]],i[s]=r[e[s]]},y.prototype.transform=function(e,t,r,n,i,a){this.permute(a,e,t,r,n,i);for(var s=1;s<i;s<<=1)for(var o=s<<1,c=Math.cos(2*Math.PI/o),u=Math.sin(2*Math.PI/o),h=0;h<i;h+=o)for(var f=c,d=u,l=0;l<s;l++){var p=r[h+l],y=n[h+l],b=r[h+l+s],m=n[h+l+s],g=f*b-d*m;m=f*m+d*b,b=g,r[h+l]=p+b,n[h+l]=y+m,r[h+l+s]=p-b,n[h+l+s]=y-m,l!==o&&(g=c*f-u*d,d=c*d+u*f,f=g)}},y.prototype.guessLen13b=function(e,t){var r=1|Math.max(t,e),n=1&r,i=0;for(r=r/2|0;r;r>>>=1)i++;return 1<<i+1+n},y.prototype.conjugate=function(e,t,r){if(!(r<=1))for(var n=0;n<r/2;n++){var i=e[n];e[n]=e[r-n-1],e[r-n-1]=i,i=t[n],t[n]=-t[r-n-1],t[r-n-1]=-i}},y.prototype.normalize13b=function(e,t){for(var r=0,n=0;n<t/2;n++){var i=8192*Math.round(e[2*n+1]/t)+Math.round(e[2*n]/t)+r;e[n]=67108863&i,r=i<67108864?0:i/67108864|0}return e},y.prototype.convert13b=function(e,t,n,i){for(var a=0,s=0;s<t;s++)a+=0|e[s],n[2*s]=8191&a,a>>>=13,n[2*s+1]=8191&a,a>>>=13;for(s=2*t;s<i;++s)n[s]=0;r(0===a),r(0==(-8192&a))},y.prototype.stub=function(e){for(var t=new Array(e),r=0;r<e;r++)t[r]=0;return t},y.prototype.mulp=function(e,t,r){var n=2*this.guessLen13b(e.length,t.length),i=this.makeRBT(n),a=this.stub(n),s=new Array(n),o=new Array(n),c=new Array(n),u=new Array(n),h=new Array(n),f=new Array(n),d=r.words;d.length=n,this.convert13b(e.words,e.length,s,n),this.convert13b(t.words,t.length,u,n),this.transform(s,a,o,c,n,i),this.transform(u,a,h,f,n,i);for(var l=0;l<n;l++){var p=o[l]*h[l]-c[l]*f[l];c[l]=o[l]*f[l]+c[l]*h[l],o[l]=p}return this.conjugate(o,c,n),this.transform(o,c,d,a,n,i),this.conjugate(d,a,n),this.normalize13b(d,n),r.negative=e.negative^t.negative,r.length=e.length+t.length,r.strip()},i.prototype.mul=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),this.mulTo(e,t)},i.prototype.mulf=function(e){var t=new i(null);return t.words=new Array(this.length+e.length),p(this,e,t)},i.prototype.imul=function(e){return this.clone().mulTo(e,this)},i.prototype.imuln=function(e){r("number"==typeof e),r(e<67108864);for(var t=0,n=0;n<this.length;n++){var i=(0|this.words[n])*e,a=(67108863&i)+(67108863&t);t>>=26,t+=i/67108864|0,t+=a>>>26,this.words[n]=67108863&a}return 0!==t&&(this.words[n]=t,this.length++),this},i.prototype.muln=function(e){return this.clone().imuln(e)},i.prototype.sqr=function(){return this.mul(this)},i.prototype.isqr=function(){return this.imul(this.clone())},i.prototype.pow=function(e){var t=function(e){for(var t=new Array(e.bitLength()),r=0;r<t.length;r++){var n=r/26|0,i=r%26;t[r]=(e.words[n]&1<<i)>>>i}return t}(e);if(0===t.length)return new i(1);for(var r=this,n=0;n<t.length&&0===t[n];n++,r=r.sqr());if(++n<t.length)for(var a=r.sqr();n<t.length;n++,a=a.sqr())0!==t[n]&&(r=r.mul(a));return r},i.prototype.iushln=function(e){r("number"==typeof e&&e>=0);var t,n=e%26,i=(e-n)/26,a=67108863>>>26-n<<26-n;if(0!==n){var s=0;for(t=0;t<this.length;t++){var o=this.words[t]&a,c=(0|this.words[t])-o<<n;this.words[t]=c|s,s=o>>>26-n}s&&(this.words[t]=s,this.length++)}if(0!==i){for(t=this.length-1;t>=0;t--)this.words[t+i]=this.words[t];for(t=0;t<i;t++)this.words[t]=0;this.length+=i}return this.strip()},i.prototype.ishln=function(e){return r(0===this.negative),this.iushln(e)},i.prototype.iushrn=function(e,t,n){var i;r("number"==typeof e&&e>=0),i=t?(t-t%26)/26:0;var a=e%26,s=Math.min((e-a)/26,this.length),o=67108863^67108863>>>a<<a,c=n;if(i-=s,i=Math.max(0,i),c){for(var u=0;u<s;u++)c.words[u]=this.words[u];c.length=s}if(0===s);else if(this.length>s)for(this.length-=s,u=0;u<this.length;u++)this.words[u]=this.words[u+s];else this.words[0]=0,this.length=1;var h=0;for(u=this.length-1;u>=0&&(0!==h||u>=i);u--){var f=0|this.words[u];this.words[u]=h<<26-a|f>>>a,h=f&o}return c&&0!==h&&(c.words[c.length++]=h),0===this.length&&(this.words[0]=0,this.length=1),this.strip()},i.prototype.ishrn=function(e,t,n){return r(0===this.negative),this.iushrn(e,t,n)},i.prototype.shln=function(e){return this.clone().ishln(e)},i.prototype.ushln=function(e){return this.clone().iushln(e)},i.prototype.shrn=function(e){return this.clone().ishrn(e)},i.prototype.ushrn=function(e){return this.clone().iushrn(e)},i.prototype.testn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26,i=1<<t;return!(this.length<=n)&&!!(this.words[n]&i)},i.prototype.imaskn=function(e){r("number"==typeof e&&e>=0);var t=e%26,n=(e-t)/26;if(r(0===this.negative,"imaskn works only with positive numbers"),this.length<=n)return this;if(0!==t&&n++,this.length=Math.min(n,this.length),0!==t){var i=67108863^67108863>>>t<<t;this.words[this.length-1]&=i}return this.strip()},i.prototype.maskn=function(e){return this.clone().imaskn(e)},i.prototype.iaddn=function(e){return r("number"==typeof e),r(e<67108864),e<0?this.isubn(-e):0!==this.negative?1===this.length&&(0|this.words[0])<e?(this.words[0]=e-(0|this.words[0]),this.negative=0,this):(this.negative=0,this.isubn(e),this.negative=1,this):this._iaddn(e)},i.prototype._iaddn=function(e){this.words[0]+=e;for(var t=0;t<this.length&&this.words[t]>=67108864;t++)this.words[t]-=67108864,t===this.length-1?this.words[t+1]=1:this.words[t+1]++;return this.length=Math.max(this.length,t+1),this},i.prototype.isubn=function(e){if(r("number"==typeof e),r(e<67108864),e<0)return this.iaddn(-e);if(0!==this.negative)return this.negative=0,this.iaddn(e),this.negative=1,this;if(this.words[0]-=e,1===this.length&&this.words[0]<0)this.words[0]=-this.words[0],this.negative=1;else for(var t=0;t<this.length&&this.words[t]<0;t++)this.words[t]+=67108864,this.words[t+1]-=1;return this.strip()},i.prototype.addn=function(e){return this.clone().iaddn(e)},i.prototype.subn=function(e){return this.clone().isubn(e)},i.prototype.iabs=function(){return this.negative=0,this},i.prototype.abs=function(){return this.clone().iabs()},i.prototype._ishlnsubmul=function(e,t,n){var i,a,s=e.length+n;this._expand(s);var o=0;for(i=0;i<e.length;i++){a=(0|this.words[i+n])+o;var c=(0|e.words[i])*t;o=((a-=67108863&c)>>26)-(c/67108864|0),this.words[i+n]=67108863&a}for(;i<this.length-n;i++)o=(a=(0|this.words[i+n])+o)>>26,this.words[i+n]=67108863&a;if(0===o)return this.strip();for(r(-1===o),o=0,i=0;i<this.length;i++)o=(a=-(0|this.words[i])+o)>>26,this.words[i]=67108863&a;return this.negative=1,this.strip()},i.prototype._wordDiv=function(e,t){var r=(this.length,e.length),n=this.clone(),a=e,s=0|a.words[a.length-1];0!==(r=26-this._countBits(s))&&(a=a.ushln(r),n.iushln(r),s=0|a.words[a.length-1]);var o,c=n.length-a.length;if("mod"!==t){(o=new i(null)).length=c+1,o.words=new Array(o.length);for(var u=0;u<o.length;u++)o.words[u]=0}var h=n.clone()._ishlnsubmul(a,1,c);0===h.negative&&(n=h,o&&(o.words[c]=1));for(var f=c-1;f>=0;f--){var d=67108864*(0|n.words[a.length+f])+(0|n.words[a.length+f-1]);for(d=Math.min(d/s|0,67108863),n._ishlnsubmul(a,d,f);0!==n.negative;)d--,n.negative=0,n._ishlnsubmul(a,1,f),n.isZero()||(n.negative^=1);o&&(o.words[f]=d)}return o&&o.strip(),n.strip(),"div"!==t&&0!==r&&n.iushrn(r),{div:o||null,mod:n}},i.prototype.divmod=function(e,t,n){return r(!e.isZero()),this.isZero()?{div:new i(0),mod:new i(0)}:0!==this.negative&&0===e.negative?(o=this.neg().divmod(e,t),"mod"!==t&&(a=o.div.neg()),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.iadd(e)),{div:a,mod:s}):0===this.negative&&0!==e.negative?(o=this.divmod(e.neg(),t),"mod"!==t&&(a=o.div.neg()),{div:a,mod:o.mod}):0!=(this.negative&e.negative)?(o=this.neg().divmod(e.neg(),t),"div"!==t&&(s=o.mod.neg(),n&&0!==s.negative&&s.isub(e)),{div:o.div,mod:s}):e.length>this.length||this.cmp(e)<0?{div:new i(0),mod:this}:1===e.length?"div"===t?{div:this.divn(e.words[0]),mod:null}:"mod"===t?{div:null,mod:new i(this.modn(e.words[0]))}:{div:this.divn(e.words[0]),mod:new i(this.modn(e.words[0]))}:this._wordDiv(e,t);var a,s,o},i.prototype.div=function(e){return this.divmod(e,"div",!1).div},i.prototype.mod=function(e){return this.divmod(e,"mod",!1).mod},i.prototype.umod=function(e){return this.divmod(e,"mod",!0).mod},i.prototype.divRound=function(e){var t=this.divmod(e);if(t.mod.isZero())return t.div;var r=0!==t.div.negative?t.mod.isub(e):t.mod,n=e.ushrn(1),i=e.andln(1),a=r.cmp(n);return a<0||1===i&&0===a?t.div:0!==t.div.negative?t.div.isubn(1):t.div.iaddn(1)},i.prototype.modn=function(e){r(e<=67108863);for(var t=(1<<26)%e,n=0,i=this.length-1;i>=0;i--)n=(t*n+(0|this.words[i]))%e;return n},i.prototype.idivn=function(e){r(e<=67108863);for(var t=0,n=this.length-1;n>=0;n--){var i=(0|this.words[n])+67108864*t;this.words[n]=i/e|0,t=i%e}return this.strip()},i.prototype.divn=function(e){return this.clone().idivn(e)},i.prototype.egcd=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a=new i(1),s=new i(0),o=new i(0),c=new i(1),u=0;t.isEven()&&n.isEven();)t.iushrn(1),n.iushrn(1),++u;for(var h=n.clone(),f=t.clone();!t.isZero();){for(var d=0,l=1;0==(t.words[0]&l)&&d<26;++d,l<<=1);if(d>0)for(t.iushrn(d);d-- >0;)(a.isOdd()||s.isOdd())&&(a.iadd(h),s.isub(f)),a.iushrn(1),s.iushrn(1);for(var p=0,y=1;0==(n.words[0]&y)&&p<26;++p,y<<=1);if(p>0)for(n.iushrn(p);p-- >0;)(o.isOdd()||c.isOdd())&&(o.iadd(h),c.isub(f)),o.iushrn(1),c.iushrn(1);t.cmp(n)>=0?(t.isub(n),a.isub(o),s.isub(c)):(n.isub(t),o.isub(a),c.isub(s))}return{a:o,b:c,gcd:n.iushln(u)}},i.prototype._invmp=function(e){r(0===e.negative),r(!e.isZero());var t=this,n=e.clone();t=0!==t.negative?t.umod(e):t.clone();for(var a,s=new i(1),o=new i(0),c=n.clone();t.cmpn(1)>0&&n.cmpn(1)>0;){for(var u=0,h=1;0==(t.words[0]&h)&&u<26;++u,h<<=1);if(u>0)for(t.iushrn(u);u-- >0;)s.isOdd()&&s.iadd(c),s.iushrn(1);for(var f=0,d=1;0==(n.words[0]&d)&&f<26;++f,d<<=1);if(f>0)for(n.iushrn(f);f-- >0;)o.isOdd()&&o.iadd(c),o.iushrn(1);t.cmp(n)>=0?(t.isub(n),s.isub(o)):(n.isub(t),o.isub(s))}return(a=0===t.cmpn(1)?s:o).cmpn(0)<0&&a.iadd(e),a},i.prototype.gcd=function(e){if(this.isZero())return e.abs();if(e.isZero())return this.abs();var t=this.clone(),r=e.clone();t.negative=0,r.negative=0;for(var n=0;t.isEven()&&r.isEven();n++)t.iushrn(1),r.iushrn(1);for(;;){for(;t.isEven();)t.iushrn(1);for(;r.isEven();)r.iushrn(1);var i=t.cmp(r);if(i<0){var a=t;t=r,r=a}else if(0===i||0===r.cmpn(1))break;t.isub(r)}return r.iushln(n)},i.prototype.invm=function(e){return this.egcd(e).a.umod(e)},i.prototype.isEven=function(){return 0==(1&this.words[0])},i.prototype.isOdd=function(){return 1==(1&this.words[0])},i.prototype.andln=function(e){return this.words[0]&e},i.prototype.bincn=function(e){r("number"==typeof e);var t=e%26,n=(e-t)/26,i=1<<t;if(this.length<=n)return this._expand(n+1),this.words[n]|=i,this;for(var a=i,s=n;0!==a&&s<this.length;s++){var o=0|this.words[s];a=(o+=a)>>>26,o&=67108863,this.words[s]=o}return 0!==a&&(this.words[s]=a,this.length++),this},i.prototype.isZero=function(){return 1===this.length&&0===this.words[0]},i.prototype.cmpn=function(e){var t,n=e<0;if(0!==this.negative&&!n)return-1;if(0===this.negative&&n)return 1;if(this.strip(),this.length>1)t=1;else{n&&(e=-e),r(e<=67108863,"Number is too big");var i=0|this.words[0];t=i===e?0:i<e?-1:1}return 0!==this.negative?0|-t:t},i.prototype.cmp=function(e){if(0!==this.negative&&0===e.negative)return-1;if(0===this.negative&&0!==e.negative)return 1;var t=this.ucmp(e);return 0!==this.negative?0|-t:t},i.prototype.ucmp=function(e){if(this.length>e.length)return 1;if(this.length<e.length)return-1;for(var t=0,r=this.length-1;r>=0;r--){var n=0|this.words[r],i=0|e.words[r];if(n!==i){n<i?t=-1:n>i&&(t=1);break}}return t},i.prototype.gtn=function(e){return 1===this.cmpn(e)},i.prototype.gt=function(e){return 1===this.cmp(e)},i.prototype.gten=function(e){return this.cmpn(e)>=0},i.prototype.gte=function(e){return this.cmp(e)>=0},i.prototype.ltn=function(e){return-1===this.cmpn(e)},i.prototype.lt=function(e){return-1===this.cmp(e)},i.prototype.lten=function(e){return this.cmpn(e)<=0},i.prototype.lte=function(e){return this.cmp(e)<=0},i.prototype.eqn=function(e){return 0===this.cmpn(e)},i.prototype.eq=function(e){return 0===this.cmp(e)},i.red=function(e){return new k(e)},i.prototype.toRed=function(e){return r(!this.red,"Already a number in reduction context"),r(0===this.negative,"red works only with positives"),e.convertTo(this)._forceRed(e)},i.prototype.fromRed=function(){return r(this.red,"fromRed works only with numbers in reduction context"),this.red.convertFrom(this)},i.prototype._forceRed=function(e){return this.red=e,this},i.prototype.forceRed=function(e){return r(!this.red,"Already a number in reduction context"),this._forceRed(e)},i.prototype.redAdd=function(e){return r(this.red,"redAdd works only with red numbers"),this.red.add(this,e)},i.prototype.redIAdd=function(e){return r(this.red,"redIAdd works only with red numbers"),this.red.iadd(this,e)},i.prototype.redSub=function(e){return r(this.red,"redSub works only with red numbers"),this.red.sub(this,e)},i.prototype.redISub=function(e){return r(this.red,"redISub works only with red numbers"),this.red.isub(this,e)},i.prototype.redShl=function(e){return r(this.red,"redShl works only with red numbers"),this.red.shl(this,e)},i.prototype.redMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.mul(this,e)},i.prototype.redIMul=function(e){return r(this.red,"redMul works only with red numbers"),this.red._verify2(this,e),this.red.imul(this,e)},i.prototype.redSqr=function(){return r(this.red,"redSqr works only with red numbers"),this.red._verify1(this),this.red.sqr(this)},i.prototype.redISqr=function(){return r(this.red,"redISqr works only with red numbers"),this.red._verify1(this),this.red.isqr(this)},i.prototype.redSqrt=function(){return r(this.red,"redSqrt works only with red numbers"),this.red._verify1(this),this.red.sqrt(this)},i.prototype.redInvm=function(){return r(this.red,"redInvm works only with red numbers"),this.red._verify1(this),this.red.invm(this)},i.prototype.redNeg=function(){return r(this.red,"redNeg works only with red numbers"),this.red._verify1(this),this.red.neg(this)},i.prototype.redPow=function(e){return r(this.red&&!e.red,"redPow(normalNum)"),this.red._verify1(this),this.red.pow(this,e)};var b={k256:null,p224:null,p192:null,p25519:null};function m(e,t){this.name=e,this.p=new i(t,16),this.n=this.p.bitLength(),this.k=new i(1).iushln(this.n).isub(this.p),this.tmp=this._tmp()}function g(){m.call(this,"k256","ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f")}function w(){m.call(this,"p224","ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001")}function v(){m.call(this,"p192","ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff")}function _(){m.call(this,"25519","7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed")}function k(e){if("string"==typeof e){var t=i._prime(e);this.m=t.p,this.prime=t}else r(e.gtn(1),"modulus must be greater than 1"),this.m=e,this.prime=null}function S(e){k.call(this,e),this.shift=this.m.bitLength(),this.shift%26!=0&&(this.shift+=26-this.shift%26),this.r=new i(1).iushln(this.shift),this.r2=this.imod(this.r.sqr()),this.rinv=this.r._invmp(this.m),this.minv=this.rinv.mul(this.r).isubn(1).div(this.m),this.minv=this.minv.umod(this.r),this.minv=this.r.sub(this.minv)}m.prototype._tmp=function(){var e=new i(null);return e.words=new Array(Math.ceil(this.n/13)),e},m.prototype.ireduce=function(e){var t,r=e;do{this.split(r,this.tmp),t=(r=(r=this.imulK(r)).iadd(this.tmp)).bitLength()}while(t>this.n);var n=t<this.n?-1:r.ucmp(this.p);return 0===n?(r.words[0]=0,r.length=1):n>0?r.isub(this.p):void 0!==r.strip?r.strip():r._strip(),r},m.prototype.split=function(e,t){e.iushrn(this.n,0,t)},m.prototype.imulK=function(e){return e.imul(this.k)},n(g,m),g.prototype.split=function(e,t){for(var r=4194303,n=Math.min(e.length,9),i=0;i<n;i++)t.words[i]=e.words[i];if(t.length=n,e.length<=9)return e.words[0]=0,void(e.length=1);var a=e.words[9];for(t.words[t.length++]=a&r,i=10;i<e.length;i++){var s=0|e.words[i];e.words[i-10]=(s&r)<<4|a>>>22,a=s}a>>>=22,e.words[i-10]=a,0===a&&e.length>10?e.length-=10:e.length-=9},g.prototype.imulK=function(e){e.words[e.length]=0,e.words[e.length+1]=0,e.length+=2;for(var t=0,r=0;r<e.length;r++){var n=0|e.words[r];t+=977*n,e.words[r]=67108863&t,t=64*n+(t/67108864|0)}return 0===e.words[e.length-1]&&(e.length--,0===e.words[e.length-1]&&e.length--),e},n(w,m),n(v,m),n(_,m),_.prototype.imulK=function(e){for(var t=0,r=0;r<e.length;r++){var n=19*(0|e.words[r])+t,i=67108863&n;n>>>=26,e.words[r]=i,t=n}return 0!==t&&(e.words[e.length++]=t),e},i._prime=function(e){if(b[e])return b[e];var t;if("k256"===e)t=new g;else if("p224"===e)t=new w;else if("p192"===e)t=new v;else{if("p25519"!==e)throw new Error("Unknown prime "+e);t=new _}return b[e]=t,t},k.prototype._verify1=function(e){r(0===e.negative,"red works only with positives"),r(e.red,"red works only with red numbers")},k.prototype._verify2=function(e,t){r(0==(e.negative|t.negative),"red works only with positives"),r(e.red&&e.red===t.red,"red works only with red numbers")},k.prototype.imod=function(e){return this.prime?this.prime.ireduce(e)._forceRed(this):e.umod(this.m)._forceRed(this)},k.prototype.neg=function(e){return e.isZero()?e.clone():this.m.sub(e)._forceRed(this)},k.prototype.add=function(e,t){this._verify2(e,t);var r=e.add(t);return r.cmp(this.m)>=0&&r.isub(this.m),r._forceRed(this)},k.prototype.iadd=function(e,t){this._verify2(e,t);var r=e.iadd(t);return r.cmp(this.m)>=0&&r.isub(this.m),r},k.prototype.sub=function(e,t){this._verify2(e,t);var r=e.sub(t);return r.cmpn(0)<0&&r.iadd(this.m),r._forceRed(this)},k.prototype.isub=function(e,t){this._verify2(e,t);var r=e.isub(t);return r.cmpn(0)<0&&r.iadd(this.m),r},k.prototype.shl=function(e,t){return this._verify1(e),this.imod(e.ushln(t))},k.prototype.imul=function(e,t){return this._verify2(e,t),this.imod(e.imul(t))},k.prototype.mul=function(e,t){return this._verify2(e,t),this.imod(e.mul(t))},k.prototype.isqr=function(e){return this.imul(e,e.clone())},k.prototype.sqr=function(e){return this.mul(e,e)},k.prototype.sqrt=function(e){if(e.isZero())return e.clone();var t=this.m.andln(3);if(r(t%2==1),3===t){var n=this.m.add(new i(1)).iushrn(2);return this.pow(e,n)}for(var a=this.m.subn(1),s=0;!a.isZero()&&0===a.andln(1);)s++,a.iushrn(1);r(!a.isZero());var o=new i(1).toRed(this),c=o.redNeg(),u=this.m.subn(1).iushrn(1),h=this.m.bitLength();for(h=new i(2*h*h).toRed(this);0!==this.pow(h,u).cmp(c);)h.redIAdd(c);for(var f=this.pow(h,a),d=this.pow(e,a.addn(1).iushrn(1)),l=this.pow(e,a),p=s;0!==l.cmp(o);){for(var y=l,b=0;0!==y.cmp(o);b++)y=y.redSqr();r(b<p);var m=this.pow(f,new i(1).iushln(p-b-1));d=d.redMul(m),f=m.redSqr(),l=l.redMul(f),p=b}return d},k.prototype.invm=function(e){var t=e._invmp(this.m);return 0!==t.negative?(t.negative=0,this.imod(t).redNeg()):this.imod(t)},k.prototype.pow=function(e,t){if(t.isZero())return new i(1).toRed(this);if(0===t.cmpn(1))return e.clone();var r=new Array(16);r[0]=new i(1).toRed(this),r[1]=e;for(var n=2;n<r.length;n++)r[n]=this.mul(r[n-1],e);var a=r[0],s=0,o=0,c=t.bitLength()%26;for(0===c&&(c=26),n=t.length-1;n>=0;n--){for(var u=t.words[n],h=c-1;h>=0;h--){var f=u>>h&1;a!==r[0]&&(a=this.sqr(a)),0!==f||0!==s?(s<<=1,s|=f,(4===++o||0===n&&0===h)&&(a=this.mul(a,r[s]),o=0,s=0)):o=0}c=26}return a},k.prototype.convertTo=function(e){var t=e.umod(this.m);return t===e?t.clone():t},k.prototype.convertFrom=function(e){var t=e.clone();return t.red=null,t},i.mont=function(e){return new S(e)},n(S,k),S.prototype.convertTo=function(e){return this.imod(e.ushln(this.shift))},S.prototype.convertFrom=function(e){var t=this.imod(e.mul(this.rinv));return t.red=null,t},S.prototype.imul=function(e,t){if(e.isZero()||t.isZero())return e.words[0]=0,e.length=1,e;var r=e.imul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),i=r.isub(n).iushrn(this.shift),a=i;return i.cmp(this.m)>=0?a=i.isub(this.m):i.cmpn(0)<0&&(a=i.iadd(this.m)),a._forceRed(this)},S.prototype.mul=function(e,t){if(e.isZero()||t.isZero())return new i(0)._forceRed(this);var r=e.mul(t),n=r.maskn(this.shift).mul(this.minv).imaskn(this.shift).mul(this.m),a=r.isub(n).iushrn(this.shift),s=a;return a.cmp(this.m)>=0?s=a.isub(this.m):a.cmpn(0)<0&&(s=a.iadd(this.m)),s._forceRed(this)},S.prototype.invm=function(e){return this.imod(e._invmp(this.m).mul(this.r2))._forceRed(this)}}(e,We)})),Od=qd;class BigInteger{constructor(e){if(void 0===e)throw new Error("Invalid BigInteger input");this.value=new Od(e)}clone(){const e=new BigInteger(null);return this.value.copy(e.value),e}iinc(){return this.value.iadd(new Od(1)),this}inc(){return this.clone().iinc()}idec(){return this.value.isub(new Od(1)),this}dec(){return this.clone().idec()}iadd(e){return this.value.iadd(e.value),this}add(e){return this.clone().iadd(e)}isub(e){return this.value.isub(e.value),this}sub(e){return this.clone().isub(e)}imul(e){return this.value.imul(e.value),this}mul(e){return this.clone().imul(e)}imod(e){return this.value=this.value.umod(e.value),this}mod(e){return this.clone().imod(e)}modExp(e,t){const r=t.isEven()?Od.red(t.value):Od.mont(t.value),n=this.clone();return n.value=n.value.toRed(r).redPow(e.value).fromRed(),n}modInv(e){if(!this.gcd(e).isOne())throw new Error("Inverse does not exist");return new BigInteger(this.value.invm(e.value))}gcd(e){return new BigInteger(this.value.gcd(e.value))}ileftShift(e){return this.value.ishln(e.value.toNumber()),this}leftShift(e){return this.clone().ileftShift(e)}irightShift(e){return this.value.ishrn(e.value.toNumber()),this}rightShift(e){return this.clone().irightShift(e)}equal(e){return this.value.eq(e.value)}lt(e){return this.value.lt(e.value)}lte(e){return this.value.lte(e.value)}gt(e){return this.value.gt(e.value)}gte(e){return this.value.gte(e.value)}isZero(){return this.value.isZero()}isOne(){return this.value.eq(new Od(1))}isNegative(){return this.value.isNeg()}isEven(){return this.value.isEven()}abs(){const e=this.clone();return e.value=e.value.abs(),e}toString(){return this.value.toString()}toNumber(){return this.value.toNumber()}getBit(e){return this.value.testn(e)?1:0}bitLength(){return this.value.bitLength()}byteLength(){return this.value.byteLength()}toUint8Array(e="be",t){return this.value.toArrayLike(Uint8Array,e,t)}}var Fd,Ld=Object.freeze({__proto__:null,default:BigInteger}),jd=He((function(e,t){var r=t;function n(e){return 1===e.length?"0"+e:e}function i(e){for(var t="",r=0;r<e.length;r++)t+=n(e[r].toString(16));return t}r.toArray=function(e,t){if(Array.isArray(e))return e.slice();if(!e)return[];var r=[];if("string"!=typeof e){for(var n=0;n<e.length;n++)r[n]=0|e[n];return r}if("hex"===t){(e=e.replace(/[^a-z0-9]+/gi,"")).length%2!=0&&(e="0"+e);for(n=0;n<e.length;n+=2)r.push(parseInt(e[n]+e[n+1],16))}else for(n=0;n<e.length;n++){var i=e.charCodeAt(n),a=i>>8,s=255&i;a?r.push(a,s):r.push(s)}return r},r.zero2=n,r.toHex=i,r.encode=function(e,t){return"hex"===t?i(e):e}})),Nd=He((function(e,t){var r=t;r.assert=je,r.toArray=jd.toArray,r.zero2=jd.zero2,r.toHex=jd.toHex,r.encode=jd.encode,r.getNAF=function(e,t){for(var r=[],n=1<<t+1,i=e.clone();i.cmpn(1)>=0;){var a;if(i.isOdd()){var s=i.andln(n-1);a=s>(n>>1)-1?(n>>1)-s:s,i.isubn(a)}else a=0;r.push(a);for(var o=0!==i.cmpn(0)&&0===i.andln(n-1)?t+1:1,c=1;c<o;c++)r.push(0);i.iushrn(o)}return r},r.getJSF=function(e,t){var r=[[],[]];e=e.clone(),t=t.clone();for(var n=0,i=0;e.cmpn(-n)>0||t.cmpn(-i)>0;){var a,s,o,c=e.andln(3)+n&3,u=t.andln(3)+i&3;if(3===c&&(c=-1),3===u&&(u=-1),0==(1&c))a=0;else a=3!==(o=e.andln(7)+n&7)&&5!==o||2!==u?c:-c;if(r[0].push(a),0==(1&u))s=0;else s=3!==(o=t.andln(7)+i&7)&&5!==o||2!==c?u:-u;r[1].push(s),2*n===a+1&&(n=1-n),2*i===s+1&&(i=1-i),e.iushrn(1),t.iushrn(1)}return r},r.cachedProperty=function(e,t,r){var n="_"+t;e.prototype[t]=function(){return void 0!==this[n]?this[n]:this[n]=r.call(this)}},r.parseBytes=function(e){return"string"==typeof e?r.toArray(e,"hex"):e},r.intFromLE=function(e){return new qd(e,"hex","le")}})),Wd=function(e){return Fd||(Fd=new Hd(null)),Fd.generate(e)};function Hd(e){this.rand=e}var $d=Hd;if(Hd.prototype.generate=function(e){return this._rand(e)},Hd.prototype._rand=function(e){if(this.rand.getBytes)return this.rand.getBytes(e);for(var t=new Uint8Array(e),r=0;r<t.length;r++)t[r]=this.rand.getByte();return t},"object"==typeof self)self.crypto&&self.crypto.getRandomValues?Hd.prototype._rand=function(e){var t=new Uint8Array(e);return self.crypto.getRandomValues(t),t}:self.msCrypto&&self.msCrypto.getRandomValues?Hd.prototype._rand=function(e){var t=new Uint8Array(e);return self.msCrypto.getRandomValues(t),t}:"object"==typeof window&&(Hd.prototype._rand=function(){throw new Error("Not implemented yet")});else try{var Gd=void 0;if("function"!=typeof Gd.randomBytes)throw new Error("Not supported");Hd.prototype._rand=function(e){return Gd.randomBytes(e)}}catch(e){}Wd.Rand=$d;var Vd=Nd.getNAF,Zd=Nd.getJSF,Qd=Nd.assert;function Yd(e,t){this.type=e,this.p=new qd(t.p,16),this.red=t.prime?qd.red(t.prime):qd.mont(this.p),this.zero=new qd(0).toRed(this.red),this.one=new qd(1).toRed(this.red),this.two=new qd(2).toRed(this.red),this.n=t.n&&new qd(t.n,16),this.g=t.g&&this.pointFromJSON(t.g,t.gRed),this._wnafT1=new Array(4),this._wnafT2=new Array(4),this._wnafT3=new Array(4),this._wnafT4=new Array(4);var r=this.n&&this.p.div(this.n);!r||r.cmpn(100)>0?this.redN=null:(this._maxwellTrick=!0,this.redN=this.n.toRed(this.red))}var Xd=Yd;function Jd(e,t){this.curve=e,this.type=t,this.precomputed=null}Yd.prototype.point=function(){throw new Error("Not implemented")},Yd.prototype.validate=function(){throw new Error("Not implemented")},Yd.prototype._fixedNafMul=function(e,t){Qd(e.precomputed);var r=e._getDoubles(),n=Vd(t,1),i=(1<<r.step+1)-(r.step%2==0?2:1);i/=3;for(var a=[],s=0;s<n.length;s+=r.step){var o=0;for(t=s+r.step-1;t>=s;t--)o=(o<<1)+n[t];a.push(o)}for(var c=this.jpoint(null,null,null),u=this.jpoint(null,null,null),h=i;h>0;h--){for(s=0;s<a.length;s++){(o=a[s])===h?u=u.mixedAdd(r.points[s]):o===-h&&(u=u.mixedAdd(r.points[s].neg()))}c=c.add(u)}return c.toP()},Yd.prototype._wnafMul=function(e,t){var r=4,n=e._getNAFPoints(r);r=n.wnd;for(var i=n.points,a=Vd(t,r),s=this.jpoint(null,null,null),o=a.length-1;o>=0;o--){for(t=0;o>=0&&0===a[o];o--)t++;if(o>=0&&t++,s=s.dblp(t),o<0)break;var c=a[o];Qd(0!==c),s="affine"===e.type?c>0?s.mixedAdd(i[c-1>>1]):s.mixedAdd(i[-c-1>>1].neg()):c>0?s.add(i[c-1>>1]):s.add(i[-c-1>>1].neg())}return"affine"===e.type?s.toP():s},Yd.prototype._wnafMulAdd=function(e,t,r,n,i){for(var a=this._wnafT1,s=this._wnafT2,o=this._wnafT3,c=0,u=0;u<n;u++){var h=(S=t[u])._getNAFPoints(e);a[u]=h.wnd,s[u]=h.points}for(u=n-1;u>=1;u-=2){var f=u-1,d=u;if(1===a[f]&&1===a[d]){var l=[t[f],null,null,t[d]];0===t[f].y.cmp(t[d].y)?(l[1]=t[f].add(t[d]),l[2]=t[f].toJ().mixedAdd(t[d].neg())):0===t[f].y.cmp(t[d].y.redNeg())?(l[1]=t[f].toJ().mixedAdd(t[d]),l[2]=t[f].add(t[d].neg())):(l[1]=t[f].toJ().mixedAdd(t[d]),l[2]=t[f].toJ().mixedAdd(t[d].neg()));var p=[-3,-1,-5,-7,0,7,5,1,3],y=Zd(r[f],r[d]);c=Math.max(y[0].length,c),o[f]=new Array(c),o[d]=new Array(c);for(var b=0;b<c;b++){var m=0|y[0][b],g=0|y[1][b];o[f][b]=p[3*(m+1)+(g+1)],o[d][b]=0,s[f]=l}}else o[f]=Vd(r[f],a[f]),o[d]=Vd(r[d],a[d]),c=Math.max(o[f].length,c),c=Math.max(o[d].length,c)}var w=this.jpoint(null,null,null),v=this._wnafT4;for(u=c;u>=0;u--){for(var _=0;u>=0;){var k=!0;for(b=0;b<n;b++)v[b]=0|o[b][u],0!==v[b]&&(k=!1);if(!k)break;_++,u--}if(u>=0&&_++,w=w.dblp(_),u<0)break;for(b=0;b<n;b++){var S,A=v[b];0!==A&&(A>0?S=s[b][A-1>>1]:A<0&&(S=s[b][-A-1>>1].neg()),w="affine"===S.type?w.mixedAdd(S):w.add(S))}}for(u=0;u<n;u++)s[u]=null;return i?w:w.toP()},Yd.BasePoint=Jd,Jd.prototype.eq=function(){throw new Error("Not implemented")},Jd.prototype.validate=function(){return this.curve.validate(this)},Yd.prototype.decodePoint=function(e,t){e=Nd.toArray(e,t);var r=this.p.byteLength();if((4===e[0]||6===e[0]||7===e[0])&&e.length-1==2*r)return 6===e[0]?Qd(e[e.length-1]%2==0):7===e[0]&&Qd(e[e.length-1]%2==1),this.point(e.slice(1,1+r),e.slice(1+r,1+2*r));if((2===e[0]||3===e[0])&&e.length-1===r)return this.pointFromX(e.slice(1,1+r),3===e[0]);throw new Error("Unknown point format")},Jd.prototype.encodeCompressed=function(e){return this.encode(e,!0)},Jd.prototype._encode=function(e){var t=this.curve.p.byteLength(),r=this.getX().toArray("be",t);return e?[this.getY().isEven()?2:3].concat(r):[4].concat(r,this.getY().toArray("be",t))},Jd.prototype.encode=function(e,t){return Nd.encode(this._encode(t),e)},Jd.prototype.precompute=function(e){if(this.precomputed)return this;var t={doubles:null,naf:null,beta:null};return t.naf=this._getNAFPoints(8),t.doubles=this._getDoubles(4,e),t.beta=this._getBeta(),this.precomputed=t,this},Jd.prototype._hasDoubles=function(e){if(!this.precomputed)return!1;var t=this.precomputed.doubles;return!!t&&t.points.length>=Math.ceil((e.bitLength()+1)/t.step)},Jd.prototype._getDoubles=function(e,t){if(this.precomputed&&this.precomputed.doubles)return this.precomputed.doubles;for(var r=[this],n=this,i=0;i<t;i+=e){for(var a=0;a<e;a++)n=n.dbl();r.push(n)}return{step:e,points:r}},Jd.prototype._getNAFPoints=function(e){if(this.precomputed&&this.precomputed.naf)return this.precomputed.naf;for(var t=[this],r=(1<<e)-1,n=1===r?null:this.dbl(),i=1;i<r;i++)t[i]=t[i-1].add(n);return{wnd:e,points:t}},Jd.prototype._getBeta=function(){return null},Jd.prototype.dblp=function(e){for(var t=this,r=0;r<e;r++)t=t.dbl();return t};var el=Nd.assert;function tl(e){Xd.call(this,"short",e),this.a=new qd(e.a,16).toRed(this.red),this.b=new qd(e.b,16).toRed(this.red),this.tinv=this.two.redInvm(),this.zeroA=0===this.a.fromRed().cmpn(0),this.threeA=0===this.a.fromRed().sub(this.p).cmpn(-3),this.endo=this._getEndomorphism(e),this._endoWnafT1=new Array(4),this._endoWnafT2=new Array(4)}Ge(tl,Xd);var rl=tl;function nl(e,t,r,n){Xd.BasePoint.call(this,e,"affine"),null===t&&null===r?(this.x=null,this.y=null,this.inf=!0):(this.x=new qd(t,16),this.y=new qd(r,16),n&&(this.x.forceRed(this.curve.red),this.y.forceRed(this.curve.red)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.inf=!1)}function il(e,t,r,n){Xd.BasePoint.call(this,e,"jacobian"),null===t&&null===r&&null===n?(this.x=this.curve.one,this.y=this.curve.one,this.z=new qd(0)):(this.x=new qd(t,16),this.y=new qd(r,16),this.z=new qd(n,16)),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.zOne=this.z===this.curve.one}function al(e){Xd.call(this,"mont",e),this.a=new qd(e.a,16).toRed(this.red),this.b=new qd(e.b,16).toRed(this.red),this.i4=new qd(4).toRed(this.red).redInvm(),this.two=new qd(2).toRed(this.red),this.a24=this.i4.redMul(this.a.redAdd(this.two))}tl.prototype._getEndomorphism=function(e){if(this.zeroA&&this.g&&this.n&&1===this.p.modn(3)){var t,r;if(e.beta)t=new qd(e.beta,16).toRed(this.red);else{var n=this._getEndoRoots(this.p);t=(t=n[0].cmp(n[1])<0?n[0]:n[1]).toRed(this.red)}if(e.lambda)r=new qd(e.lambda,16);else{var i=this._getEndoRoots(this.n);0===this.g.mul(i[0]).x.cmp(this.g.x.redMul(t))?r=i[0]:(r=i[1],el(0===this.g.mul(r).x.cmp(this.g.x.redMul(t))))}return{beta:t,lambda:r,basis:e.basis?e.basis.map((function(e){return{a:new qd(e.a,16),b:new qd(e.b,16)}})):this._getEndoBasis(r)}}},tl.prototype._getEndoRoots=function(e){var t=e===this.p?this.red:qd.mont(e),r=new qd(2).toRed(t).redInvm(),n=r.redNeg(),i=new qd(3).toRed(t).redNeg().redSqrt().redMul(r);return[n.redAdd(i).fromRed(),n.redSub(i).fromRed()]},tl.prototype._getEndoBasis=function(e){for(var t,r,n,i,a,s,o,c,u,h=this.n.ushrn(Math.floor(this.n.bitLength()/2)),f=e,d=this.n.clone(),l=new qd(1),p=new qd(0),y=new qd(0),b=new qd(1),m=0;0!==f.cmpn(0);){var g=d.div(f);c=d.sub(g.mul(f)),u=y.sub(g.mul(l));var w=b.sub(g.mul(p));if(!n&&c.cmp(h)<0)t=o.neg(),r=l,n=c.neg(),i=u;else if(n&&2==++m)break;o=c,d=f,f=c,y=l,l=u,b=p,p=w}a=c.neg(),s=u;var v=n.sqr().add(i.sqr());return a.sqr().add(s.sqr()).cmp(v)>=0&&(a=t,s=r),n.negative&&(n=n.neg(),i=i.neg()),a.negative&&(a=a.neg(),s=s.neg()),[{a:n,b:i},{a:a,b:s}]},tl.prototype._endoSplit=function(e){var t=this.endo.basis,r=t[0],n=t[1],i=n.b.mul(e).divRound(this.n),a=r.b.neg().mul(e).divRound(this.n),s=i.mul(r.a),o=a.mul(n.a),c=i.mul(r.b),u=a.mul(n.b);return{k1:e.sub(s).sub(o),k2:c.add(u).neg()}},tl.prototype.pointFromX=function(e,t){(e=new qd(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr().redMul(e).redIAdd(e.redMul(this.a)).redIAdd(this.b),n=r.redSqrt();if(0!==n.redSqr().redSub(r).cmp(this.zero))throw new Error("invalid point");var i=n.fromRed().isOdd();return(t&&!i||!t&&i)&&(n=n.redNeg()),this.point(e,n)},tl.prototype.validate=function(e){if(e.inf)return!0;var t=e.x,r=e.y,n=this.a.redMul(t),i=t.redSqr().redMul(t).redIAdd(n).redIAdd(this.b);return 0===r.redSqr().redISub(i).cmpn(0)},tl.prototype._endoWnafMulAdd=function(e,t,r){for(var n=this._endoWnafT1,i=this._endoWnafT2,a=0;a<e.length;a++){var s=this._endoSplit(t[a]),o=e[a],c=o._getBeta();s.k1.negative&&(s.k1.ineg(),o=o.neg(!0)),s.k2.negative&&(s.k2.ineg(),c=c.neg(!0)),n[2*a]=o,n[2*a+1]=c,i[2*a]=s.k1,i[2*a+1]=s.k2}for(var u=this._wnafMulAdd(1,n,i,2*a,r),h=0;h<2*a;h++)n[h]=null,i[h]=null;return u},Ge(nl,Xd.BasePoint),tl.prototype.point=function(e,t,r){return new nl(this,e,t,r)},tl.prototype.pointFromJSON=function(e,t){return nl.fromJSON(this,e,t)},nl.prototype._getBeta=function(){if(this.curve.endo){var e=this.precomputed;if(e&&e.beta)return e.beta;var t=this.curve.point(this.x.redMul(this.curve.endo.beta),this.y);if(e){var r=this.curve,n=function(e){return r.point(e.x.redMul(r.endo.beta),e.y)};e.beta=t,t.precomputed={beta:null,naf:e.naf&&{wnd:e.naf.wnd,points:e.naf.points.map(n)},doubles:e.doubles&&{step:e.doubles.step,points:e.doubles.points.map(n)}}}return t}},nl.prototype.toJSON=function(){return this.precomputed?[this.x,this.y,this.precomputed&&{doubles:this.precomputed.doubles&&{step:this.precomputed.doubles.step,points:this.precomputed.doubles.points.slice(1)},naf:this.precomputed.naf&&{wnd:this.precomputed.naf.wnd,points:this.precomputed.naf.points.slice(1)}}]:[this.x,this.y]},nl.fromJSON=function(e,t,r){"string"==typeof t&&(t=JSON.parse(t));var n=e.point(t[0],t[1],r);if(!t[2])return n;function i(t){return e.point(t[0],t[1],r)}var a=t[2];return n.precomputed={beta:null,doubles:a.doubles&&{step:a.doubles.step,points:[n].concat(a.doubles.points.map(i))},naf:a.naf&&{wnd:a.naf.wnd,points:[n].concat(a.naf.points.map(i))}},n},nl.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+">"},nl.prototype.isInfinity=function(){return this.inf},nl.prototype.add=function(e){if(this.inf)return e;if(e.inf)return this;if(this.eq(e))return this.dbl();if(this.neg().eq(e))return this.curve.point(null,null);if(0===this.x.cmp(e.x))return this.curve.point(null,null);var t=this.y.redSub(e.y);0!==t.cmpn(0)&&(t=t.redMul(this.x.redSub(e.x).redInvm()));var r=t.redSqr().redISub(this.x).redISub(e.x),n=t.redMul(this.x.redSub(r)).redISub(this.y);return this.curve.point(r,n)},nl.prototype.dbl=function(){if(this.inf)return this;var e=this.y.redAdd(this.y);if(0===e.cmpn(0))return this.curve.point(null,null);var t=this.curve.a,r=this.x.redSqr(),n=e.redInvm(),i=r.redAdd(r).redIAdd(r).redIAdd(t).redMul(n),a=i.redSqr().redISub(this.x.redAdd(this.x)),s=i.redMul(this.x.redSub(a)).redISub(this.y);return this.curve.point(a,s)},nl.prototype.getX=function(){return this.x.fromRed()},nl.prototype.getY=function(){return this.y.fromRed()},nl.prototype.mul=function(e){return e=new qd(e,16),this.isInfinity()?this:this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve.endo?this.curve._endoWnafMulAdd([this],[e]):this.curve._wnafMul(this,e)},nl.prototype.mulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i):this.curve._wnafMulAdd(1,n,i,2)},nl.prototype.jmulAdd=function(e,t,r){var n=[this,t],i=[e,r];return this.curve.endo?this.curve._endoWnafMulAdd(n,i,!0):this.curve._wnafMulAdd(1,n,i,2,!0)},nl.prototype.eq=function(e){return this===e||this.inf===e.inf&&(this.inf||0===this.x.cmp(e.x)&&0===this.y.cmp(e.y))},nl.prototype.neg=function(e){if(this.inf)return this;var t=this.curve.point(this.x,this.y.redNeg());if(e&&this.precomputed){var r=this.precomputed,n=function(e){return e.neg()};t.precomputed={naf:r.naf&&{wnd:r.naf.wnd,points:r.naf.points.map(n)},doubles:r.doubles&&{step:r.doubles.step,points:r.doubles.points.map(n)}}}return t},nl.prototype.toJ=function(){return this.inf?this.curve.jpoint(null,null,null):this.curve.jpoint(this.x,this.y,this.curve.one)},Ge(il,Xd.BasePoint),tl.prototype.jpoint=function(e,t,r){return new il(this,e,t,r)},il.prototype.toP=function(){if(this.isInfinity())return this.curve.point(null,null);var e=this.z.redInvm(),t=e.redSqr(),r=this.x.redMul(t),n=this.y.redMul(t).redMul(e);return this.curve.point(r,n)},il.prototype.neg=function(){return this.curve.jpoint(this.x,this.y.redNeg(),this.z)},il.prototype.add=function(e){if(this.isInfinity())return e;if(e.isInfinity())return this;var t=e.z.redSqr(),r=this.z.redSqr(),n=this.x.redMul(t),i=e.x.redMul(r),a=this.y.redMul(t.redMul(e.z)),s=e.y.redMul(r.redMul(this.z)),o=n.redSub(i),c=a.redSub(s);if(0===o.cmpn(0))return 0!==c.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var u=o.redSqr(),h=u.redMul(o),f=n.redMul(u),d=c.redSqr().redIAdd(h).redISub(f).redISub(f),l=c.redMul(f.redISub(d)).redISub(a.redMul(h)),p=this.z.redMul(e.z).redMul(o);return this.curve.jpoint(d,l,p)},il.prototype.mixedAdd=function(e){if(this.isInfinity())return e.toJ();if(e.isInfinity())return this;var t=this.z.redSqr(),r=this.x,n=e.x.redMul(t),i=this.y,a=e.y.redMul(t).redMul(this.z),s=r.redSub(n),o=i.redSub(a);if(0===s.cmpn(0))return 0!==o.cmpn(0)?this.curve.jpoint(null,null,null):this.dbl();var c=s.redSqr(),u=c.redMul(s),h=r.redMul(c),f=o.redSqr().redIAdd(u).redISub(h).redISub(h),d=o.redMul(h.redISub(f)).redISub(i.redMul(u)),l=this.z.redMul(s);return this.curve.jpoint(f,d,l)},il.prototype.dblp=function(e){if(0===e)return this;if(this.isInfinity())return this;if(!e)return this.dbl();if(this.curve.zeroA||this.curve.threeA){for(var t=this,r=0;r<e;r++)t=t.dbl();return t}var n=this.curve.a,i=this.curve.tinv,a=this.x,s=this.y,o=this.z,c=o.redSqr().redSqr(),u=s.redAdd(s);for(r=0;r<e;r++){var h=a.redSqr(),f=u.redSqr(),d=f.redSqr(),l=h.redAdd(h).redIAdd(h).redIAdd(n.redMul(c)),p=a.redMul(f),y=l.redSqr().redISub(p.redAdd(p)),b=p.redISub(y),m=l.redMul(b);m=m.redIAdd(m).redISub(d);var g=u.redMul(o);r+1<e&&(c=c.redMul(d)),a=y,o=g,u=m}return this.curve.jpoint(a,u.redMul(i),o)},il.prototype.dbl=function(){return this.isInfinity()?this:this.curve.zeroA?this._zeroDbl():this.curve.threeA?this._threeDbl():this._dbl()},il.prototype._zeroDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n),c=o.redSqr().redISub(s).redISub(s),u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),e=c,t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.x.redSqr(),f=this.y.redSqr(),d=f.redSqr(),l=this.x.redAdd(f).redSqr().redISub(h).redISub(d);l=l.redIAdd(l);var p=h.redAdd(h).redIAdd(h),y=p.redSqr(),b=d.redIAdd(d);b=(b=b.redIAdd(b)).redIAdd(b),e=y.redISub(l).redISub(l),t=p.redMul(l.redISub(e)).redISub(b),r=(r=this.y.redMul(this.z)).redIAdd(r)}return this.curve.jpoint(e,t,r)},il.prototype._threeDbl=function(){var e,t,r;if(this.zOne){var n=this.x.redSqr(),i=this.y.redSqr(),a=i.redSqr(),s=this.x.redAdd(i).redSqr().redISub(n).redISub(a);s=s.redIAdd(s);var o=n.redAdd(n).redIAdd(n).redIAdd(this.curve.a),c=o.redSqr().redISub(s).redISub(s);e=c;var u=a.redIAdd(a);u=(u=u.redIAdd(u)).redIAdd(u),t=o.redMul(s.redISub(c)).redISub(u),r=this.y.redAdd(this.y)}else{var h=this.z.redSqr(),f=this.y.redSqr(),d=this.x.redMul(f),l=this.x.redSub(h).redMul(this.x.redAdd(h));l=l.redAdd(l).redIAdd(l);var p=d.redIAdd(d),y=(p=p.redIAdd(p)).redAdd(p);e=l.redSqr().redISub(y),r=this.y.redAdd(this.z).redSqr().redISub(f).redISub(h);var b=f.redSqr();b=(b=(b=b.redIAdd(b)).redIAdd(b)).redIAdd(b),t=l.redMul(p.redISub(e)).redISub(b)}return this.curve.jpoint(e,t,r)},il.prototype._dbl=function(){var e=this.curve.a,t=this.x,r=this.y,n=this.z,i=n.redSqr().redSqr(),a=t.redSqr(),s=r.redSqr(),o=a.redAdd(a).redIAdd(a).redIAdd(e.redMul(i)),c=t.redAdd(t),u=(c=c.redIAdd(c)).redMul(s),h=o.redSqr().redISub(u.redAdd(u)),f=u.redISub(h),d=s.redSqr();d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=o.redMul(f).redISub(d),p=r.redAdd(r).redMul(n);return this.curve.jpoint(h,l,p)},il.prototype.trpl=function(){if(!this.curve.zeroA)return this.dbl().add(this);var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr(),n=t.redSqr(),i=e.redAdd(e).redIAdd(e),a=i.redSqr(),s=this.x.redAdd(t).redSqr().redISub(e).redISub(n),o=(s=(s=(s=s.redIAdd(s)).redAdd(s).redIAdd(s)).redISub(a)).redSqr(),c=n.redIAdd(n);c=(c=(c=c.redIAdd(c)).redIAdd(c)).redIAdd(c);var u=i.redIAdd(s).redSqr().redISub(a).redISub(o).redISub(c),h=t.redMul(u);h=(h=h.redIAdd(h)).redIAdd(h);var f=this.x.redMul(o).redISub(h);f=(f=f.redIAdd(f)).redIAdd(f);var d=this.y.redMul(u.redMul(c.redISub(u)).redISub(s.redMul(o)));d=(d=(d=d.redIAdd(d)).redIAdd(d)).redIAdd(d);var l=this.z.redAdd(s).redSqr().redISub(r).redISub(o);return this.curve.jpoint(f,d,l)},il.prototype.mul=function(e,t){return e=new qd(e,t),this.curve._wnafMul(this,e)},il.prototype.eq=function(e){if("affine"===e.type)return this.eq(e.toJ());if(this===e)return!0;var t=this.z.redSqr(),r=e.z.redSqr();if(0!==this.x.redMul(r).redISub(e.x.redMul(t)).cmpn(0))return!1;var n=t.redMul(this.z),i=r.redMul(e.z);return 0===this.y.redMul(i).redISub(e.y.redMul(n)).cmpn(0)},il.prototype.eqXToP=function(e){var t=this.z.redSqr(),r=e.toRed(this.curve.red).redMul(t);if(0===this.x.cmp(r))return!0;for(var n=e.clone(),i=this.curve.redN.redMul(t);;){if(n.iadd(this.curve.n),n.cmp(this.curve.p)>=0)return!1;if(r.redIAdd(i),0===this.x.cmp(r))return!0}},il.prototype.inspect=function(){return this.isInfinity()?"<EC JPoint Infinity>":"<EC JPoint x: "+this.x.toString(16,2)+" y: "+this.y.toString(16,2)+" z: "+this.z.toString(16,2)+">"},il.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},Ge(al,Xd);var sl=al;function ol(e,t,r){Xd.BasePoint.call(this,e,"projective"),null===t&&null===r?(this.x=this.curve.one,this.z=this.curve.zero):(this.x=new qd(t,16),this.z=new qd(r,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)))}al.prototype.validate=function(e){var t=e.normalize().x,r=t.redSqr(),n=r.redMul(t).redAdd(r.redMul(this.a)).redAdd(t);return 0===n.redSqrt().redSqr().cmp(n)},Ge(ol,Xd.BasePoint),al.prototype.decodePoint=function(e,t){if(33===(e=Nd.toArray(e,t)).length&&64===e[0]&&(e=e.slice(1,33).reverse()),32!==e.length)throw new Error("Unknown point compression format");return this.point(e,1)},al.prototype.point=function(e,t){return new ol(this,e,t)},al.prototype.pointFromJSON=function(e){return ol.fromJSON(this,e)},ol.prototype.precompute=function(){},ol.prototype._encode=function(e){var t=this.curve.p.byteLength();return e?[64].concat(this.getX().toArray("le",t)):this.getX().toArray("be",t)},ol.fromJSON=function(e,t){return new ol(e,t[0],t[1]||e.one)},ol.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},ol.prototype.isInfinity=function(){return 0===this.z.cmpn(0)},ol.prototype.dbl=function(){var e=this.x.redAdd(this.z).redSqr(),t=this.x.redSub(this.z).redSqr(),r=e.redSub(t),n=e.redMul(t),i=r.redMul(t.redAdd(this.curve.a24.redMul(r)));return this.curve.point(n,i)},ol.prototype.add=function(){throw new Error("Not supported on Montgomery curve")},ol.prototype.diffAdd=function(e,t){var r=this.x.redAdd(this.z),n=this.x.redSub(this.z),i=e.x.redAdd(e.z),a=e.x.redSub(e.z).redMul(r),s=i.redMul(n),o=t.z.redMul(a.redAdd(s).redSqr()),c=t.x.redMul(a.redISub(s).redSqr());return this.curve.point(o,c)},ol.prototype.mul=function(e){for(var t=(e=new qd(e,16)).clone(),r=this,n=this.curve.point(null,null),i=[];0!==t.cmpn(0);t.iushrn(1))i.push(t.andln(1));for(var a=i.length-1;a>=0;a--)0===i[a]?(r=r.diffAdd(n,this),n=n.dbl()):(n=r.diffAdd(n,this),r=r.dbl());return n},ol.prototype.mulAdd=function(){throw new Error("Not supported on Montgomery curve")},ol.prototype.jumlAdd=function(){throw new Error("Not supported on Montgomery curve")},ol.prototype.eq=function(e){return 0===this.getX().cmp(e.getX())},ol.prototype.normalize=function(){return this.x=this.x.redMul(this.z.redInvm()),this.z=this.curve.one,this},ol.prototype.getX=function(){return this.normalize(),this.x.fromRed()};var cl=Nd.assert;function ul(e){this.twisted=1!=(0|e.a),this.mOneA=this.twisted&&-1==(0|e.a),this.extended=this.mOneA,Xd.call(this,"edwards",e),this.a=new qd(e.a,16).umod(this.red.m),this.a=this.a.toRed(this.red),this.c=new qd(e.c,16).toRed(this.red),this.c2=this.c.redSqr(),this.d=new qd(e.d,16).toRed(this.red),this.dd=this.d.redAdd(this.d),cl(!this.twisted||0===this.c.fromRed().cmpn(1)),this.oneC=1==(0|e.c)}Ge(ul,Xd);var hl=ul;function fl(e,t,r,n,i){Xd.BasePoint.call(this,e,"projective"),null===t&&null===r&&null===n?(this.x=this.curve.zero,this.y=this.curve.one,this.z=this.curve.one,this.t=this.curve.zero,this.zOne=!0):(this.x=new qd(t,16),this.y=new qd(r,16),this.z=n?new qd(n,16):this.curve.one,this.t=i&&new qd(i,16),this.x.red||(this.x=this.x.toRed(this.curve.red)),this.y.red||(this.y=this.y.toRed(this.curve.red)),this.z.red||(this.z=this.z.toRed(this.curve.red)),this.t&&!this.t.red&&(this.t=this.t.toRed(this.curve.red)),this.zOne=this.z===this.curve.one,this.curve.extended&&!this.t&&(this.t=this.x.redMul(this.y),this.zOne||(this.t=this.t.redMul(this.z.redInvm()))))}ul.prototype._mulA=function(e){return this.mOneA?e.redNeg():this.a.redMul(e)},ul.prototype._mulC=function(e){return this.oneC?e:this.c.redMul(e)},ul.prototype.jpoint=function(e,t,r,n){return this.point(e,t,r,n)},ul.prototype.pointFromX=function(e,t){(e=new qd(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=this.c2.redSub(this.a.redMul(r)),i=this.one.redSub(this.c2.redMul(this.d).redMul(r)),a=n.redMul(i.redInvm()),s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");var o=s.fromRed().isOdd();return(t&&!o||!t&&o)&&(s=s.redNeg()),this.point(e,s)},ul.prototype.pointFromY=function(e,t){(e=new qd(e,16)).red||(e=e.toRed(this.red));var r=e.redSqr(),n=r.redSub(this.c2),i=r.redMul(this.d).redMul(this.c2).redSub(this.a),a=n.redMul(i.redInvm());if(0===a.cmp(this.zero)){if(t)throw new Error("invalid point");return this.point(this.zero,e)}var s=a.redSqrt();if(0!==s.redSqr().redSub(a).cmp(this.zero))throw new Error("invalid point");return s.fromRed().isOdd()!==t&&(s=s.redNeg()),this.point(s,e)},ul.prototype.validate=function(e){if(e.isInfinity())return!0;e.normalize();var t=e.x.redSqr(),r=e.y.redSqr(),n=t.redMul(this.a).redAdd(r),i=this.c2.redMul(this.one.redAdd(this.d.redMul(t).redMul(r)));return 0===n.cmp(i)},Ge(fl,Xd.BasePoint),ul.prototype.pointFromJSON=function(e){return fl.fromJSON(this,e)},ul.prototype.point=function(e,t,r,n){return new fl(this,e,t,r,n)},fl.fromJSON=function(e,t){return new fl(e,t[0],t[1],t[2])},fl.prototype.inspect=function(){return this.isInfinity()?"<EC Point Infinity>":"<EC Point x: "+this.x.fromRed().toString(16,2)+" y: "+this.y.fromRed().toString(16,2)+" z: "+this.z.fromRed().toString(16,2)+">"},fl.prototype.isInfinity=function(){return 0===this.x.cmpn(0)&&(0===this.y.cmp(this.z)||this.zOne&&0===this.y.cmp(this.curve.c))},fl.prototype._extDbl=function(){var e=this.x.redSqr(),t=this.y.redSqr(),r=this.z.redSqr();r=r.redIAdd(r);var n=this.curve._mulA(e),i=this.x.redAdd(this.y).redSqr().redISub(e).redISub(t),a=n.redAdd(t),s=a.redSub(r),o=n.redSub(t),c=i.redMul(s),u=a.redMul(o),h=i.redMul(o),f=s.redMul(a);return this.curve.point(c,u,f,h)},fl.prototype._projDbl=function(){var e,t,r,n=this.x.redAdd(this.y).redSqr(),i=this.x.redSqr(),a=this.y.redSqr();if(this.curve.twisted){var s=(u=this.curve._mulA(i)).redAdd(a);if(this.zOne)e=n.redSub(i).redSub(a).redMul(s.redSub(this.curve.two)),t=s.redMul(u.redSub(a)),r=s.redSqr().redSub(s).redSub(s);else{var o=this.z.redSqr(),c=s.redSub(o).redISub(o);e=n.redSub(i).redISub(a).redMul(c),t=s.redMul(u.redSub(a)),r=s.redMul(c)}}else{var u=i.redAdd(a);o=this.curve._mulC(this.z).redSqr(),c=u.redSub(o).redSub(o);e=this.curve._mulC(n.redISub(u)).redMul(c),t=this.curve._mulC(u).redMul(i.redISub(a)),r=u.redMul(c)}return this.curve.point(e,t,r)},fl.prototype.dbl=function(){return this.isInfinity()?this:this.curve.extended?this._extDbl():this._projDbl()},fl.prototype._extAdd=function(e){var t=this.y.redSub(this.x).redMul(e.y.redSub(e.x)),r=this.y.redAdd(this.x).redMul(e.y.redAdd(e.x)),n=this.t.redMul(this.curve.dd).redMul(e.t),i=this.z.redMul(e.z.redAdd(e.z)),a=r.redSub(t),s=i.redSub(n),o=i.redAdd(n),c=r.redAdd(t),u=a.redMul(s),h=o.redMul(c),f=a.redMul(c),d=s.redMul(o);return this.curve.point(u,h,d,f)},fl.prototype._projAdd=function(e){var t,r,n=this.z.redMul(e.z),i=n.redSqr(),a=this.x.redMul(e.x),s=this.y.redMul(e.y),o=this.curve.d.redMul(a).redMul(s),c=i.redSub(o),u=i.redAdd(o),h=this.x.redAdd(this.y).redMul(e.x.redAdd(e.y)).redISub(a).redISub(s),f=n.redMul(c).redMul(h);return this.curve.twisted?(t=n.redMul(u).redMul(s.redSub(this.curve._mulA(a))),r=c.redMul(u)):(t=n.redMul(u).redMul(s.redSub(a)),r=this.curve._mulC(c).redMul(u)),this.curve.point(f,t,r)},fl.prototype.add=function(e){return this.isInfinity()?e:e.isInfinity()?this:this.curve.extended?this._extAdd(e):this._projAdd(e)},fl.prototype.mul=function(e){return this._hasDoubles(e)?this.curve._fixedNafMul(this,e):this.curve._wnafMul(this,e)},fl.prototype.mulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!1)},fl.prototype.jmulAdd=function(e,t,r){return this.curve._wnafMulAdd(1,[this,t],[e,r],2,!0)},fl.prototype.normalize=function(){if(this.zOne)return this;var e=this.z.redInvm();return this.x=this.x.redMul(e),this.y=this.y.redMul(e),this.t&&(this.t=this.t.redMul(e)),this.z=this.curve.one,this.zOne=!0,this},fl.prototype.neg=function(){return this.curve.point(this.x.redNeg(),this.y,this.z,this.t&&this.t.redNeg())},fl.prototype.getX=function(){return this.normalize(),this.x.fromRed()},fl.prototype.getY=function(){return this.normalize(),this.y.fromRed()},fl.prototype.eq=function(e){return this===e||0===this.getX().cmp(e.getX())&&0===this.getY().cmp(e.getY())},fl.prototype.eqXToP=function(e){var t=e.toRed(this.curve.red).redMul(this.z);if(0===this.x.cmp(t))return!0;for(var r=e.clone(),n=this.curve.redN.redMul(this.z);;){if(r.iadd(this.curve.n),r.cmp(this.curve.p)>=0)return!1;if(t.redIAdd(n),0===this.x.cmp(t))return!0}},fl.prototype.toP=fl.prototype.normalize,fl.prototype.mixedAdd=fl.prototype.add;var dl=He((function(e,t){var r=t;r.base=Xd,r.short=rl,r.mont=sl,r.edwards=hl})),ll=nt.rotl32,pl=nt.sum32,yl=nt.sum32_5,bl=dt.ft_1,ml=st.BlockHash,gl=[1518500249,1859775393,2400959708,3395469782];function wl(){if(!(this instanceof wl))return new wl;ml.call(this),this.h=[1732584193,4023233417,2562383102,271733878,3285377520],this.W=new Array(80)}nt.inherits(wl,ml);var vl=wl;wl.blockSize=512,wl.outSize=160,wl.hmacStrength=80,wl.padLength=64,wl.prototype._update=function(e,t){for(var r=this.W,n=0;n<16;n++)r[n]=e[t+n];for(;n<r.length;n++)r[n]=ll(r[n-3]^r[n-8]^r[n-14]^r[n-16],1);var i=this.h[0],a=this.h[1],s=this.h[2],o=this.h[3],c=this.h[4];for(n=0;n<r.length;n++){var u=~~(n/20),h=yl(ll(i,5),bl(u,a,s,o),c,r[n],gl[u]);c=o,o=s,s=ll(a,30),a=i,i=h}this.h[0]=pl(this.h[0],i),this.h[1]=pl(this.h[1],a),this.h[2]=pl(this.h[2],s),this.h[3]=pl(this.h[3],o),this.h[4]=pl(this.h[4],c)},wl.prototype._digest=function(e){return"hex"===e?nt.toHex32(this.h,"big"):nt.split32(this.h,"big")};var _l={sha1:vl,sha224:xt,sha256:Et,sha384:rr,sha512:jt};function kl(e,t,r){if(!(this instanceof kl))return new kl(e,t,r);this.Hash=e,this.blockSize=e.blockSize/8,this.outSize=e.outSize/8,this.inner=null,this.outer=null,this._init(nt.toArray(t,r))}var Sl=kl;kl.prototype._init=function(e){e.length>this.blockSize&&(e=(new this.Hash).update(e).digest()),je(e.length<=this.blockSize);for(var t=e.length;t<this.blockSize;t++)e.push(0);for(t=0;t<e.length;t++)e[t]^=54;for(this.inner=(new this.Hash).update(e),t=0;t<e.length;t++)e[t]^=106;this.outer=(new this.Hash).update(e)},kl.prototype.update=function(e,t){return this.inner.update(e,t),this},kl.prototype.digest=function(e){return this.outer.update(this.inner.digest()),this.outer.digest(e)};var Al=He((function(e,t){var r=t;r.utils=nt,r.common=st,r.sha=_l,r.ripemd=mr,r.hmac=Sl,r.sha1=r.sha.sha1,r.sha256=r.sha.sha256,r.sha224=r.sha.sha224,r.sha384=r.sha.sha384,r.sha512=r.sha.sha512,r.ripemd160=r.ripemd.ripemd160})),El={doubles:{step:4,points:[["e60fce93b59e9ec53011aabc21c23e97b2a31369b87a5ae9c44ee89e2a6dec0a","f7e3507399e595929db99f34f57937101296891e44d23f0be1f32cce69616821"],["8282263212c609d9ea2a6e3e172de238d8c39cabd5ac1ca10646e23fd5f51508","11f8a8098557dfe45e8256e830b60ace62d613ac2f7b17bed31b6eaff6e26caf"],["175e159f728b865a72f99cc6c6fc846de0b93833fd2222ed73fce5b551e5b739","d3506e0d9e3c79eba4ef97a51ff71f5eacb5955add24345c6efa6ffee9fed695"],["363d90d447b00c9c99ceac05b6262ee053441c7e55552ffe526bad8f83ff4640","4e273adfc732221953b445397f3363145b9a89008199ecb62003c7f3bee9de9"],["8b4b5f165df3c2be8c6244b5b745638843e4a781a15bcd1b69f79a55dffdf80c","4aad0a6f68d308b4b3fbd7813ab0da04f9e336546162ee56b3eff0c65fd4fd36"],["723cbaa6e5db996d6bf771c00bd548c7b700dbffa6c0e77bcb6115925232fcda","96e867b5595cc498a921137488824d6e2660a0653779494801dc069d9eb39f5f"],["eebfa4d493bebf98ba5feec812c2d3b50947961237a919839a533eca0e7dd7fa","5d9a8ca3970ef0f269ee7edaf178089d9ae4cdc3a711f712ddfd4fdae1de8999"],["100f44da696e71672791d0a09b7bde459f1215a29b3c03bfefd7835b39a48db0","cdd9e13192a00b772ec8f3300c090666b7ff4a18ff5195ac0fbd5cd62bc65a09"],["e1031be262c7ed1b1dc9227a4a04c017a77f8d4464f3b3852c8acde6e534fd2d","9d7061928940405e6bb6a4176597535af292dd419e1ced79a44f18f29456a00d"],["feea6cae46d55b530ac2839f143bd7ec5cf8b266a41d6af52d5e688d9094696d","e57c6b6c97dce1bab06e4e12bf3ecd5c981c8957cc41442d3155debf18090088"],["da67a91d91049cdcb367be4be6ffca3cfeed657d808583de33fa978bc1ec6cb1","9bacaa35481642bc41f463f7ec9780e5dec7adc508f740a17e9ea8e27a68be1d"],["53904faa0b334cdda6e000935ef22151ec08d0f7bb11069f57545ccc1a37b7c0","5bc087d0bc80106d88c9eccac20d3c1c13999981e14434699dcb096b022771c8"],["8e7bcd0bd35983a7719cca7764ca906779b53a043a9b8bcaeff959f43ad86047","10b7770b2a3da4b3940310420ca9514579e88e2e47fd68b3ea10047e8460372a"],["385eed34c1cdff21e6d0818689b81bde71a7f4f18397e6690a841e1599c43862","283bebc3e8ea23f56701de19e9ebf4576b304eec2086dc8cc0458fe5542e5453"],["6f9d9b803ecf191637c73a4413dfa180fddf84a5947fbc9c606ed86c3fac3a7","7c80c68e603059ba69b8e2a30e45c4d47ea4dd2f5c281002d86890603a842160"],["3322d401243c4e2582a2147c104d6ecbf774d163db0f5e5313b7e0e742d0e6bd","56e70797e9664ef5bfb019bc4ddaf9b72805f63ea2873af624f3a2e96c28b2a0"],["85672c7d2de0b7da2bd1770d89665868741b3f9af7643397721d74d28134ab83","7c481b9b5b43b2eb6374049bfa62c2e5e77f17fcc5298f44c8e3094f790313a6"],["948bf809b1988a46b06c9f1919413b10f9226c60f668832ffd959af60c82a0a","53a562856dcb6646dc6b74c5d1c3418c6d4dff08c97cd2bed4cb7f88d8c8e589"],["6260ce7f461801c34f067ce0f02873a8f1b0e44dfc69752accecd819f38fd8e8","bc2da82b6fa5b571a7f09049776a1ef7ecd292238051c198c1a84e95b2b4ae17"],["e5037de0afc1d8d43d8348414bbf4103043ec8f575bfdc432953cc8d2037fa2d","4571534baa94d3b5f9f98d09fb990bddbd5f5b03ec481f10e0e5dc841d755bda"],["e06372b0f4a207adf5ea905e8f1771b4e7e8dbd1c6a6c5b725866a0ae4fce725","7a908974bce18cfe12a27bb2ad5a488cd7484a7787104870b27034f94eee31dd"],["213c7a715cd5d45358d0bbf9dc0ce02204b10bdde2a3f58540ad6908d0559754","4b6dad0b5ae462507013ad06245ba190bb4850f5f36a7eeddff2c27534b458f2"],["4e7c272a7af4b34e8dbb9352a5419a87e2838c70adc62cddf0cc3a3b08fbd53c","17749c766c9d0b18e16fd09f6def681b530b9614bff7dd33e0b3941817dcaae6"],["fea74e3dbe778b1b10f238ad61686aa5c76e3db2be43057632427e2840fb27b6","6e0568db9b0b13297cf674deccb6af93126b596b973f7b77701d3db7f23cb96f"],["76e64113f677cf0e10a2570d599968d31544e179b760432952c02a4417bdde39","c90ddf8dee4e95cf577066d70681f0d35e2a33d2b56d2032b4b1752d1901ac01"],["c738c56b03b2abe1e8281baa743f8f9a8f7cc643df26cbee3ab150242bcbb891","893fb578951ad2537f718f2eacbfbbbb82314eef7880cfe917e735d9699a84c3"],["d895626548b65b81e264c7637c972877d1d72e5f3a925014372e9f6588f6c14b","febfaa38f2bc7eae728ec60818c340eb03428d632bb067e179363ed75d7d991f"],["b8da94032a957518eb0f6433571e8761ceffc73693e84edd49150a564f676e03","2804dfa44805a1e4d7c99cc9762808b092cc584d95ff3b511488e4e74efdf6e7"],["e80fea14441fb33a7d8adab9475d7fab2019effb5156a792f1a11778e3c0df5d","eed1de7f638e00771e89768ca3ca94472d155e80af322ea9fcb4291b6ac9ec78"],["a301697bdfcd704313ba48e51d567543f2a182031efd6915ddc07bbcc4e16070","7370f91cfb67e4f5081809fa25d40f9b1735dbf7c0a11a130c0d1a041e177ea1"],["90ad85b389d6b936463f9d0512678de208cc330b11307fffab7ac63e3fb04ed4","e507a3620a38261affdcbd9427222b839aefabe1582894d991d4d48cb6ef150"],["8f68b9d2f63b5f339239c1ad981f162ee88c5678723ea3351b7b444c9ec4c0da","662a9f2dba063986de1d90c2b6be215dbbea2cfe95510bfdf23cbf79501fff82"],["e4f3fb0176af85d65ff99ff9198c36091f48e86503681e3e6686fd5053231e11","1e63633ad0ef4f1c1661a6d0ea02b7286cc7e74ec951d1c9822c38576feb73bc"],["8c00fa9b18ebf331eb961537a45a4266c7034f2f0d4e1d0716fb6eae20eae29e","efa47267fea521a1a9dc343a3736c974c2fadafa81e36c54e7d2a4c66702414b"],["e7a26ce69dd4829f3e10cec0a9e98ed3143d084f308b92c0997fddfc60cb3e41","2a758e300fa7984b471b006a1aafbb18d0a6b2c0420e83e20e8a9421cf2cfd51"],["b6459e0ee3662ec8d23540c223bcbdc571cbcb967d79424f3cf29eb3de6b80ef","67c876d06f3e06de1dadf16e5661db3c4b3ae6d48e35b2ff30bf0b61a71ba45"],["d68a80c8280bb840793234aa118f06231d6f1fc67e73c5a5deda0f5b496943e8","db8ba9fff4b586d00c4b1f9177b0e28b5b0e7b8f7845295a294c84266b133120"],["324aed7df65c804252dc0270907a30b09612aeb973449cea4095980fc28d3d5d","648a365774b61f2ff130c0c35aec1f4f19213b0c7e332843967224af96ab7c84"],["4df9c14919cde61f6d51dfdbe5fee5dceec4143ba8d1ca888e8bd373fd054c96","35ec51092d8728050974c23a1d85d4b5d506cdc288490192ebac06cad10d5d"],["9c3919a84a474870faed8a9c1cc66021523489054d7f0308cbfc99c8ac1f98cd","ddb84f0f4a4ddd57584f044bf260e641905326f76c64c8e6be7e5e03d4fc599d"],["6057170b1dd12fdf8de05f281d8e06bb91e1493a8b91d4cc5a21382120a959e5","9a1af0b26a6a4807add9a2daf71df262465152bc3ee24c65e899be932385a2a8"],["a576df8e23a08411421439a4518da31880cef0fba7d4df12b1a6973eecb94266","40a6bf20e76640b2c92b97afe58cd82c432e10a7f514d9f3ee8be11ae1b28ec8"],["7778a78c28dec3e30a05fe9629de8c38bb30d1f5cf9a3a208f763889be58ad71","34626d9ab5a5b22ff7098e12f2ff580087b38411ff24ac563b513fc1fd9f43ac"],["928955ee637a84463729fd30e7afd2ed5f96274e5ad7e5cb09eda9c06d903ac","c25621003d3f42a827b78a13093a95eeac3d26efa8a8d83fc5180e935bcd091f"],["85d0fef3ec6db109399064f3a0e3b2855645b4a907ad354527aae75163d82751","1f03648413a38c0be29d496e582cf5663e8751e96877331582c237a24eb1f962"],["ff2b0dce97eece97c1c9b6041798b85dfdfb6d8882da20308f5404824526087e","493d13fef524ba188af4c4dc54d07936c7b7ed6fb90e2ceb2c951e01f0c29907"],["827fbbe4b1e880ea9ed2b2e6301b212b57f1ee148cd6dd28780e5e2cf856e241","c60f9c923c727b0b71bef2c67d1d12687ff7a63186903166d605b68baec293ec"],["eaa649f21f51bdbae7be4ae34ce6e5217a58fdce7f47f9aa7f3b58fa2120e2b3","be3279ed5bbbb03ac69a80f89879aa5a01a6b965f13f7e59d47a5305ba5ad93d"],["e4a42d43c5cf169d9391df6decf42ee541b6d8f0c9a137401e23632dda34d24f","4d9f92e716d1c73526fc99ccfb8ad34ce886eedfa8d8e4f13a7f7131deba9414"],["1ec80fef360cbdd954160fadab352b6b92b53576a88fea4947173b9d4300bf19","aeefe93756b5340d2f3a4958a7abbf5e0146e77f6295a07b671cdc1cc107cefd"],["146a778c04670c2f91b00af4680dfa8bce3490717d58ba889ddb5928366642be","b318e0ec3354028add669827f9d4b2870aaa971d2f7e5ed1d0b297483d83efd0"],["fa50c0f61d22e5f07e3acebb1aa07b128d0012209a28b9776d76a8793180eef9","6b84c6922397eba9b72cd2872281a68a5e683293a57a213b38cd8d7d3f4f2811"],["da1d61d0ca721a11b1a5bf6b7d88e8421a288ab5d5bba5220e53d32b5f067ec2","8157f55a7c99306c79c0766161c91e2966a73899d279b48a655fba0f1ad836f1"],["a8e282ff0c9706907215ff98e8fd416615311de0446f1e062a73b0610d064e13","7f97355b8db81c09abfb7f3c5b2515888b679a3e50dd6bd6cef7c73111f4cc0c"],["174a53b9c9a285872d39e56e6913cab15d59b1fa512508c022f382de8319497c","ccc9dc37abfc9c1657b4155f2c47f9e6646b3a1d8cb9854383da13ac079afa73"],["959396981943785c3d3e57edf5018cdbe039e730e4918b3d884fdff09475b7ba","2e7e552888c331dd8ba0386a4b9cd6849c653f64c8709385e9b8abf87524f2fd"],["d2a63a50ae401e56d645a1153b109a8fcca0a43d561fba2dbb51340c9d82b151","e82d86fb6443fcb7565aee58b2948220a70f750af484ca52d4142174dcf89405"],["64587e2335471eb890ee7896d7cfdc866bacbdbd3839317b3436f9b45617e073","d99fcdd5bf6902e2ae96dd6447c299a185b90a39133aeab358299e5e9faf6589"],["8481bde0e4e4d885b3a546d3e549de042f0aa6cea250e7fd358d6c86dd45e458","38ee7b8cba5404dd84a25bf39cecb2ca900a79c42b262e556d64b1b59779057e"],["13464a57a78102aa62b6979ae817f4637ffcfed3c4b1ce30bcd6303f6caf666b","69be159004614580ef7e433453ccb0ca48f300a81d0942e13f495a907f6ecc27"],["bc4a9df5b713fe2e9aef430bcc1dc97a0cd9ccede2f28588cada3a0d2d83f366","d3a81ca6e785c06383937adf4b798caa6e8a9fbfa547b16d758d666581f33c1"],["8c28a97bf8298bc0d23d8c749452a32e694b65e30a9472a3954ab30fe5324caa","40a30463a3305193378fedf31f7cc0eb7ae784f0451cb9459e71dc73cbef9482"],["8ea9666139527a8c1dd94ce4f071fd23c8b350c5a4bb33748c4ba111faccae0","620efabbc8ee2782e24e7c0cfb95c5d735b783be9cf0f8e955af34a30e62b945"],["dd3625faef5ba06074669716bbd3788d89bdde815959968092f76cc4eb9a9787","7a188fa3520e30d461da2501045731ca941461982883395937f68d00c644a573"],["f710d79d9eb962297e4f6232b40e8f7feb2bc63814614d692c12de752408221e","ea98e67232d3b3295d3b535532115ccac8612c721851617526ae47a9c77bfc82"]]},naf:{wnd:7,points:[["f9308a019258c31049344f85f89d5229b531c845836f99b08601f113bce036f9","388f7b0f632de8140fe337e62a37f3566500a99934c2231b6cb9fd7584b8e672"],["2f8bde4d1a07209355b4a7250a5c5128e88b84bddc619ab7cba8d569b240efe4","d8ac222636e5e3d6d4dba9dda6c9c426f788271bab0d6840dca87d3aa6ac62d6"],["5cbdf0646e5db4eaa398f365f2ea7a0e3d419b7e0330e39ce92bddedcac4f9bc","6aebca40ba255960a3178d6d861a54dba813d0b813fde7b5a5082628087264da"],["acd484e2f0c7f65309ad178a9f559abde09796974c57e714c35f110dfc27ccbe","cc338921b0a7d9fd64380971763b61e9add888a4375f8e0f05cc262ac64f9c37"],["774ae7f858a9411e5ef4246b70c65aac5649980be5c17891bbec17895da008cb","d984a032eb6b5e190243dd56d7b7b365372db1e2dff9d6a8301d74c9c953c61b"],["f28773c2d975288bc7d1d205c3748651b075fbc6610e58cddeeddf8f19405aa8","ab0902e8d880a89758212eb65cdaf473a1a06da521fa91f29b5cb52db03ed81"],["d7924d4f7d43ea965a465ae3095ff41131e5946f3c85f79e44adbcf8e27e080e","581e2872a86c72a683842ec228cc6defea40af2bd896d3a5c504dc9ff6a26b58"],["defdea4cdb677750a420fee807eacf21eb9898ae79b9768766e4faa04a2d4a34","4211ab0694635168e997b0ead2a93daeced1f4a04a95c0f6cfb199f69e56eb77"],["2b4ea0a797a443d293ef5cff444f4979f06acfebd7e86d277475656138385b6c","85e89bc037945d93b343083b5a1c86131a01f60c50269763b570c854e5c09b7a"],["352bbf4a4cdd12564f93fa332ce333301d9ad40271f8107181340aef25be59d5","321eb4075348f534d59c18259dda3e1f4a1b3b2e71b1039c67bd3d8bcf81998c"],["2fa2104d6b38d11b0230010559879124e42ab8dfeff5ff29dc9cdadd4ecacc3f","2de1068295dd865b64569335bd5dd80181d70ecfc882648423ba76b532b7d67"],["9248279b09b4d68dab21a9b066edda83263c3d84e09572e269ca0cd7f5453714","73016f7bf234aade5d1aa71bdea2b1ff3fc0de2a887912ffe54a32ce97cb3402"],["daed4f2be3a8bf278e70132fb0beb7522f570e144bf615c07e996d443dee8729","a69dce4a7d6c98e8d4a1aca87ef8d7003f83c230f3afa726ab40e52290be1c55"],["c44d12c7065d812e8acf28d7cbb19f9011ecd9e9fdf281b0e6a3b5e87d22e7db","2119a460ce326cdc76c45926c982fdac0e106e861edf61c5a039063f0e0e6482"],["6a245bf6dc698504c89a20cfded60853152b695336c28063b61c65cbd269e6b4","e022cf42c2bd4a708b3f5126f16a24ad8b33ba48d0423b6efd5e6348100d8a82"],["1697ffa6fd9de627c077e3d2fe541084ce13300b0bec1146f95ae57f0d0bd6a5","b9c398f186806f5d27561506e4557433a2cf15009e498ae7adee9d63d01b2396"],["605bdb019981718b986d0f07e834cb0d9deb8360ffb7f61df982345ef27a7479","2972d2de4f8d20681a78d93ec96fe23c26bfae84fb14db43b01e1e9056b8c49"],["62d14dab4150bf497402fdc45a215e10dcb01c354959b10cfe31c7e9d87ff33d","80fc06bd8cc5b01098088a1950eed0db01aa132967ab472235f5642483b25eaf"],["80c60ad0040f27dade5b4b06c408e56b2c50e9f56b9b8b425e555c2f86308b6f","1c38303f1cc5c30f26e66bad7fe72f70a65eed4cbe7024eb1aa01f56430bd57a"],["7a9375ad6167ad54aa74c6348cc54d344cc5dc9487d847049d5eabb0fa03c8fb","d0e3fa9eca8726909559e0d79269046bdc59ea10c70ce2b02d499ec224dc7f7"],["d528ecd9b696b54c907a9ed045447a79bb408ec39b68df504bb51f459bc3ffc9","eecf41253136e5f99966f21881fd656ebc4345405c520dbc063465b521409933"],["49370a4b5f43412ea25f514e8ecdad05266115e4a7ecb1387231808f8b45963","758f3f41afd6ed428b3081b0512fd62a54c3f3afbb5b6764b653052a12949c9a"],["77f230936ee88cbbd73df930d64702ef881d811e0e1498e2f1c13eb1fc345d74","958ef42a7886b6400a08266e9ba1b37896c95330d97077cbbe8eb3c7671c60d6"],["f2dac991cc4ce4b9ea44887e5c7c0bce58c80074ab9d4dbaeb28531b7739f530","e0dedc9b3b2f8dad4da1f32dec2531df9eb5fbeb0598e4fd1a117dba703a3c37"],["463b3d9f662621fb1b4be8fbbe2520125a216cdfc9dae3debcba4850c690d45b","5ed430d78c296c3543114306dd8622d7c622e27c970a1de31cb377b01af7307e"],["f16f804244e46e2a09232d4aff3b59976b98fac14328a2d1a32496b49998f247","cedabd9b82203f7e13d206fcdf4e33d92a6c53c26e5cce26d6579962c4e31df6"],["caf754272dc84563b0352b7a14311af55d245315ace27c65369e15f7151d41d1","cb474660ef35f5f2a41b643fa5e460575f4fa9b7962232a5c32f908318a04476"],["2600ca4b282cb986f85d0f1709979d8b44a09c07cb86d7c124497bc86f082120","4119b88753c15bd6a693b03fcddbb45d5ac6be74ab5f0ef44b0be9475a7e4b40"],["7635ca72d7e8432c338ec53cd12220bc01c48685e24f7dc8c602a7746998e435","91b649609489d613d1d5e590f78e6d74ecfc061d57048bad9e76f302c5b9c61"],["754e3239f325570cdbbf4a87deee8a66b7f2b33479d468fbc1a50743bf56cc18","673fb86e5bda30fb3cd0ed304ea49a023ee33d0197a695d0c5d98093c536683"],["e3e6bd1071a1e96aff57859c82d570f0330800661d1c952f9fe2694691d9b9e8","59c9e0bba394e76f40c0aa58379a3cb6a5a2283993e90c4167002af4920e37f5"],["186b483d056a033826ae73d88f732985c4ccb1f32ba35f4b4cc47fdcf04aa6eb","3b952d32c67cf77e2e17446e204180ab21fb8090895138b4a4a797f86e80888b"],["df9d70a6b9876ce544c98561f4be4f725442e6d2b737d9c91a8321724ce0963f","55eb2dafd84d6ccd5f862b785dc39d4ab157222720ef9da217b8c45cf2ba2417"],["5edd5cc23c51e87a497ca815d5dce0f8ab52554f849ed8995de64c5f34ce7143","efae9c8dbc14130661e8cec030c89ad0c13c66c0d17a2905cdc706ab7399a868"],["290798c2b6476830da12fe02287e9e777aa3fba1c355b17a722d362f84614fba","e38da76dcd440621988d00bcf79af25d5b29c094db2a23146d003afd41943e7a"],["af3c423a95d9f5b3054754efa150ac39cd29552fe360257362dfdecef4053b45","f98a3fd831eb2b749a93b0e6f35cfb40c8cd5aa667a15581bc2feded498fd9c6"],["766dbb24d134e745cccaa28c99bf274906bb66b26dcf98df8d2fed50d884249a","744b1152eacbe5e38dcc887980da38b897584a65fa06cedd2c924f97cbac5996"],["59dbf46f8c94759ba21277c33784f41645f7b44f6c596a58ce92e666191abe3e","c534ad44175fbc300f4ea6ce648309a042ce739a7919798cd85e216c4a307f6e"],["f13ada95103c4537305e691e74e9a4a8dd647e711a95e73cb62dc6018cfd87b8","e13817b44ee14de663bf4bc808341f326949e21a6a75c2570778419bdaf5733d"],["7754b4fa0e8aced06d4167a2c59cca4cda1869c06ebadfb6488550015a88522c","30e93e864e669d82224b967c3020b8fa8d1e4e350b6cbcc537a48b57841163a2"],["948dcadf5990e048aa3874d46abef9d701858f95de8041d2a6828c99e2262519","e491a42537f6e597d5d28a3224b1bc25df9154efbd2ef1d2cbba2cae5347d57e"],["7962414450c76c1689c7b48f8202ec37fb224cf5ac0bfa1570328a8a3d7c77ab","100b610ec4ffb4760d5c1fc133ef6f6b12507a051f04ac5760afa5b29db83437"],["3514087834964b54b15b160644d915485a16977225b8847bb0dd085137ec47ca","ef0afbb2056205448e1652c48e8127fc6039e77c15c2378b7e7d15a0de293311"],["d3cc30ad6b483e4bc79ce2c9dd8bc54993e947eb8df787b442943d3f7b527eaf","8b378a22d827278d89c5e9be8f9508ae3c2ad46290358630afb34db04eede0a4"],["1624d84780732860ce1c78fcbfefe08b2b29823db913f6493975ba0ff4847610","68651cf9b6da903e0914448c6cd9d4ca896878f5282be4c8cc06e2a404078575"],["733ce80da955a8a26902c95633e62a985192474b5af207da6df7b4fd5fc61cd4","f5435a2bd2badf7d485a4d8b8db9fcce3e1ef8e0201e4578c54673bc1dc5ea1d"],["15d9441254945064cf1a1c33bbd3b49f8966c5092171e699ef258dfab81c045c","d56eb30b69463e7234f5137b73b84177434800bacebfc685fc37bbe9efe4070d"],["a1d0fcf2ec9de675b612136e5ce70d271c21417c9d2b8aaaac138599d0717940","edd77f50bcb5a3cab2e90737309667f2641462a54070f3d519212d39c197a629"],["e22fbe15c0af8ccc5780c0735f84dbe9a790badee8245c06c7ca37331cb36980","a855babad5cd60c88b430a69f53a1a7a38289154964799be43d06d77d31da06"],["311091dd9860e8e20ee13473c1155f5f69635e394704eaa74009452246cfa9b3","66db656f87d1f04fffd1f04788c06830871ec5a64feee685bd80f0b1286d8374"],["34c1fd04d301be89b31c0442d3e6ac24883928b45a9340781867d4232ec2dbdf","9414685e97b1b5954bd46f730174136d57f1ceeb487443dc5321857ba73abee"],["f219ea5d6b54701c1c14de5b557eb42a8d13f3abbcd08affcc2a5e6b049b8d63","4cb95957e83d40b0f73af4544cccf6b1f4b08d3c07b27fb8d8c2962a400766d1"],["d7b8740f74a8fbaab1f683db8f45de26543a5490bca627087236912469a0b448","fa77968128d9c92ee1010f337ad4717eff15db5ed3c049b3411e0315eaa4593b"],["32d31c222f8f6f0ef86f7c98d3a3335ead5bcd32abdd94289fe4d3091aa824bf","5f3032f5892156e39ccd3d7915b9e1da2e6dac9e6f26e961118d14b8462e1661"],["7461f371914ab32671045a155d9831ea8793d77cd59592c4340f86cbc18347b5","8ec0ba238b96bec0cbdddcae0aa442542eee1ff50c986ea6b39847b3cc092ff6"],["ee079adb1df1860074356a25aa38206a6d716b2c3e67453d287698bad7b2b2d6","8dc2412aafe3be5c4c5f37e0ecc5f9f6a446989af04c4e25ebaac479ec1c8c1e"],["16ec93e447ec83f0467b18302ee620f7e65de331874c9dc72bfd8616ba9da6b5","5e4631150e62fb40d0e8c2a7ca5804a39d58186a50e497139626778e25b0674d"],["eaa5f980c245f6f038978290afa70b6bd8855897f98b6aa485b96065d537bd99","f65f5d3e292c2e0819a528391c994624d784869d7e6ea67fb18041024edc07dc"],["78c9407544ac132692ee1910a02439958ae04877151342ea96c4b6b35a49f51","f3e0319169eb9b85d5404795539a5e68fa1fbd583c064d2462b675f194a3ddb4"],["494f4be219a1a77016dcd838431aea0001cdc8ae7a6fc688726578d9702857a5","42242a969283a5f339ba7f075e36ba2af925ce30d767ed6e55f4b031880d562c"],["a598a8030da6d86c6bc7f2f5144ea549d28211ea58faa70ebf4c1e665c1fe9b5","204b5d6f84822c307e4b4a7140737aec23fc63b65b35f86a10026dbd2d864e6b"],["c41916365abb2b5d09192f5f2dbeafec208f020f12570a184dbadc3e58595997","4f14351d0087efa49d245b328984989d5caf9450f34bfc0ed16e96b58fa9913"],["841d6063a586fa475a724604da03bc5b92a2e0d2e0a36acfe4c73a5514742881","73867f59c0659e81904f9a1c7543698e62562d6744c169ce7a36de01a8d6154"],["5e95bb399a6971d376026947f89bde2f282b33810928be4ded112ac4d70e20d5","39f23f366809085beebfc71181313775a99c9aed7d8ba38b161384c746012865"],["36e4641a53948fd476c39f8a99fd974e5ec07564b5315d8bf99471bca0ef2f66","d2424b1b1abe4eb8164227b085c9aa9456ea13493fd563e06fd51cf5694c78fc"],["336581ea7bfbbb290c191a2f507a41cf5643842170e914faeab27c2c579f726","ead12168595fe1be99252129b6e56b3391f7ab1410cd1e0ef3dcdcabd2fda224"],["8ab89816dadfd6b6a1f2634fcf00ec8403781025ed6890c4849742706bd43ede","6fdcef09f2f6d0a044e654aef624136f503d459c3e89845858a47a9129cdd24e"],["1e33f1a746c9c5778133344d9299fcaa20b0938e8acff2544bb40284b8c5fb94","60660257dd11b3aa9c8ed618d24edff2306d320f1d03010e33a7d2057f3b3b6"],["85b7c1dcb3cec1b7ee7f30ded79dd20a0ed1f4cc18cbcfcfa410361fd8f08f31","3d98a9cdd026dd43f39048f25a8847f4fcafad1895d7a633c6fed3c35e999511"],["29df9fbd8d9e46509275f4b125d6d45d7fbe9a3b878a7af872a2800661ac5f51","b4c4fe99c775a606e2d8862179139ffda61dc861c019e55cd2876eb2a27d84b"],["a0b1cae06b0a847a3fea6e671aaf8adfdfe58ca2f768105c8082b2e449fce252","ae434102edde0958ec4b19d917a6a28e6b72da1834aff0e650f049503a296cf2"],["4e8ceafb9b3e9a136dc7ff67e840295b499dfb3b2133e4ba113f2e4c0e121e5","cf2174118c8b6d7a4b48f6d534ce5c79422c086a63460502b827ce62a326683c"],["d24a44e047e19b6f5afb81c7ca2f69080a5076689a010919f42725c2b789a33b","6fb8d5591b466f8fc63db50f1c0f1c69013f996887b8244d2cdec417afea8fa3"],["ea01606a7a6c9cdd249fdfcfacb99584001edd28abbab77b5104e98e8e3b35d4","322af4908c7312b0cfbfe369f7a7b3cdb7d4494bc2823700cfd652188a3ea98d"],["af8addbf2b661c8a6c6328655eb96651252007d8c5ea31be4ad196de8ce2131f","6749e67c029b85f52a034eafd096836b2520818680e26ac8f3dfbcdb71749700"],["e3ae1974566ca06cc516d47e0fb165a674a3dabcfca15e722f0e3450f45889","2aeabe7e4531510116217f07bf4d07300de97e4874f81f533420a72eeb0bd6a4"],["591ee355313d99721cf6993ffed1e3e301993ff3ed258802075ea8ced397e246","b0ea558a113c30bea60fc4775460c7901ff0b053d25ca2bdeee98f1a4be5d196"],["11396d55fda54c49f19aa97318d8da61fa8584e47b084945077cf03255b52984","998c74a8cd45ac01289d5833a7beb4744ff536b01b257be4c5767bea93ea57a4"],["3c5d2a1ba39c5a1790000738c9e0c40b8dcdfd5468754b6405540157e017aa7a","b2284279995a34e2f9d4de7396fc18b80f9b8b9fdd270f6661f79ca4c81bd257"],["cc8704b8a60a0defa3a99a7299f2e9c3fbc395afb04ac078425ef8a1793cc030","bdd46039feed17881d1e0862db347f8cf395b74fc4bcdc4e940b74e3ac1f1b13"],["c533e4f7ea8555aacd9777ac5cad29b97dd4defccc53ee7ea204119b2889b197","6f0a256bc5efdf429a2fb6242f1a43a2d9b925bb4a4b3a26bb8e0f45eb596096"],["c14f8f2ccb27d6f109f6d08d03cc96a69ba8c34eec07bbcf566d48e33da6593","c359d6923bb398f7fd4473e16fe1c28475b740dd098075e6c0e8649113dc3a38"],["a6cbc3046bc6a450bac24789fa17115a4c9739ed75f8f21ce441f72e0b90e6ef","21ae7f4680e889bb130619e2c0f95a360ceb573c70603139862afd617fa9b9f"],["347d6d9a02c48927ebfb86c1359b1caf130a3c0267d11ce6344b39f99d43cc38","60ea7f61a353524d1c987f6ecec92f086d565ab687870cb12689ff1e31c74448"],["da6545d2181db8d983f7dcb375ef5866d47c67b1bf31c8cf855ef7437b72656a","49b96715ab6878a79e78f07ce5680c5d6673051b4935bd897fea824b77dc208a"],["c40747cc9d012cb1a13b8148309c6de7ec25d6945d657146b9d5994b8feb1111","5ca560753be2a12fc6de6caf2cb489565db936156b9514e1bb5e83037e0fa2d4"],["4e42c8ec82c99798ccf3a610be870e78338c7f713348bd34c8203ef4037f3502","7571d74ee5e0fb92a7a8b33a07783341a5492144cc54bcc40a94473693606437"],["3775ab7089bc6af823aba2e1af70b236d251cadb0c86743287522a1b3b0dedea","be52d107bcfa09d8bcb9736a828cfa7fac8db17bf7a76a2c42ad961409018cf7"],["cee31cbf7e34ec379d94fb814d3d775ad954595d1314ba8846959e3e82f74e26","8fd64a14c06b589c26b947ae2bcf6bfa0149ef0be14ed4d80f448a01c43b1c6d"],["b4f9eaea09b6917619f6ea6a4eb5464efddb58fd45b1ebefcdc1a01d08b47986","39e5c9925b5a54b07433a4f18c61726f8bb131c012ca542eb24a8ac07200682a"],["d4263dfc3d2df923a0179a48966d30ce84e2515afc3dccc1b77907792ebcc60e","62dfaf07a0f78feb30e30d6295853ce189e127760ad6cf7fae164e122a208d54"],["48457524820fa65a4f8d35eb6930857c0032acc0a4a2de422233eeda897612c4","25a748ab367979d98733c38a1fa1c2e7dc6cc07db2d60a9ae7a76aaa49bd0f77"],["dfeeef1881101f2cb11644f3a2afdfc2045e19919152923f367a1767c11cceda","ecfb7056cf1de042f9420bab396793c0c390bde74b4bbdff16a83ae09a9a7517"],["6d7ef6b17543f8373c573f44e1f389835d89bcbc6062ced36c82df83b8fae859","cd450ec335438986dfefa10c57fea9bcc521a0959b2d80bbf74b190dca712d10"],["e75605d59102a5a2684500d3b991f2e3f3c88b93225547035af25af66e04541f","f5c54754a8f71ee540b9b48728473e314f729ac5308b06938360990e2bfad125"],["eb98660f4c4dfaa06a2be453d5020bc99a0c2e60abe388457dd43fefb1ed620c","6cb9a8876d9cb8520609af3add26cd20a0a7cd8a9411131ce85f44100099223e"],["13e87b027d8514d35939f2e6892b19922154596941888336dc3563e3b8dba942","fef5a3c68059a6dec5d624114bf1e91aac2b9da568d6abeb2570d55646b8adf1"],["ee163026e9fd6fe017c38f06a5be6fc125424b371ce2708e7bf4491691e5764a","1acb250f255dd61c43d94ccc670d0f58f49ae3fa15b96623e5430da0ad6c62b2"],["b268f5ef9ad51e4d78de3a750c2dc89b1e626d43505867999932e5db33af3d80","5f310d4b3c99b9ebb19f77d41c1dee018cf0d34fd4191614003e945a1216e423"],["ff07f3118a9df035e9fad85eb6c7bfe42b02f01ca99ceea3bf7ffdba93c4750d","438136d603e858a3a5c440c38eccbaddc1d2942114e2eddd4740d098ced1f0d8"],["8d8b9855c7c052a34146fd20ffb658bea4b9f69e0d825ebec16e8c3ce2b526a1","cdb559eedc2d79f926baf44fb84ea4d44bcf50fee51d7ceb30e2e7f463036758"],["52db0b5384dfbf05bfa9d472d7ae26dfe4b851ceca91b1eba54263180da32b63","c3b997d050ee5d423ebaf66a6db9f57b3180c902875679de924b69d84a7b375"],["e62f9490d3d51da6395efd24e80919cc7d0f29c3f3fa48c6fff543becbd43352","6d89ad7ba4876b0b22c2ca280c682862f342c8591f1daf5170e07bfd9ccafa7d"],["7f30ea2476b399b4957509c88f77d0191afa2ff5cb7b14fd6d8e7d65aaab1193","ca5ef7d4b231c94c3b15389a5f6311e9daff7bb67b103e9880ef4bff637acaec"],["5098ff1e1d9f14fb46a210fada6c903fef0fb7b4a1dd1d9ac60a0361800b7a00","9731141d81fc8f8084d37c6e7542006b3ee1b40d60dfe5362a5b132fd17ddc0"],["32b78c7de9ee512a72895be6b9cbefa6e2f3c4ccce445c96b9f2c81e2778ad58","ee1849f513df71e32efc3896ee28260c73bb80547ae2275ba497237794c8753c"],["e2cb74fddc8e9fbcd076eef2a7c72b0ce37d50f08269dfc074b581550547a4f7","d3aa2ed71c9dd2247a62df062736eb0baddea9e36122d2be8641abcb005cc4a4"],["8438447566d4d7bedadc299496ab357426009a35f235cb141be0d99cd10ae3a8","c4e1020916980a4da5d01ac5e6ad330734ef0d7906631c4f2390426b2edd791f"],["4162d488b89402039b584c6fc6c308870587d9c46f660b878ab65c82c711d67e","67163e903236289f776f22c25fb8a3afc1732f2b84b4e95dbda47ae5a0852649"],["3fad3fa84caf0f34f0f89bfd2dcf54fc175d767aec3e50684f3ba4a4bf5f683d","cd1bc7cb6cc407bb2f0ca647c718a730cf71872e7d0d2a53fa20efcdfe61826"],["674f2600a3007a00568c1a7ce05d0816c1fb84bf1370798f1c69532faeb1a86b","299d21f9413f33b3edf43b257004580b70db57da0b182259e09eecc69e0d38a5"],["d32f4da54ade74abb81b815ad1fb3b263d82d6c692714bcff87d29bd5ee9f08f","f9429e738b8e53b968e99016c059707782e14f4535359d582fc416910b3eea87"],["30e4e670435385556e593657135845d36fbb6931f72b08cb1ed954f1e3ce3ff6","462f9bce619898638499350113bbc9b10a878d35da70740dc695a559eb88db7b"],["be2062003c51cc3004682904330e4dee7f3dcd10b01e580bf1971b04d4cad297","62188bc49d61e5428573d48a74e1c655b1c61090905682a0d5558ed72dccb9bc"],["93144423ace3451ed29e0fb9ac2af211cb6e84a601df5993c419859fff5df04a","7c10dfb164c3425f5c71a3f9d7992038f1065224f72bb9d1d902a6d13037b47c"],["b015f8044f5fcbdcf21ca26d6c34fb8197829205c7b7d2a7cb66418c157b112c","ab8c1e086d04e813744a655b2df8d5f83b3cdc6faa3088c1d3aea1454e3a1d5f"],["d5e9e1da649d97d89e4868117a465a3a4f8a18de57a140d36b3f2af341a21b52","4cb04437f391ed73111a13cc1d4dd0db1693465c2240480d8955e8592f27447a"],["d3ae41047dd7ca065dbf8ed77b992439983005cd72e16d6f996a5316d36966bb","bd1aeb21ad22ebb22a10f0303417c6d964f8cdd7df0aca614b10dc14d125ac46"],["463e2763d885f958fc66cdd22800f0a487197d0a82e377b49f80af87c897b065","bfefacdb0e5d0fd7df3a311a94de062b26b80c61fbc97508b79992671ef7ca7f"],["7985fdfd127c0567c6f53ec1bb63ec3158e597c40bfe747c83cddfc910641917","603c12daf3d9862ef2b25fe1de289aed24ed291e0ec6708703a5bd567f32ed03"],["74a1ad6b5f76e39db2dd249410eac7f99e74c59cb83d2d0ed5ff1543da7703e9","cc6157ef18c9c63cd6193d83631bbea0093e0968942e8c33d5737fd790e0db08"],["30682a50703375f602d416664ba19b7fc9bab42c72747463a71d0896b22f6da3","553e04f6b018b4fa6c8f39e7f311d3176290d0e0f19ca73f17714d9977a22ff8"],["9e2158f0d7c0d5f26c3791efefa79597654e7a2b2464f52b1ee6c1347769ef57","712fcdd1b9053f09003a3481fa7762e9ffd7c8ef35a38509e2fbf2629008373"],["176e26989a43c9cfeba4029c202538c28172e566e3c4fce7322857f3be327d66","ed8cc9d04b29eb877d270b4878dc43c19aefd31f4eee09ee7b47834c1fa4b1c3"],["75d46efea3771e6e68abb89a13ad747ecf1892393dfc4f1b7004788c50374da8","9852390a99507679fd0b86fd2b39a868d7efc22151346e1a3ca4726586a6bed8"],["809a20c67d64900ffb698c4c825f6d5f2310fb0451c869345b7319f645605721","9e994980d9917e22b76b061927fa04143d096ccc54963e6a5ebfa5f3f8e286c1"],["1b38903a43f7f114ed4500b4eac7083fdefece1cf29c63528d563446f972c180","4036edc931a60ae889353f77fd53de4a2708b26b6f5da72ad3394119daf408f9"]]}},Pl=He((function(e,t){var r,n=t,i=Nd.assert;function a(e){if("short"===e.type)this.curve=new dl.short(e);else if("edwards"===e.type)this.curve=new dl.edwards(e);else{if("mont"!==e.type)throw new Error("Unknown curve type.");this.curve=new dl.mont(e)}this.g=this.curve.g,this.n=this.curve.n,this.hash=e.hash,i(this.g.validate(),"Invalid curve"),i(this.g.mul(this.n).isInfinity(),"Invalid curve, n*G != O")}function s(e,t){Object.defineProperty(n,e,{configurable:!0,enumerable:!0,get:function(){var r=new a(t);return Object.defineProperty(n,e,{configurable:!0,enumerable:!0,value:r}),r}})}n.PresetCurve=a,s("p192",{type:"short",prime:"p192",p:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff",a:"ffffffff ffffffff ffffffff fffffffe ffffffff fffffffc",b:"64210519 e59c80e7 0fa7e9ab 72243049 feb8deec c146b9b1",n:"ffffffff ffffffff ffffffff 99def836 146bc9b1 b4d22831",hash:Al.sha256,gRed:!1,g:["188da80e b03090f6 7cbf20eb 43a18800 f4ff0afd 82ff1012","07192b95 ffc8da78 631011ed 6b24cdd5 73f977a1 1e794811"]}),s("p224",{type:"short",prime:"p224",p:"ffffffff ffffffff ffffffff ffffffff 00000000 00000000 00000001",a:"ffffffff ffffffff ffffffff fffffffe ffffffff ffffffff fffffffe",b:"b4050a85 0c04b3ab f5413256 5044b0b7 d7bfd8ba 270b3943 2355ffb4",n:"ffffffff ffffffff ffffffff ffff16a2 e0b8f03e 13dd2945 5c5c2a3d",hash:Al.sha256,gRed:!1,g:["b70e0cbd 6bb4bf7f 321390b9 4a03c1d3 56c21122 343280d6 115c1d21","bd376388 b5f723fb 4c22dfe6 cd4375a0 5a074764 44d58199 85007e34"]}),s("p256",{type:"short",prime:null,p:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff ffffffff",a:"ffffffff 00000001 00000000 00000000 00000000 ffffffff ffffffff fffffffc",b:"5ac635d8 aa3a93e7 b3ebbd55 769886bc 651d06b0 cc53b0f6 3bce3c3e 27d2604b",n:"ffffffff 00000000 ffffffff ffffffff bce6faad a7179e84 f3b9cac2 fc632551",hash:Al.sha256,gRed:!1,g:["6b17d1f2 e12c4247 f8bce6e5 63a440f2 77037d81 2deb33a0 f4a13945 d898c296","4fe342e2 fe1a7f9b 8ee7eb4a 7c0f9e16 2bce3357 6b315ece cbb64068 37bf51f5"]}),s("p384",{type:"short",prime:null,p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 ffffffff",a:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe ffffffff 00000000 00000000 fffffffc",b:"b3312fa7 e23ee7e4 988e056b e3f82d19 181d9c6e fe814112 0314088f 5013875a c656398d 8a2ed19d 2a85c8ed d3ec2aef",n:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff c7634d81 f4372ddf 581a0db2 48b0a77a ecec196a ccc52973",hash:Al.sha384,gRed:!1,g:["aa87ca22 be8b0537 8eb1c71e f320ad74 6e1d3b62 8ba79b98 59f741e0 82542a38 5502f25d bf55296c 3a545e38 72760ab7","3617de4a 96262c6f 5d9e98bf 9292dc29 f8f41dbd 289a147c e9da3113 b5f0b8c0 0a60b1ce 1d7e819d 7a431d7c 90ea0e5f"]}),s("p521",{type:"short",prime:null,p:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff",a:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffc",b:"00000051 953eb961 8e1c9a1f 929a21a0 b68540ee a2da725b 99b315f3 b8b48991 8ef109e1 56193951 ec7e937b 1652c0bd 3bb1bf07 3573df88 3d2c34f1 ef451fd4 6b503f00",n:"000001ff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffa 51868783 bf2f966b 7fcc0148 f709a5d0 3bb5c9b8 899c47ae bb6fb71e 91386409",hash:Al.sha512,gRed:!1,g:["000000c6 858e06b7 0404e9cd 9e3ecb66 2395b442 9c648139 053fb521 f828af60 6b4d3dba a14b5e77 efe75928 fe1dc127 a2ffa8de 3348b3c1 856a429b f97e7e31 c2e5bd66","00000118 39296a78 9a3bc004 5c8a5fb4 2c7d1bd9 98f54449 579b4468 17afbd17 273e662c 97ee7299 5ef42640 c550b901 3fad0761 353c7086 a272c240 88be9476 9fd16650"]}),s("curve25519",{type:"mont",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"76d06",b:"1",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:Al.sha256,gRed:!1,g:["9"]}),s("ed25519",{type:"edwards",prime:"p25519",p:"7fffffffffffffff ffffffffffffffff ffffffffffffffff ffffffffffffffed",a:"-1",c:"1",d:"52036cee2b6ffe73 8cc740797779e898 00700a4d4141d8ab 75eb4dca135978a3",n:"1000000000000000 0000000000000000 14def9dea2f79cd6 5812631a5cf5d3ed",cofactor:"8",hash:Al.sha256,gRed:!1,g:["216936d3cd6e53fec0a4e231fdd6dc5c692cc7609525a7b2c9562d608f25d51a","6666666666666666666666666666666666666666666666666666666666666658"]}),s("brainpoolP256r1",{type:"short",prime:null,p:"A9FB57DB A1EEA9BC 3E660A90 9D838D72 6E3BF623 D5262028 2013481D 1F6E5377",a:"7D5A0975 FC2C3057 EEF67530 417AFFE7 FB8055C1 26DC5C6C E94A4B44 F330B5D9",b:"26DC5C6C E94A4B44 F330B5D9 BBD77CBF 95841629 5CF7E1CE 6BCCDC18 FF8C07B6",n:"A9FB57DB A1EEA9BC 3E660A90 9D838D71 8C397AA3 B561A6F7 901E0E82 974856A7",hash:Al.sha256,gRed:!1,g:["8BD2AEB9CB7E57CB2C4B482FFC81B7AFB9DE27E1E3BD23C23A4453BD9ACE3262","547EF835C3DAC4FD97F8461A14611DC9C27745132DED8E545C1D54C72F046997"]}),s("brainpoolP384r1",{type:"short",prime:null,p:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B4 12B1DA19 7FB71123ACD3A729 901D1A71 87470013 3107EC53",a:"7BC382C6 3D8C150C 3C72080A CE05AFA0 C2BEA28E 4FB22787 139165EF BA91F90F8AA5814A 503AD4EB 04A8C7DD 22CE2826",b:"04A8C7DD 22CE2826 8B39B554 16F0447C 2FB77DE1 07DCD2A6 2E880EA5 3EEB62D57CB43902 95DBC994 3AB78696 FA504C11",n:"8CB91E82 A3386D28 0F5D6F7E 50E641DF 152F7109 ED5456B3 1F166E6C AC0425A7CF3AB6AF 6B7FC310 3B883202 E9046565",hash:Al.sha384,gRed:!1,g:["1D1C64F068CF45FFA2A63A81B7C13F6B8847A3E77EF14FE3DB7FCAFE0CBD10E8E826E03436D646AAEF87B2E247D4AF1E","8ABE1D7520F9C2A45CB1EB8E95CFD55262B70B29FEEC5864E19C054FF99129280E4646217791811142820341263C5315"]}),s("brainpoolP512r1",{type:"short",prime:null,p:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 703308717D4D9B00 9BC66842 AECDA12A E6A380E6 2881FF2F 2D82C685 28AA6056 583A48F3",a:"7830A331 8B603B89 E2327145 AC234CC5 94CBDD8D 3DF91610 A83441CA EA9863BC2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A7 2BF2C7B9 E7C1AC4D 77FC94CA",b:"3DF91610 A83441CA EA9863BC 2DED5D5A A8253AA1 0A2EF1C9 8B9AC8B5 7F1117A72BF2C7B9 E7C1AC4D 77FC94CA DC083E67 984050B7 5EBAE5DD 2809BD63 8016F723",n:"AADD9DB8 DBE9C48B 3FD4E6AE 33C9FC07 CB308DB3 B3C9D20E D6639CCA 70330870553E5C41 4CA92619 41866119 7FAC1047 1DB1D381 085DDADD B5879682 9CA90069",hash:Al.sha512,gRed:!1,g:["81AEE4BDD82ED9645A21322E9C4C6A9385ED9F70B5D916C1B43B62EEF4D0098EFF3B1F78E2D0D48D50D1687B93B97D5F7C6D5047406A5E688B352209BCB9F822","7DDE385D566332ECC0EABFA9CF7822FDF209F70024A57B1AA000C55B881F8111B2DCDE494A5F485E5BCA4BD88A2763AED1CA2B2FA8F0540678CD1E0F3AD80892"]});try{r=El}catch(e){r=void 0}s("secp256k1",{type:"short",prime:"k256",p:"ffffffff ffffffff ffffffff ffffffff ffffffff ffffffff fffffffe fffffc2f",a:"0",b:"7",n:"ffffffff ffffffff ffffffff fffffffe baaedce6 af48a03b bfd25e8c d0364141",h:"1",hash:Al.sha256,beta:"7ae96a2b657c07106e64479eac3434e99cf0497512f58995c1396c28719501ee",lambda:"5363ad4cc05c30e0a5261c028812645a122e22ea20816678df02967c1b23bd72",basis:[{a:"3086d221a7d46bcde86c90e49284eb15",b:"-e4437ed6010e88286f547fa90abfe4c3"},{a:"114ca50f7a8e2f3f657c1108d9d44cfd8",b:"3086d221a7d46bcde86c90e49284eb15"}],gRed:!1,g:["79be667ef9dcbbac55a06295ce870b07029bfcdb2dce28d959f2815b16f81798","483ada7726a3c4655da4fbfc0e1108a8fd17b448a68554199c47d08ffb10d4b8",r]})}));function xl(e){if(!(this instanceof xl))return new xl(e);this.hash=e.hash,this.predResist=!!e.predResist,this.outLen=this.hash.outSize,this.minEntropy=e.minEntropy||this.hash.hmacStrength,this._reseed=null,this.reseedInterval=null,this.K=null,this.V=null;var t=jd.toArray(e.entropy,e.entropyEnc||"hex"),r=jd.toArray(e.nonce,e.nonceEnc||"hex"),n=jd.toArray(e.pers,e.persEnc||"hex");je(t.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._init(t,r,n)}var Ml=xl;xl.prototype._init=function(e,t,r){var n=e.concat(t).concat(r);this.K=new Array(this.outLen/8),this.V=new Array(this.outLen/8);for(var i=0;i<this.V.length;i++)this.K[i]=0,this.V[i]=1;this._update(n),this._reseed=1,this.reseedInterval=281474976710656},xl.prototype._hmac=function(){return new Al.hmac(this.hash,this.K)},xl.prototype._update=function(e){var t=this._hmac().update(this.V).update([0]);e&&(t=t.update(e)),this.K=t.digest(),this.V=this._hmac().update(this.V).digest(),e&&(this.K=this._hmac().update(this.V).update([1]).update(e).digest(),this.V=this._hmac().update(this.V).digest())},xl.prototype.reseed=function(e,t,r,n){"string"!=typeof t&&(n=r,r=t,t=null),e=jd.toArray(e,t),r=jd.toArray(r,n),je(e.length>=this.minEntropy/8,"Not enough entropy. Minimum is: "+this.minEntropy+" bits"),this._update(e.concat(r||[])),this._reseed=1},xl.prototype.generate=function(e,t,r,n){if(this._reseed>this.reseedInterval)throw new Error("Reseed is required");"string"!=typeof t&&(n=r,r=t,t=null),r&&(r=jd.toArray(r,n||"hex"),this._update(r));for(var i=[];i.length<e;)this.V=this._hmac().update(this.V).digest(),i=i.concat(this.V);var a=i.slice(0,e);return this._update(r),this._reseed++,jd.encode(a,t)};var Cl=Nd.assert;function Kl(e,t){this.ec=e,this.priv=null,this.pub=null,t.priv&&this._importPrivate(t.priv,t.privEnc),t.pub&&this._importPublic(t.pub,t.pubEnc)}var Dl=Kl;Kl.fromPublic=function(e,t,r){return t instanceof Kl?t:new Kl(e,{pub:t,pubEnc:r})},Kl.fromPrivate=function(e,t,r){return t instanceof Kl?t:new Kl(e,{priv:t,privEnc:r})},Kl.prototype.validate=function(){var e=this.getPublic();return e.isInfinity()?{result:!1,reason:"Invalid public key"}:e.validate()?e.mul(this.ec.curve.n).isInfinity()?{result:!0,reason:null}:{result:!1,reason:"Public key * N != O"}:{result:!1,reason:"Public key is not a point"}},Kl.prototype.getPublic=function(e,t){return this.pub||(this.pub=this.ec.g.mul(this.priv)),e?this.pub.encode(e,t):this.pub},Kl.prototype.getPrivate=function(e){return"hex"===e?this.priv.toString(16,2):this.priv},Kl.prototype._importPrivate=function(e,t){if(this.priv=new qd(e,t||16),"mont"===this.ec.curve.type){var r=this.ec.curve.one,n=r.ushln(252).sub(r).ushln(3);this.priv=this.priv.or(r.ushln(254)),this.priv=this.priv.and(n)}else this.priv=this.priv.umod(this.ec.curve.n)},Kl.prototype._importPublic=function(e,t){if(e.x||e.y)return"mont"===this.ec.curve.type?Cl(e.x,"Need x coordinate"):"short"!==this.ec.curve.type&&"edwards"!==this.ec.curve.type||Cl(e.x&&e.y,"Need both x and y coordinate"),void(this.pub=this.ec.curve.point(e.x,e.y));this.pub=this.ec.curve.decodePoint(e,t)},Kl.prototype.derive=function(e){return e.mul(this.priv).getX()},Kl.prototype.sign=function(e,t,r){return this.ec.sign(e,this,t,r)},Kl.prototype.verify=function(e,t){return this.ec.verify(e,t,this)},Kl.prototype.inspect=function(){return"<Key priv: "+(this.priv&&this.priv.toString(16,2))+" pub: "+(this.pub&&this.pub.inspect())+" >"};var Il=Nd.assert;function Rl(e,t){if(e instanceof Rl)return e;this._importDER(e,t)||(Il(e.r&&e.s,"Signature without r or s"),this.r=new qd(e.r,16),this.s=new qd(e.s,16),void 0===e.recoveryParam?this.recoveryParam=null:this.recoveryParam=e.recoveryParam)}var Ul=Rl;function Bl(){this.place=0}function Tl(e,t){var r=e[t.place++];if(!(128&r))return r;for(var n=15&r,i=0,a=0,s=t.place;a<n;a++,s++)i<<=8,i|=e[s];return t.place=s,i}function zl(e){for(var t=0,r=e.length-1;!e[t]&&!(128&e[t+1])&&t<r;)t++;return 0===t?e:e.slice(t)}function ql(e,t){if(t<128)e.push(t);else{var r=1+(Math.log(t)/Math.LN2>>>3);for(e.push(128|r);--r;)e.push(t>>>(r<<3)&255);e.push(t)}}Rl.prototype._importDER=function(e,t){e=Nd.toArray(e,t);var r=new Bl;if(48!==e[r.place++])return!1;if(Tl(e,r)+r.place!==e.length)return!1;if(2!==e[r.place++])return!1;var n=Tl(e,r),i=e.slice(r.place,n+r.place);if(r.place+=n,2!==e[r.place++])return!1;var a=Tl(e,r);if(e.length!==a+r.place)return!1;var s=e.slice(r.place,a+r.place);return 0===i[0]&&128&i[1]&&(i=i.slice(1)),0===s[0]&&128&s[1]&&(s=s.slice(1)),this.r=new qd(i),this.s=new qd(s),this.recoveryParam=null,!0},Rl.prototype.toDER=function(e){var t=this.r.toArray(),r=this.s.toArray();for(128&t[0]&&(t=[0].concat(t)),128&r[0]&&(r=[0].concat(r)),t=zl(t),r=zl(r);!(r[0]||128&r[1]);)r=r.slice(1);var n=[2];ql(n,t.length),(n=n.concat(t)).push(2),ql(n,r.length);var i=n.concat(r),a=[48];return ql(a,i.length),a=a.concat(i),Nd.encode(a,e)};var Ol=Nd.assert;function Fl(e){if(!(this instanceof Fl))return new Fl(e);"string"==typeof e&&(Ol(Pl.hasOwnProperty(e),"Unknown curve "+e),e=Pl[e]),e instanceof Pl.PresetCurve&&(e={curve:e}),this.curve=e.curve.curve,this.n=this.curve.n,this.nh=this.n.ushrn(1),this.g=this.curve.g,this.g=e.curve.g,this.g.precompute(e.curve.n.bitLength()+1),this.hash=e.hash||e.curve.hash}var Ll=Fl;Fl.prototype.keyPair=function(e){return new Dl(this,e)},Fl.prototype.keyFromPrivate=function(e,t){return Dl.fromPrivate(this,e,t)},Fl.prototype.keyFromPublic=function(e,t){return Dl.fromPublic(this,e,t)},Fl.prototype.genKeyPair=function(e){e||(e={});var t=new Ml({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Wd(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.n.toArray()});if("mont"===this.curve.type){var r=new qd(t.generate(32));return this.keyFromPrivate(r)}for(var n=this.n.byteLength(),i=this.n.sub(new qd(2));;){if(!((r=new qd(t.generate(n))).cmp(i)>0))return r.iaddn(1),this.keyFromPrivate(r)}},Fl.prototype._truncateToN=function(e,t,r){var n=(r=r||8*e.byteLength())-this.n.bitLength();return n>0&&(e=e.ushrn(n)),!t&&e.cmp(this.n)>=0?e.sub(this.n):e},Fl.prototype.truncateMsg=function(e){var t;return e instanceof Uint8Array?(t=8*e.byteLength,e=this._truncateToN(new qd(e,16),!1,t)):"string"==typeof e?(t=4*e.length,e=this._truncateToN(new qd(e,16),!1,t)):e=this._truncateToN(new qd(e,16)),e},Fl.prototype.sign=function(e,t,r,n){"object"==typeof r&&(n=r,r=null),n||(n={}),t=this.keyFromPrivate(t,r),e=this.truncateMsg(e);for(var i=this.n.byteLength(),a=t.getPrivate().toArray("be",i),s=e.toArray("be",i),o=new Ml({hash:this.hash,entropy:a,nonce:s,pers:n.pers,persEnc:n.persEnc||"utf8"}),c=this.n.sub(new qd(1)),u=0;;u++){var h=n.k?n.k(u):new qd(o.generate(this.n.byteLength()));if(!((h=this._truncateToN(h,!0)).cmpn(1)<=0||h.cmp(c)>=0)){var f=this.g.mul(h);if(!f.isInfinity()){var d=f.getX(),l=d.umod(this.n);if(0!==l.cmpn(0)){var p=h.invm(this.n).mul(l.mul(t.getPrivate()).iadd(e));if(0!==(p=p.umod(this.n)).cmpn(0)){var y=(f.getY().isOdd()?1:0)|(0!==d.cmp(l)?2:0);return n.canonical&&p.cmp(this.nh)>0&&(p=this.n.sub(p),y^=1),new Ul({r:l,s:p,recoveryParam:y})}}}}}},Fl.prototype.verify=function(e,t,r,n){return r=this.keyFromPublic(r,n),t=new Ul(t,"hex"),this._verify(this.truncateMsg(e),t,r)||this._verify(this._truncateToN(new qd(e,16)),t,r)},Fl.prototype._verify=function(e,t,r){var n=t.r,i=t.s;if(n.cmpn(1)<0||n.cmp(this.n)>=0)return!1;if(i.cmpn(1)<0||i.cmp(this.n)>=0)return!1;var a,s=i.invm(this.n),o=s.mul(e).umod(this.n),c=s.mul(n).umod(this.n);return this.curve._maxwellTrick?!(a=this.g.jmulAdd(o,r.getPublic(),c)).isInfinity()&&a.eqXToP(n):!(a=this.g.mulAdd(o,r.getPublic(),c)).isInfinity()&&0===a.getX().umod(this.n).cmp(n)},Fl.prototype.recoverPubKey=function(e,t,r,n){Ol((3&r)===r,"The recovery param is more than two bits"),t=new Ul(t,n);var i=this.n,a=new qd(e),s=t.r,o=t.s,c=1&r,u=r>>1;if(s.cmp(this.curve.p.umod(this.curve.n))>=0&&u)throw new Error("Unable to find sencond key candinate");s=u?this.curve.pointFromX(s.add(this.curve.n),c):this.curve.pointFromX(s,c);var h=t.r.invm(i),f=i.sub(a).mul(h).umod(i),d=o.mul(h).umod(i);return this.g.mulAdd(f,s,d)},Fl.prototype.getKeyRecoveryParam=function(e,t,r,n){if(null!==(t=new Ul(t,n)).recoveryParam)return t.recoveryParam;for(var i=0;i<4;i++){var a;try{a=this.recoverPubKey(e,t,i)}catch(e){continue}if(a.eq(r))return i}throw new Error("Unable to find valid recovery factor")};var jl=Nd.assert,Nl=Nd.parseBytes,Wl=Nd.cachedProperty;function Hl(e,t){if(this.eddsa=e,t.hasOwnProperty("secret")&&(this._secret=Nl(t.secret)),e.isPoint(t.pub))this._pub=t.pub;else if(this._pubBytes=Nl(t.pub),this._pubBytes&&33===this._pubBytes.length&&64===this._pubBytes[0]&&(this._pubBytes=this._pubBytes.slice(1,33)),this._pubBytes&&32!==this._pubBytes.length)throw new Error("Unknown point compression format")}Hl.fromPublic=function(e,t){return t instanceof Hl?t:new Hl(e,{pub:t})},Hl.fromSecret=function(e,t){return t instanceof Hl?t:new Hl(e,{secret:t})},Hl.prototype.secret=function(){return this._secret},Wl(Hl,"pubBytes",(function(){return this.eddsa.encodePoint(this.pub())})),Wl(Hl,"pub",(function(){return this._pubBytes?this.eddsa.decodePoint(this._pubBytes):this.eddsa.g.mul(this.priv())})),Wl(Hl,"privBytes",(function(){var e=this.eddsa,t=this.hash(),r=e.encodingLength-1,n=t.slice(0,e.encodingLength);return n[0]&=248,n[r]&=127,n[r]|=64,n})),Wl(Hl,"priv",(function(){return this.eddsa.decodeInt(this.privBytes())})),Wl(Hl,"hash",(function(){return this.eddsa.hash().update(this.secret()).digest()})),Wl(Hl,"messagePrefix",(function(){return this.hash().slice(this.eddsa.encodingLength)})),Hl.prototype.sign=function(e){return jl(this._secret,"KeyPair can only verify"),this.eddsa.sign(e,this)},Hl.prototype.verify=function(e,t){return this.eddsa.verify(e,t,this)},Hl.prototype.getSecret=function(e){return jl(this._secret,"KeyPair is public only"),Nd.encode(this.secret(),e)},Hl.prototype.getPublic=function(e,t){return Nd.encode((t?[64]:[]).concat(this.pubBytes()),e)};var $l=Hl,Gl=Nd.assert,Vl=Nd.cachedProperty,Zl=Nd.parseBytes;function Ql(e,t){this.eddsa=e,"object"!=typeof t&&(t=Zl(t)),Array.isArray(t)&&(t={R:t.slice(0,e.encodingLength),S:t.slice(e.encodingLength)}),Gl(t.R&&t.S,"Signature without R or S"),e.isPoint(t.R)&&(this._R=t.R),t.S instanceof qd&&(this._S=t.S),this._Rencoded=Array.isArray(t.R)?t.R:t.Rencoded,this._Sencoded=Array.isArray(t.S)?t.S:t.Sencoded}Vl(Ql,"S",(function(){return this.eddsa.decodeInt(this.Sencoded())})),Vl(Ql,"R",(function(){return this.eddsa.decodePoint(this.Rencoded())})),Vl(Ql,"Rencoded",(function(){return this.eddsa.encodePoint(this.R())})),Vl(Ql,"Sencoded",(function(){return this.eddsa.encodeInt(this.S())})),Ql.prototype.toBytes=function(){return this.Rencoded().concat(this.Sencoded())},Ql.prototype.toHex=function(){return Nd.encode(this.toBytes(),"hex").toUpperCase()};var Yl=Ql,Xl=Nd.assert,Jl=Nd.parseBytes;function ep(e){if(Xl("ed25519"===e,"only tested with ed25519 so far"),!(this instanceof ep))return new ep(e);e=Pl[e].curve;this.curve=e,this.g=e.g,this.g.precompute(e.n.bitLength()+1),this.pointClass=e.point().constructor,this.encodingLength=Math.ceil(e.n.bitLength()/8),this.hash=Al.sha512}var tp=ep;ep.prototype.sign=function(e,t){e=Jl(e);var r=this.keyFromSecret(t),n=this.hashInt(r.messagePrefix(),e),i=this.g.mul(n),a=this.encodePoint(i),s=this.hashInt(a,r.pubBytes(),e).mul(r.priv()),o=n.add(s).umod(this.curve.n);return this.makeSignature({R:i,S:o,Rencoded:a})},ep.prototype.verify=function(e,t,r){e=Jl(e),t=this.makeSignature(t);var n=this.keyFromPublic(r),i=this.hashInt(t.Rencoded(),n.pubBytes(),e),a=this.g.mul(t.S());return t.R().add(n.pub().mul(i)).eq(a)},ep.prototype.hashInt=function(){for(var e=this.hash(),t=0;t<arguments.length;t++)e.update(arguments[t]);return Nd.intFromLE(e.digest()).umod(this.curve.n)},ep.prototype.keyPair=function(e){return new $l(this,e)},ep.prototype.keyFromPublic=function(e){return $l.fromPublic(this,e)},ep.prototype.keyFromSecret=function(e){return $l.fromSecret(this,e)},ep.prototype.genKeyPair=function(e){e||(e={});var t=new Ml({hash:this.hash,pers:e.pers,persEnc:e.persEnc||"utf8",entropy:e.entropy||Wd(this.hash.hmacStrength),entropyEnc:e.entropy&&e.entropyEnc||"utf8",nonce:this.curve.n.toArray()});return this.keyFromSecret(t.generate(32))},ep.prototype.makeSignature=function(e){return e instanceof Yl?e:new Yl(this,e)},ep.prototype.encodePoint=function(e){var t=e.getY().toArray("le",this.encodingLength);return t[this.encodingLength-1]|=e.getX().isOdd()?128:0,t},ep.prototype.decodePoint=function(e){var t=(e=Nd.parseBytes(e)).length-1,r=e.slice(0,t).concat(-129&e[t]),n=0!=(128&e[t]),i=Nd.intFromLE(r);return this.curve.pointFromY(i,n)},ep.prototype.encodeInt=function(e){return e.toArray("le",this.encodingLength)},ep.prototype.decodeInt=function(e){return Nd.intFromLE(e)},ep.prototype.isPoint=function(e){return e instanceof this.pointClass};var rp=He((function(e,t){var r=t;r.utils=Nd,r.rand=Wd,r.curve=dl,r.curves=Pl,r.ec=Ll,r.eddsa=tp})),np=Object.freeze({__proto__:null,default:rp,__moduleExports:rp});return e.AEADEncryptedDataPacket=AEADEncryptedDataPacket,e.CleartextMessage=CleartextMessage,e.CompressedDataPacket=CompressedDataPacket,e.LiteralDataPacket=LiteralDataPacket,e.MarkerPacket=class MarkerPacket{static get tag(){return Q.packet.marker}read(e){return 80===e[0]&&71===e[1]&&80===e[2]}write(){return new Uint8Array([80,71,80])}},e.Message=Message,e.OnePassSignaturePacket=OnePassSignaturePacket,e.PacketList=PacketList,e.PrivateKey=PrivateKey,e.PublicKey=PublicKey,e.PublicKeyEncryptedSessionKeyPacket=PublicKeyEncryptedSessionKeyPacket,e.PublicKeyPacket=PublicKeyPacket,e.PublicSubkeyPacket=PublicSubkeyPacket,e.SecretKeyPacket=SecretKeyPacket,e.SecretSubkeyPacket=SecretSubkeyPacket,e.Signature=Signature$2,e.SignaturePacket=SignaturePacket,e.Subkey=Subkey,e.SymEncryptedIntegrityProtectedDataPacket=SymEncryptedIntegrityProtectedDataPacket,e.SymEncryptedSessionKeyPacket=SymEncryptedSessionKeyPacket,e.SymmetricallyEncryptedDataPacket=SymmetricallyEncryptedDataPacket,e.TrustPacket=class TrustPacket{static get tag(){return Q.packet.trust}read(){throw new UnsupportedError("Trust packets are not supported")}write(){throw new UnsupportedError("Trust packets are not supported")}},e.UnparseablePacket=UnparseablePacket,e.UserAttributePacket=UserAttributePacket,e.UserIDPacket=UserIDPacket,e.armor=se,e.config=Y,e.createCleartextMessage=async function({text:e,...t}){if(!e)throw new Error("createCleartextMessage: must pass options object containing `text`");if(!j.isString(e))throw new Error("createCleartextMessage: options.text must be a string");const r=Object.keys(t);if(r.length>0)throw new Error(`Unknown option: ${r.join(", ")}`);return new CleartextMessage(e)},e.createMessage=async function({text:e,binary:t,filename:r,date:n=new Date,format:i=(void 0!==e?"utf8":"binary"),...a}){let s=void 0!==e?e:t;if(void 0===s)throw new Error("createMessage: must pass options object containing `text` or `binary`");if(e&&!j.isString(e)&&!j.isStream(e))throw new Error("createMessage: options.text must be a string or stream");if(t&&!j.isUint8Array(t)&&!j.isStream(t))throw new Error("createMessage: options.binary must be a Uint8Array or stream");const o=Object.keys(a);if(o.length>0)throw new Error(`Unknown option: ${o.join(", ")}`);const c=j.isStream(s);c&&(await k(),s=A(s));const u=new LiteralDataPacket(n);void 0!==e?u.setText(s,Q.write(Q.literal,i)):u.setBytes(s,Q.write(Q.literal,i)),void 0!==r&&u.setFilename(r);const h=new PacketList;h.push(u);const f=new Message(h);return f.fromStream=c,f},e.decrypt=async function({message:e,decryptionKeys:t,passwords:r,sessionKeys:n,verificationKeys:i,expectSigned:a=!1,format:s="utf8",signature:o=null,date:c=new Date,config:u,...h}){if(Hc(u={...Y,...u}),Lc(e),i=$c(i),t=$c(t),r=$c(r),n=$c(n),h.privateKeys)throw new Error("The `privateKeys` option has been removed from openpgp.decrypt, pass `decryptionKeys` instead");if(h.publicKeys)throw new Error("The `publicKeys` option has been removed from openpgp.decrypt, pass `verificationKeys` instead");const f=Object.keys(h);if(f.length>0)throw new Error(`Unknown option: ${f.join(", ")}`);try{const h=await e.decrypt(t,r,n,c,u);i||(i=[]);const f={};if(f.signatures=o?await h.verifyDetached(o,i,c,u):await h.verify(i,c,u),f.data="binary"===s?h.getLiteralData():h.getText(),f.filename=h.getFilename(),Vc(f,e),a){if(0===i.length)throw new Error("Verification keys are required to verify message signatures");if(0===f.signatures.length)throw new Error("Message is not signed");f.data=P([f.data,L((async()=>{await j.anyPromise(f.signatures.map((e=>e.verified)))}))])}return f.data=await Gc(f.data,e.fromStream,s),f}catch(e){throw j.wrapError("Error decrypting message",e)}},e.decryptKey=async function({privateKey:e,passphrase:t,config:r,...n}){Hc(r={...Y,...r});const i=Object.keys(n);if(i.length>0)throw new Error(`Unknown option: ${i.join(", ")}`);if(!e.isPrivate())throw new Error("Cannot decrypt a public key");const a=e.clone(!0),s=j.isArray(t)?t:[t];try{return await Promise.all(a.getKeys().map((e=>j.anyPromise(s.map((t=>e.keyPacket.decrypt(t))))))),await a.validate(r),a}catch(e){throw a.clearPrivateParams(),j.wrapError("Error decrypting private key",e)}},e.decryptSessionKeys=async function({message:e,decryptionKeys:t,passwords:r,date:n=new Date,config:i,...a}){if(Hc(i={...Y,...i}),Lc(e),t=$c(t),r=$c(r),a.privateKeys)throw new Error("The `privateKeys` option has been removed from openpgp.decryptSessionKeys, pass `decryptionKeys` instead");const s=Object.keys(a);if(s.length>0)throw new Error(`Unknown option: ${s.join(", ")}`);try{return await e.decryptSessionKeys(t,r,n,i)}catch(e){throw j.wrapError("Error decrypting session keys",e)}},e.encrypt=async function({message:e,encryptionKeys:t,signingKeys:r,passwords:n,sessionKey:i,format:a="armored",signature:s=null,wildcard:o=!1,signingKeyIDs:c=[],encryptionKeyIDs:u=[],date:h=new Date,signingUserIDs:f=[],encryptionUserIDs:d=[],config:l,...p}){if(Hc(l={...Y,...l}),Lc(e),Nc(a),t=$c(t),r=$c(r),n=$c(n),c=$c(c),u=$c(u),f=$c(f),d=$c(d),p.detached)throw new Error("The `detached` option has been removed from openpgp.encrypt, separately call openpgp.sign instead. Don't forget to remove the `privateKeys` option as well.");if(p.publicKeys)throw new Error("The `publicKeys` option has been removed from openpgp.encrypt, pass `encryptionKeys` instead");if(p.privateKeys)throw new Error("The `privateKeys` option has been removed from openpgp.encrypt, pass `signingKeys` instead");if(void 0!==p.armor)throw new Error("The `armor` option has been removed from openpgp.encrypt, pass `format` instead.");const y=Object.keys(p);if(y.length>0)throw new Error(`Unknown option: ${y.join(", ")}`);r||(r=[]);const b=e.fromStream;try{if((r.length||s)&&(e=await e.sign(r,s,c,h,f,l)),e=e.compress(await wc("compression",t,h,d,l),l),e=await e.encrypt(t,n,i,o,u,h,d,l),"object"===a)return e;const p="armored"===a;return Gc(p?e.armor(l):e.write(),b,p?"utf8":"binary")}catch(e){throw j.wrapError("Error encrypting message",e)}},e.encryptKey=async function({privateKey:e,passphrase:t,config:r,...n}){Hc(r={...Y,...r});const i=Object.keys(n);if(i.length>0)throw new Error(`Unknown option: ${i.join(", ")}`);if(!e.isPrivate())throw new Error("Cannot encrypt a public key");const a=e.clone(!0),s=a.getKeys(),o=j.isArray(t)?t:new Array(s.length).fill(t);if(o.length!==s.length)throw new Error("Invalid number of passphrases given for key encryption");try{return await Promise.all(s.map((async(e,t)=>{const{keyPacket:n}=e;await n.encrypt(o[t],r),n.clearPrivateParams()}))),a}catch(e){throw a.clearPrivateParams(),j.wrapError("Error encrypting private key",e)}},e.encryptSessionKey=async function({data:e,algorithm:t,aeadAlgorithm:r,encryptionKeys:n,passwords:i,format:a="armored",wildcard:s=!1,encryptionKeyIDs:o=[],date:c=new Date,encryptionUserIDs:u=[],config:h,...f}){if(Hc(h={...Y,...h}),function(e,t){if(!j.isUint8Array(e))throw new Error("Parameter ["+(t||"data")+"] must be of type Uint8Array")}(e),function(e,t){if(!j.isString(e))throw new Error("Parameter ["+(t||"data")+"] must be of type String")}(t,"algorithm"),Nc(a),n=$c(n),i=$c(i),o=$c(o),u=$c(u),f.publicKeys)throw new Error("The `publicKeys` option has been removed from openpgp.encryptSessionKey, pass `encryptionKeys` instead");const d=Object.keys(f);if(d.length>0)throw new Error(`Unknown option: ${d.join(", ")}`);if(!(n&&0!==n.length||i&&0!==i.length))throw new Error("No encryption keys or passwords provided.");try{return Zc(await Message.encryptSessionKey(e,t,r,n,i,s,o,c,u,h),a,h)}catch(e){throw j.wrapError("Error encrypting session key",e)}},e.enums=Q,e.generateKey=async function({userIDs:e=[],passphrase:t,type:r="ecc",rsaBits:n=4096,curve:i="curve25519",keyExpirationTime:a=0,date:s=new Date,subkeys:o=[{}],format:c="armored",config:u,...h}){Hc(u={...Y,...u}),e=$c(e);const f=Object.keys(h);if(f.length>0)throw new Error(`Unknown option: ${f.join(", ")}`);if(0===e.length)throw new Error("UserIDs are required for key generation");if("rsa"===r&&n<u.minRSABits)throw new Error(`rsaBits should be at least ${u.minRSABits}, got: ${n}`);const d={userIDs:e,passphrase:t,type:r,rsaBits:n,curve:i,keyExpirationTime:a,date:s,subkeys:o};try{const{key:e,revocationCertificate:t}=await async function(e,t){e.sign=!0,(e=Ac(e)).subkeys=e.subkeys.map(((t,r)=>Ac(t,e)));let r=[pc(e,t)];r=r.concat(e.subkeys.map((e=>lc(e,t))));const n=await Promise.all(r),i=await Uc(n[0],n.slice(1),e,t),a=await i.getRevocationCertificate(e.date,t);return i.revocationSignatures=[],{key:i,revocationCertificate:a}}(d,u);return e.getKeys().forEach((({keyPacket:e})=>Mc(e,u))),{privateKey:Zc(e,c,u),publicKey:Zc(e.toPublic(),c,u),revocationCertificate:t}}catch(e){throw j.wrapError("Error generating keypair",e)}},e.generateSessionKey=async function({encryptionKeys:e,date:t=new Date,encryptionUserIDs:r=[],config:n,...i}){if(Hc(n={...Y,...n}),e=$c(e),r=$c(r),i.publicKeys)throw new Error("The `publicKeys` option has been removed from openpgp.generateSessionKey, pass `encryptionKeys` instead");const a=Object.keys(i);if(a.length>0)throw new Error(`Unknown option: ${a.join(", ")}`);try{return await Message.generateSessionKey(e,t,r,n)}catch(e){throw j.wrapError("Error generating session key",e)}},e.readCleartextMessage=async function({cleartextMessage:e,config:t,...r}){if(t={...Y,...t},!e)throw new Error("readCleartextMessage: must pass options object containing `cleartextMessage`");if(!j.isString(e))throw new Error("readCleartextMessage: options.cleartextMessage must be a string");const n=Object.keys(r);if(n.length>0)throw new Error(`Unknown option: ${n.join(", ")}`);const i=await ae(e);if(i.type!==Q.armor.signed)throw new Error("No cleartext signed message.");const a=await PacketList.fromBinary(i.data,Fc,t);!function(e,t){const r=function(e){const r=e=>t=>e.hashAlgorithm===t;for(let n=0;n<t.length;n++)if(t[n].constructor.tag===Q.packet.signature&&!e.some(r(t[n])))return!1;return!0};let n=null,i=[];if(e.forEach((function(e){if(n=e.match(/Hash: (.+)/),!n)throw new Error('Only "Hash" header allowed in cleartext signed message');n=n[1].replace(/\s/g,""),n=n.split(","),n=n.map((function(e){e=e.toLowerCase();try{return Q.write(Q.hash,e)}catch(t){throw new Error("Unknown hash algorithm in armor header: "+e)}})),i=i.concat(n)})),!i.length&&!r([Q.hash.md5]))throw new Error('If no "Hash" header in cleartext signed message, then only MD5 signatures allowed');if(i.length&&!r(i))throw new Error("Hash algorithm mismatch in armor header and signature")}(i.headers,a);const s=new Signature$2(a);return new CleartextMessage(i.text,s)},e.readKey=async function({armoredKey:e,binaryKey:t,config:r,...n}){if(r={...Y,...r},!e&&!t)throw new Error("readKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!j.isString(e))throw new Error("readKey: options.armoredKey must be a string");if(t&&!j.isUint8Array(t))throw new Error("readKey: options.binaryKey must be a Uint8Array");const i=Object.keys(n);if(i.length>0)throw new Error(`Unknown option: ${i.join(", ")}`);let a;if(e){const{type:t,data:n}=await ae(e,r);if(t!==Q.armor.publicKey&&t!==Q.armor.privateKey)throw new Error("Armored text not of type key");a=n}else a=t;return Ic(await PacketList.fromBinary(a,Rc,r))},e.readKeys=async function({armoredKeys:e,binaryKeys:t,config:r,...n}){r={...Y,...r};let i=e||t;if(!i)throw new Error("readKeys: must pass options object containing `armoredKeys` or `binaryKeys`");if(e&&!j.isString(e))throw new Error("readKeys: options.armoredKeys must be a string");if(t&&!j.isUint8Array(t))throw new Error("readKeys: options.binaryKeys must be a Uint8Array");const a=Object.keys(n);if(a.length>0)throw new Error(`Unknown option: ${a.join(", ")}`);if(e){const{type:t,data:n}=await ae(e,r);if(t!==Q.armor.publicKey&&t!==Q.armor.privateKey)throw new Error("Armored text not of type key");i=n}const s=[],o=await PacketList.fromBinary(i,Rc,r),c=o.indexOfTag(Q.packet.publicKey,Q.packet.secretKey);if(0===c.length)throw new Error("No key packet found");for(let e=0;e<c.length;e++){const t=Ic(o.slice(c[e],c[e+1]));s.push(t)}return s},e.readMessage=async function({armoredMessage:e,binaryMessage:t,config:r,...n}){r={...Y,...r};let i=e||t;if(!i)throw new Error("readMessage: must pass options object containing `armoredMessage` or `binaryMessage`");if(e&&!j.isString(e)&&!j.isStream(e))throw new Error("readMessage: options.armoredMessage must be a string or stream");if(t&&!j.isUint8Array(t)&&!j.isStream(t))throw new Error("readMessage: options.binaryMessage must be a Uint8Array or stream");const a=Object.keys(n);if(a.length>0)throw new Error(`Unknown option: ${a.join(", ")}`);const s=j.isStream(i);if(s&&(await k(),i=A(i)),e){const{type:e,data:t}=await ae(i,r);if(e!==Q.armor.message)throw new Error("Armored text not of type message");i=t}const o=await PacketList.fromBinary(i,Bc,r),c=new Message(o);return c.fromStream=s,c},e.readPrivateKey=async function({armoredKey:e,binaryKey:t,config:r,...n}){if(r={...Y,...r},!e&&!t)throw new Error("readPrivateKey: must pass options object containing `armoredKey` or `binaryKey`");if(e&&!j.isString(e))throw new Error("readPrivateKey: options.armoredKey must be a string");if(t&&!j.isUint8Array(t))throw new Error("readPrivateKey: options.binaryKey must be a Uint8Array");const i=Object.keys(n);if(i.length>0)throw new Error(`Unknown option: ${i.join(", ")}`);let a;if(e){const{type:t,data:n}=await ae(e,r);if(t!==Q.armor.privateKey)throw new Error("Armored text not of type private key");a=n}else a=t;const s=await PacketList.fromBinary(a,Rc,r);return new PrivateKey(s)},e.readPrivateKeys=async function({armoredKeys:e,binaryKeys:t,config:r}){r={...Y,...r};let n=e||t;if(!n)throw new Error("readPrivateKeys: must pass options object containing `armoredKeys` or `binaryKeys`");if(e&&!j.isString(e))throw new Error("readPrivateKeys: options.armoredKeys must be a string");if(t&&!j.isUint8Array(t))throw new Error("readPrivateKeys: options.binaryKeys must be a Uint8Array");if(e){const{type:t,data:i}=await ae(e,r);if(t!==Q.armor.privateKey)throw new Error("Armored text not of type private key");n=i}const i=[],a=await PacketList.fromBinary(n,Rc,r),s=a.indexOfTag(Q.packet.secretKey);if(0===s.length)throw new Error("No secret key packet found");for(let e=0;e<s.length;e++){const t=a.slice(s[e],s[e+1]),r=new PrivateKey(t);i.push(r)}return i},e.readSignature=async function({armoredSignature:e,binarySignature:t,config:r,...n}){r={...Y,...r};let i=e||t;if(!i)throw new Error("readSignature: must pass options object containing `armoredSignature` or `binarySignature`");if(e&&!j.isString(e))throw new Error("readSignature: options.armoredSignature must be a string");if(t&&!j.isUint8Array(t))throw new Error("readSignature: options.binarySignature must be a Uint8Array");const a=Object.keys(n);if(a.length>0)throw new Error(`Unknown option: ${a.join(", ")}`);if(e){const{type:e,data:t}=await ae(i,r);if(e!==Q.armor.signature)throw new Error("Armored text not of type signature");i=t}const s=await PacketList.fromBinary(i,dc,r);return new Signature$2(s)},e.reformatKey=async function({privateKey:e,userIDs:t=[],passphrase:r,keyExpirationTime:n=0,date:i,format:a="armored",config:s,...o}){Hc(s={...Y,...s}),t=$c(t);const c=Object.keys(o);if(c.length>0)throw new Error(`Unknown option: ${c.join(", ")}`);if(0===t.length)throw new Error("UserIDs are required for key reformat");const u={privateKey:e,userIDs:t,passphrase:r,keyExpirationTime:n,date:i};try{const{key:e,revocationCertificate:t}=await async function(e,t){e=o(e);const{privateKey:r}=e;if(!r.isPrivate())throw new Error("Cannot reformat a public key");if(r.keyPacket.isDummy())throw new Error("Cannot reformat a gnu-dummy primary key");if(!r.getKeys().every((({keyPacket:e})=>e.isDecrypted())))throw new Error("Key is not decrypted");const n=r.keyPacket;e.subkeys||(e.subkeys=await Promise.all(r.subkeys.map((async e=>{const r=e.keyPacket,i={key:n,bind:r},a=await yc(e.bindingSignatures,n,Q.signature.subkeyBinding,i,null,t).catch((()=>({})));return{sign:a.keyFlags&&a.keyFlags[0]&Q.keyFlags.signData}}))));const i=r.subkeys.map((e=>e.keyPacket));if(e.subkeys.length!==i.length)throw new Error("Number of subkey options does not match number of subkeys");e.subkeys=e.subkeys.map((t=>o(t,e)));const a=await Uc(n,i,e,t),s=await a.getRevocationCertificate(e.date,t);return a.revocationSignatures=[],{key:a,revocationCertificate:s};function o(e,t={}){return e.keyExpirationTime=e.keyExpirationTime||t.keyExpirationTime,e.passphrase=j.isString(e.passphrase)?e.passphrase:t.passphrase,e.date=e.date||t.date,e}}(u,s);return{privateKey:Zc(e,a,s),publicKey:Zc(e.toPublic(),a,s),revocationCertificate:t}}catch(e){throw j.wrapError("Error reformatting keypair",e)}},e.revokeKey=async function({key:e,revocationCertificate:t,reasonForRevocation:r,date:n=new Date,format:i="armored",config:a,...s}){Hc(a={...Y,...a});const o=Object.keys(s);if(o.length>0)throw new Error(`Unknown option: ${o.join(", ")}`);try{const s=t?await e.applyRevocationCertificate(t,n,a):await e.revoke(r,n,a);return s.isPrivate()?{privateKey:Zc(s,i,a),publicKey:Zc(s.toPublic(),i,a)}:{privateKey:null,publicKey:Zc(s,i,a)}}catch(e){throw j.wrapError("Error revoking key",e)}},e.sign=async function({message:e,signingKeys:t,format:r="armored",detached:n=!1,signingKeyIDs:i=[],date:a=new Date,signingUserIDs:s=[],config:o,...c}){if(Hc(o={...Y,...o}),jc(e),Nc(r),t=$c(t),i=$c(i),s=$c(s),c.privateKeys)throw new Error("The `privateKeys` option has been removed from openpgp.sign, pass `signingKeys` instead");if(void 0!==c.armor)throw new Error("The `armor` option has been removed from openpgp.sign, pass `format` instead.");const u=Object.keys(c);if(u.length>0)throw new Error(`Unknown option: ${u.join(", ")}`);if(e instanceof CleartextMessage&&"binary"===r)throw new Error("Cannot return signed cleartext message in binary format");if(e instanceof CleartextMessage&&n)throw new Error("Cannot detach-sign a cleartext message");if(!t||0===t.length)throw new Error("No signing keys provided");try{let c;if(c=n?await e.signDetached(t,void 0,i,a,s,o):await e.sign(t,void 0,i,a,s,o),"object"===r)return c;const u="armored"===r;return c=u?c.armor(o):c.write(),n&&(c=R(e.packets.write(),(async(e,t)=>{await Promise.all([C(c,t),O(e).catch((()=>{}))])}))),Gc(c,e.fromStream,u?"utf8":"binary")}catch(e){throw j.wrapError("Error signing message",e)}},e.unarmor=ae,e.verify=async function({message:e,verificationKeys:t,expectSigned:r=!1,format:n="utf8",signature:i=null,date:a=new Date,config:s,...o}){if(Hc(s={...Y,...s}),jc(e),t=$c(t),o.publicKeys)throw new Error("The `publicKeys` option has been removed from openpgp.verify, pass `verificationKeys` instead");const c=Object.keys(o);if(c.length>0)throw new Error(`Unknown option: ${c.join(", ")}`);if(e instanceof CleartextMessage&&"binary"===n)throw new Error("Can't return cleartext message data as binary");if(e instanceof CleartextMessage&&i)throw new Error("Can't verify detached cleartext signature");try{const o={};if(o.signatures=i?await e.verifyDetached(i,t,a,s):await e.verify(t,a,s),o.data="binary"===n?e.getLiteralData():e.getText(),e.fromStream&&Vc(o,e),r){if(0===o.signatures.length)throw new Error("Message is not signed");o.data=P([o.data,L((async()=>{await j.anyPromise(o.signatures.map((e=>e.verified)))}))])}return o.data=await Gc(o.data,e.fromStream,n),o}catch(e){throw j.wrapError("Error verifying signed message",e)}},Object.defineProperty(e,"__esModule",{value:!0}),e}({});
